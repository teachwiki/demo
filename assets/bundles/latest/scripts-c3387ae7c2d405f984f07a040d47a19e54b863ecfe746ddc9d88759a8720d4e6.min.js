(self.webpackJsonp=self.webpackJsonp||[]).push([["scripts"],{"./app/javascripts/application.js":function(e,t,n){"use strict";n.r(t);n("./node_modules/@shopify/polyfills/dist/src/base.js");var r=n("./node_modules/@shopify/marketing-assets/dist/javascripts/index.js"),i=(n("./node_modules/what-input/dist/what-input.js"),n("./app/javascripts/utils/bugsnag.js")),o=n("./app/javascripts/modules/animations.js"),s=n("./app/javascripts/modules/navigation.js"),a=n("./app/javascripts/modules/forms.js"),c=n("./app/javascripts/modules/hero.js"),u=n("./app/javascripts/modules/modals.js"),l=n("./app/javascripts/modules/messages.js"),d=n("./app/javascripts/modules/videos.js"),f=n("./node_modules/matter-js/build/matter.js"),p=n("./app/javascripts/utils/isInViewport.js");function h(e=1,t=10,n=0){const r=Math.random()<.5?(1-Math.random())*(t-e)+e:Math.random()*(t-e)+e,i=Math.pow(10,n);return Math.round(r*i)/i}function m(){const e=[...document.querySelectorAll(".js-map__stars")];let t,n=!1,i=!1;function o(){if(i)return!1;const e=document.querySelector(".map-outer-wrapper");return Object(p.a)(e)&&!n?s(!0):!Object(p.a)(e)&&n&&s(),!1}function s(r=!1){if(n=r,r)t=setInterval(a,300*h(1,3));else{clearInterval(t);for(const t of e)t.classList.remove("js-animate")}}function a(){const t=e.filter(e=>!e.classList.contains("js-animate")),n=t[h(0,t.length-1)];return 0!==t.length&&(function(e){const t=h(.1,.4,1);e.style.setProperty("--animation-delay","".concat(t,"s"))}(n),n.classList.add("js-animate"),setTimeout(()=>{n.classList.remove("js-animate")},2e3),!1)}return window.addEventListener("scroll",Object(r.debounce)(o,25)),o(),function(){const e=document.querySelector(".js-map__button");e.addEventListener("click",()=>{"true"===e.getAttribute("aria-pressed")?(s(!0),i=!1,e.setAttribute("aria-pressed","false")):(s(),i=!0,e.setAttribute("aria-pressed","true"))})}(),!1}var g=n("./app/javascripts/utils/userPrefersReducedMotion.js");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(){return!!document.body.classList.contains("page--home")&&(function(){const e=document.getElementById("smashCanvas"),t=[],n={width:720,height:500,centerX:360,borderWidth:40},r=f.Engine.create(),i=f.Render.create({element:e,engine:r,options:{width:n.width,height:n.height,background:"transparent",wireframes:!1,showAngleIndicator:!1}}),o=document.getElementsByClassName("js-smash-flag")[0];function s(){f.Engine.clear(r),f.Render.stop(i)}function a(e,n,r,i,o={}){t.push(f.Bodies.rectangle(e,n,r,i,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({friction:1,frictionAir:0,render:{fillStyle:"transparent",strokeStyle:"#8d9091",lineWidth:3,opacity:.7}},o)))}t.push(f.Bodies.circle(n.width/2,-500,75,{density:.01,force:{x:0,y:5},friction:1,frictionAir:0,frictionStatic:5,restitution:.2,render:{fillStyle:"transparent",strokeStyle:"#1238bf",lineWidth:3}})),a(n.centerX-200,n.height-n.borderWidth,20,70),a(n.centerX-158,n.height-n.borderWidth+15,40,40),a(n.centerX-115,n.height-n.borderWidth-94,10,10),a(n.centerX-145,n.height-n.borderWidth-89,10,10),a(n.centerX-140,n.height-n.borderWidth-71,20,20),a(n.centerX-110,n.height-n.borderWidth-73,25,25),a(n.centerX-100,n.height-n.borderWidth,70,70),a(n.centerX-80,n.height-n.borderWidth-48,140,20),a(n.centerX+80,n.height-n.borderWidth-43,140,20),a(n.centerX+100,n.height-n.borderWidth,60,60),a(n.centerX+110,n.height-n.borderWidth-69,25,25),a(n.centerX+115,n.height-n.borderWidth-89,10,10),a(n.centerX+140,n.height-n.borderWidth-66,20,20),a(n.centerX+145,n.height-n.borderWidth-85,10,10),a(n.centerX+175,n.height-n.borderWidth-40,30,140),a(n.centerX+205,n.height-n.borderWidth+20,20,20),a(n.width/2,n.height-n.borderWidth/2,n.width,n.borderWidth,{isStatic:!0,render:{visible:!1}}),a(n.borderWidth/2,n.height/2,n.borderWidth,2*n.height,{isStatic:!0,render:{visible:!1}}),a(n.width-n.borderWidth/2,n.height/2,n.borderWidth,2*n.height,{isStatic:!0,render:{visible:!1}}),f.World.add(r.world,t),f.Render.run(i),s(),window.addEventListener("scroll",(function e(){if(!Object(p.a)(o))return!1;const t=Object(g.a)()?1780:5e3;return window.removeEventListener("scroll",e),f.Engine.run(r),f.Render.run(i),setTimeout(()=>{s()},t),!1}))}(),m(),!1)}var _,x,w,S,A,C,O,k,j=n("./node_modules/gsap/gsap-core.js"),E={},T=180/Math.PI,M=Math.PI/180,P=Math.atan2,B=/([A-Z])/g,L=/(?:left|right|width|margin|padding|x)/i,I=/[\s,\(]\S/,R={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},q=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},D=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},N=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},V=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},F=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},W=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},z=function(e,t,n){return e.style[t]=n},H=function(e,t,n){return e.style.setProperty(t,n)},X=function(e,t,n){return e._gsap[t]=n},U=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},G=function(e,t,n,r,i){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(i,o)},Y=function(e,t,n,r,i){var o=e._gsap;o[t]=n,o.renderTransform(i,o)},K="transform",$=K+"Origin",J=function(e,t){var n=x.createElementNS?x.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):x.createElement(e);return n.style?n:x.createElement(e)},Q=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(B,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,ee(n)||n,1)||""},Z="O,Moz,ms,Ms,Webkit".split(","),ee=function(e,t,n){var r=(t||A).style,i=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(Z[i]+e in r););return i<0?null:(3===i?"ms":i>=0?Z[i]:"")+e},te=function(){"undefined"!=typeof window&&window.document&&(_=window,x=_.document,w=x.documentElement,A=J("div")||{style:{}},C=J("div"),K=ee(K),$=K+"Origin",A.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",k=!!ee("perspective"),S=1)},ne=function e(t){var n,r=J("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,o=this.nextSibling,s=this.style.cssText;if(w.appendChild(r),r.appendChild(this),this.style.display="block",t)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(a){}else this._gsapBBox&&(n=this._gsapBBox());return i&&(o?i.insertBefore(this,o):i.appendChild(this)),w.removeChild(r),this.style.cssText=s,n},re=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},ie=function(e){var t;try{t=e.getBBox()}catch(n){t=ne.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===ne||(t=ne.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+re(e,["x","cx","x1"])||0,y:+re(e,["y","cy","y1"])||0,width:0,height:0}},oe=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!ie(e))},se=function(e,t){if(t){var n=e.style;t in E&&t!==$&&(t=K),n.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),n.removeProperty(t.replace(B,"-$1").toLowerCase())):n.removeAttribute(t)}},ae=function(e,t,n,r,i,o){var s=new j.c(e._pt,t,n,0,1,o?W:F);return e._pt=s,s.b=r,s.e=i,e._props.push(n),s},ce={deg:1,rad:1,turn:1},ue=function e(t,n,r,i){var o,s,a,c,u=parseFloat(r)||0,l=(r+"").trim().substr((u+"").length)||"px",d=A.style,f=L.test(n),p="svg"===t.tagName.toLowerCase(),h=(p?"client":"offset")+(f?"Width":"Height"),m="px"===i,g="%"===i;return i===l||!u||ce[i]||ce[l]?u:("px"!==l&&!m&&(u=e(t,n,r,"px")),c=t.getCTM&&oe(t),g&&(E[n]||~n.indexOf("adius"))?Object(j.w)(u/(c?t.getBBox()[f?"width":"height"]:t[h])*100):(d[f?"width":"height"]=100+(m?l:i),s=~n.indexOf("adius")||"em"===i&&t.appendChild&&!p?t:t.parentNode,c&&(s=(t.ownerSVGElement||{}).parentNode),s&&s!==x&&s.appendChild||(s=x.body),(a=s._gsap)&&g&&a.width&&f&&a.time===j.y.time?Object(j.w)(u/a.width*100):((g||"%"===l)&&(d.position=Q(t,"position")),s===t&&(d.position="static"),s.appendChild(A),o=A[h],s.removeChild(A),d.position="absolute",f&&g&&((a=Object(j.k)(s)).time=j.y.time,a.width=s[h]),Object(j.w)(m?o*u/100:o&&u?100/o*u:0))))},le=function(e,t,n,r){var i;return S||te(),t in R&&"transform"!==t&&~(t=R[t]).indexOf(",")&&(t=t.split(",")[0]),E[t]&&"transform"!==t?(i=xe(e,r),i="transformOrigin"!==t?i[t]:we(Q(e,$))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=he[t]&&he[t](e,t,n)||Q(e,t)||Object(j.l)(e,t)||("opacity"===t?1:0)),n&&!~(i+"").indexOf(" ")?ue(e,t,i,n)+n:i},de=function(e,t,n,r){if(!n||"none"===n){var i=ee(t,e,1),o=i&&Q(e,i,1);o&&o!==n?(t=i,n=o):"borderColor"===t&&(n=Q(e,"borderTopColor"))}var s,a,c,u,l,d,f,p,h,m,g,v,y=new j.c(this._pt,e.style,t,0,1,j.u),b=0,_=0;if(y.b=n,y.e=r,n+="","auto"===(r+="")&&(e.style[t]=r,r=Q(e,t)||r,e.style[t]=n),s=[n,r],Object(j.h)(s),r=s[1],c=(n=s[0]).match(j.r)||[],(r.match(j.r)||[]).length){for(;a=j.r.exec(r);)f=a[0],h=r.substring(b,a.index),l?l=(l+1)%5:"rgba("!==h.substr(-5)&&"hsla("!==h.substr(-5)||(l=1),f!==(d=c[_++]||"")&&(u=parseFloat(d)||0,g=d.substr((u+"").length),(v="="===f.charAt(1)?+(f.charAt(0)+"1"):0)&&(f=f.substr(2)),p=parseFloat(f),m=f.substr((p+"").length),b=j.r.lastIndex-m.length,m||(m=m||j.i.units[t]||g,b===r.length&&(r+=m,y.e+=m)),g!==m&&(u=ue(e,t,d,m)||0),y._pt={_next:y._pt,p:h||1===_?h:",",s:u,c:v?v*p:p-u,m:l&&l<4?Math.round:0});y.c=b<r.length?r.substring(b,r.length):""}else y.r="display"===t&&"none"===r?W:F;return j.t.test(r)&&(y.e=0),this._pt=y,y},fe={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},pe=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,o=t.t,s=o.style,a=t.u,c=o._gsap;if("all"===a||!0===a)s.cssText="",r=1;else for(i=(a=a.split(",")).length;--i>-1;)n=a[i],E[n]&&(r=1,n="transformOrigin"===n?$:K),se(o,n);r&&(se(o,K),c&&(c.svg&&o.removeAttribute("transform"),xe(o,1),c.uncache=1))}},he={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var o=e._pt=new j.c(e._pt,t,n,0,0,pe);return o.u=r,o.pr=-10,o.tween=i,e._props.push(n),1}}},me=[1,0,0,1,0,0],ge={},ve=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},ye=function(e){var t=Q(e,K);return ve(t)?me:t.substr(7).match(j.q).map(j.w)},be=function(e,t){var n,r,i,o,s=e._gsap||Object(j.k)(e),a=e.style,c=ye(e);return s.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(c=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?me:c:(c!==me||e.offsetParent||e===w||s.svg||(i=a.display,a.display="block",(n=e.parentNode)&&e.offsetParent||(o=1,r=e.nextSibling,w.appendChild(e)),c=ye(e),i?a.display=i:se(e,"display"),o&&(r?n.insertBefore(e,r):n?n.appendChild(e):w.removeChild(e))),t&&c.length>6?[c[0],c[1],c[4],c[5],c[12],c[13]]:c)},_e=function(e,t,n,r,i,o){var s,a,c,u=e._gsap,l=i||be(e,!0),d=u.xOrigin||0,f=u.yOrigin||0,p=u.xOffset||0,h=u.yOffset||0,m=l[0],g=l[1],v=l[2],y=l[3],b=l[4],_=l[5],x=t.split(" "),w=parseFloat(x[0])||0,S=parseFloat(x[1])||0;n?l!==me&&(a=m*y-g*v)&&(c=w*(-g/a)+S*(m/a)-(m*_-g*b)/a,w=w*(y/a)+S*(-v/a)+(v*_-y*b)/a,S=c):(w=(s=ie(e)).x+(~x[0].indexOf("%")?w/100*s.width:w),S=s.y+(~(x[1]||x[0]).indexOf("%")?S/100*s.height:S)),r||!1!==r&&u.smooth?(b=w-d,_=S-f,u.xOffset=p+(b*m+_*v)-b,u.yOffset=h+(b*g+_*y)-_):u.xOffset=u.yOffset=0,u.xOrigin=w,u.yOrigin=S,u.smooth=!!r,u.origin=t,u.originIsAbsolute=!!n,e.style[$]="0px 0px",o&&(ae(o,u,"xOrigin",d,w),ae(o,u,"yOrigin",f,S),ae(o,u,"xOffset",p,u.xOffset),ae(o,u,"yOffset",h,u.yOffset)),e.setAttribute("data-svg-origin",w+" "+S)},xe=function(e,t){var n=e._gsap||new j.b(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,o,s,a,c,u,l,d,f,p,h,m,g,v,y,b,_,x,w,S,A,C,O,E,B,L,I,R,q,D,N,V=e.style,F=n.scaleX<0,W=Q(e,$)||"0";return r=i=o=c=u=l=d=f=p=0,s=a=1,n.svg=!(!e.getCTM||!oe(e)),g=be(e,n.svg),n.svg&&(O=!n.uncache&&e.getAttribute("data-svg-origin"),_e(e,O||W,!!O||n.originIsAbsolute,!1!==n.smooth,g)),h=n.xOrigin||0,m=n.yOrigin||0,g!==me&&(_=g[0],x=g[1],w=g[2],S=g[3],r=A=g[4],i=C=g[5],6===g.length?(s=Math.sqrt(_*_+x*x),a=Math.sqrt(S*S+w*w),c=_||x?P(x,_)*T:0,(d=w||S?P(w,S)*T+c:0)&&(a*=Math.cos(d*M)),n.svg&&(r-=h-(h*_+m*w),i-=m-(h*x+m*S))):(N=g[6],q=g[7],L=g[8],I=g[9],R=g[10],D=g[11],r=g[12],i=g[13],o=g[14],u=(v=P(N,R))*T,v&&(O=A*(y=Math.cos(-v))+L*(b=Math.sin(-v)),E=C*y+I*b,B=N*y+R*b,L=A*-b+L*y,I=C*-b+I*y,R=N*-b+R*y,D=q*-b+D*y,A=O,C=E,N=B),l=(v=P(-w,R))*T,v&&(y=Math.cos(-v),D=S*(b=Math.sin(-v))+D*y,_=O=_*y-L*b,x=E=x*y-I*b,w=B=w*y-R*b),c=(v=P(x,_))*T,v&&(O=_*(y=Math.cos(v))+x*(b=Math.sin(v)),E=A*y+C*b,x=x*y-_*b,C=C*y-A*b,_=O,A=E),u&&Math.abs(u)+Math.abs(c)>359.9&&(u=c=0,l=180-l),s=Object(j.w)(Math.sqrt(_*_+x*x+w*w)),a=Object(j.w)(Math.sqrt(C*C+N*N)),v=P(A,C),d=Math.abs(v)>2e-4?v*T:0,p=D?1/(D<0?-D:D):0),n.svg&&(O=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!ve(Q(e,K)),O&&e.setAttribute("transform",O))),Math.abs(d)>90&&Math.abs(d)<270&&(F?(s*=-1,d+=c<=0?180:-180,c+=c<=0?180:-180):(a*=-1,d+=d<=0?180:-180)),n.x=((n.xPercent=r&&Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)?0:r)+"px",n.y=((n.yPercent=i&&Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)?0:i)+"px",n.z=o+"px",n.scaleX=Object(j.w)(s),n.scaleY=Object(j.w)(a),n.rotation=Object(j.w)(c)+"deg",n.rotationX=Object(j.w)(u)+"deg",n.rotationY=Object(j.w)(l)+"deg",n.skewX=d+"deg",n.skewY=f+"deg",n.transformPerspective=p+"px",(n.zOrigin=parseFloat(W.split(" ")[2])||0)&&(V[$]=we(W)),n.xOffset=n.yOffset=0,n.force3D=j.i.force3D,n.renderTransform=n.svg?Oe:k?Ce:Ae,n.uncache=0,n},we=function(e){return(e=e.split(" "))[0]+" "+e[1]},Se=function(e,t,n){var r=Object(j.z)(t);return Object(j.w)(parseFloat(t)+parseFloat(ue(e,"x",n+"px",r)))+r},Ae=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Ce(e,t)},Ce=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,o=n.x,s=n.y,a=n.z,c=n.rotation,u=n.rotationY,l=n.rotationX,d=n.skewX,f=n.skewY,p=n.scaleX,h=n.scaleY,m=n.transformPerspective,g=n.force3D,v=n.target,y=n.zOrigin,b="",_="auto"===g&&e&&1!==e||!0===g;if(y&&("0deg"!==l||"0deg"!==u)){var x,w=parseFloat(u)*M,S=Math.sin(w),A=Math.cos(w);w=parseFloat(l)*M,x=Math.cos(w),o=Se(v,o,S*x*-y),s=Se(v,s,-Math.sin(w)*-y),a=Se(v,a,A*x*-y+y)}"0px"!==m&&(b+="perspective("+m+") "),(r||i)&&(b+="translate("+r+"%, "+i+"%) "),(_||"0px"!==o||"0px"!==s||"0px"!==a)&&(b+="0px"!==a||_?"translate3d("+o+", "+s+", "+a+") ":"translate("+o+", "+s+") "),"0deg"!==c&&(b+="rotate("+c+") "),"0deg"!==u&&(b+="rotateY("+u+") "),"0deg"!==l&&(b+="rotateX("+l+") "),"0deg"===d&&"0deg"===f||(b+="skew("+d+", "+f+") "),1===p&&1===h||(b+="scale("+p+", "+h+") "),v.style[K]=b||"translate(0, 0)"},Oe=function(e,t){var n,r,i,o,s,a=t||this,c=a.xPercent,u=a.yPercent,l=a.x,d=a.y,f=a.rotation,p=a.skewX,h=a.skewY,m=a.scaleX,g=a.scaleY,v=a.target,y=a.xOrigin,b=a.yOrigin,_=a.xOffset,x=a.yOffset,w=a.forceCSS,S=parseFloat(l),A=parseFloat(d);f=parseFloat(f),p=parseFloat(p),(h=parseFloat(h))&&(p+=h=parseFloat(h),f+=h),f||p?(f*=M,p*=M,n=Math.cos(f)*m,r=Math.sin(f)*m,i=Math.sin(f-p)*-g,o=Math.cos(f-p)*g,p&&(h*=M,s=Math.tan(p-h),i*=s=Math.sqrt(1+s*s),o*=s,h&&(s=Math.tan(h),n*=s=Math.sqrt(1+s*s),r*=s)),n=Object(j.w)(n),r=Object(j.w)(r),i=Object(j.w)(i),o=Object(j.w)(o)):(n=m,o=g,r=i=0),(S&&!~(l+"").indexOf("px")||A&&!~(d+"").indexOf("px"))&&(S=ue(v,"x",l,"px"),A=ue(v,"y",d,"px")),(y||b||_||x)&&(S=Object(j.w)(S+y-(y*n+b*i)+_),A=Object(j.w)(A+b-(y*r+b*o)+x)),(c||u)&&(s=v.getBBox(),S=Object(j.w)(S+c/100*s.width),A=Object(j.w)(A+u/100*s.height)),s="matrix("+n+","+r+","+i+","+o+","+S+","+A+")",v.setAttribute("transform",s),w&&(v.style[K]=s)},ke=function(e,t,n,r,i,o){var s,a,c=Object(j.n)(i),u=parseFloat(i)*(c&&~i.indexOf("rad")?T:1),l=o?u*o:u-r,d=r+l+"deg";return c&&("short"===(s=i.split("_")[1])&&(l%=360)!==l%180&&(l+=l<0?360:-360),"cw"===s&&l<0?l=(l+36e9)%360-360*~~(l/360):"ccw"===s&&l>0&&(l=(l-36e9)%360-360*~~(l/360))),e._pt=a=new j.c(e._pt,t,n,r,l,D),a.e=d,a.u="deg",e._props.push(n),a},je=function(e,t,n){var r,i,o,s,a,c,u,l=C.style,d=n._gsap;for(i in l.cssText=getComputedStyle(n).cssText+";position:absolute;display:block;",l[K]=t,x.body.appendChild(C),r=xe(C,1),E)(o=d[i])!==(s=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(a=Object(j.z)(o)!==(u=Object(j.z)(s))?ue(n,i,o,u):parseFloat(o),c=parseFloat(s),e._pt=new j.c(e._pt,d,i,a,c-a,q),e._pt.u=u||0,e._props.push(i));x.body.removeChild(C)};
/*!

*/Object(j.j)("padding,margin,Width,Radius",(function(e,t){var n="Top",r="Right",i="Bottom",o="Left",s=(t<3?[n,r,i,o]:[n+o,n+r,i+r,i+o]).map((function(n){return t<2?e+n:"border"+n+e}));he[t>1?"border"+e:e]=function(e,t,n,r,i){var o,a;if(arguments.length<4)return o=s.map((function(t){return le(e,t,n)})),5===(a=o.join(" ")).split(o[0]).length?o[0]:a;o=(r+"").split(" "),a={},s.forEach((function(e,t){return a[e]=o[t]=o[t]||o[(t-1)/2|0]})),e.init(t,a,i)}}));var Ee,Te,Me={name:"css",register:te,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var o,s,a,c,u,l,d,f,p,h,m,g,v,y,b,_,x,w,A,C=this._props,O=e.style;for(d in S||te(),t)if("autoRound"!==d&&(s=t[d],!j.s[d]||!Object(j.g)(d,t,n,r,e,i)))if(u=typeof s,l=he[d],"function"===u&&(u=typeof(s=s.call(n,r,e,i))),"string"===u&&~s.indexOf("random(")&&(s=Object(j.v)(s)),l)l(this,e,d,s,n)&&(b=1);else if("--"===d.substr(0,2))this.add(O,"setProperty",getComputedStyle(e).getPropertyValue(d)+"",s+"",r,i,0,0,d);else if("undefined"!==u){if(o=le(e,d),c=parseFloat(o),(h="string"===u&&"="===s.charAt(1)?+(s.charAt(0)+"1"):0)&&(s=s.substr(2)),a=parseFloat(s),d in R&&("autoAlpha"===d&&(1===c&&"hidden"===le(e,"visibility")&&a&&(c=0),ae(this,O,"visibility",c?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==d&&"transform"!==d&&~(d=R[d]).indexOf(",")&&(d=d.split(",")[0])),m=d in E)if(g||((v=e._gsap).renderTransform||xe(e),y=!1!==t.smoothOrigin&&v.smooth,(g=this._pt=new j.c(this._pt,O,K,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===d)this._pt=new j.c(this._pt,v,"scaleY",v.scaleY,h?h*a:a-v.scaleY),C.push("scaleY",d),d+="X";else{if("transformOrigin"===d){x=void 0,w=void 0,A=void 0,x=(_=s).split(" "),w=x[0],A=x[1]||"50%","top"!==w&&"bottom"!==w&&"left"!==A&&"right"!==A||(_=w,w=A,A=_),x[0]=fe[w]||w,x[1]=fe[A]||A,s=x.join(" "),v.svg?_e(e,s,0,y,0,this):((p=parseFloat(s.split(" ")[2])||0)!==v.zOrigin&&ae(this,v,"zOrigin",v.zOrigin,p),ae(this,O,d,we(o),we(s)));continue}if("svgOrigin"===d){_e(e,s,1,y,0,this);continue}if(d in ge){ke(this,v,d,c,s,h);continue}if("smoothOrigin"===d){ae(this,v,"smooth",v.smooth,s);continue}if("force3D"===d){v[d]=s;continue}if("transform"===d){je(this,s,e);continue}}else d in O||(d=ee(d)||d);if(m||(a||0===a)&&(c||0===c)&&!I.test(s)&&d in O)a||(a=0),(f=(o+"").substr((c+"").length))!==(p=(s+"").substr((a+"").length)||(d in j.i.units?j.i.units[d]:f))&&(c=ue(e,d,o,p)),this._pt=new j.c(this._pt,m?v:O,d,c,h?h*a:a-c,"px"!==p||!1===t.autoRound||m?q:V),this._pt.u=p||0,f!==p&&(this._pt.b=o,this._pt.r=N);else if(d in O)de.call(this,e,d,o,s);else{if(!(d in e)){Object(j.p)(d,s);continue}this.add(e,d,e[d],s,r,i)}C.push(d)}b&&Object(j.x)(this)},get:le,aliases:R,getSetter:function(e,t,n){var r=R[t];return r&&r.indexOf(",")<0&&(t=r),t in E&&t!==$&&(e._gsap.x||le(e,"x"))?n&&O===n?"scale"===t?U:X:(O=n||{})&&("scale"===t?G:Y):e.style&&!Object(j.o)(e.style[t])?z:~t.indexOf("-")?H:Object(j.m)(e,t)},core:{_removeProperty:se,_getMatrix:be}};j.A.utils.checkPrefix=ee,Ee="rotation,rotationX,rotationY,skewX,skewY",Te=Object(j.j)("x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+Ee+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){E[e]=1})),Object(j.j)(Ee,(function(e){j.i.units[e]="deg",ge[e]=1})),R[Te[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+Ee,Object(j.j)("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");R[t[1]]=Te[t[0]]})),Object(j.j)("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){j.i.units[e]="px"})),j.A.registerPlugin(Me);var Pe=(j.A.registerPlugin(Me)||j.A).core.Tween;function Be(){return document.body.classList.contains("page--platform")&&function(){let e=!1;const t=document.getElementById("square"),n=document.querySelector(".js-customize-animation__button"),i=new j.e({repeat:-1}),o={container:document.getElementById("svgContainer"),dg1:document.getElementById("dg1"),dg2:document.getElementById("dg2"),dg3:document.getElementById("dg3"),dg4:document.getElementById("dg4"),dg5:document.getElementById("dg5"),g1:document.getElementById("g1"),g2:document.getElementById("g2"),innerSquare:document.getElementById("innerSquare")};function s(){i.pause(),n.setAttribute("aria-pressed","true")}function a(){i.play(),n.setAttribute("aria-pressed","false")}function c(){Object(p.a)(t)&&!e?a():s()}Pe.set(o.container,{scale:3,transformOrigin:"center center"}),i.to(o.container,1,{rotation:"+=45",ease:j.d.easeInOut,transformOrigin:"center center"}),i.to(o.dg1,1,{y:"+=60",ease:j.a.easeOut},"-=0.75"),i.to(o.dg2,1,{x:"+=80",ease:j.a.easeOut,force3D:!1},"-=0.75"),i.to(o.container,1,{rotation:"+=45",ease:j.d.easeInOut,transformOrigin:"center center"},"-=0.25"),i.to(o.g1,1.25,{x:"+=75.3",ease:j.a.easeOut,force3D:!1},"-=0.75"),i.to(o.dg2,1,{x:"+=15",ease:j.a.easeOut,force3D:!1},"-=1"),i.to(o.container,1,{rotation:"+=45",ease:j.d.easeInOut,transformOrigin:"center center"},"-=0.25"),i.to(o.innerSquare,1,{y:"-=90",x:"+=5.5",ease:j.d.easeInOut,attr:{width:25,height:25}},"-=0.75"),i.to(o.g2,1,{y:"-=90",attr:{height:25},ease:j.d.easeInOut},"-=1"),i.to(o.g1,1,{x:"+=5.5",attr:{width:25},ease:j.d.easeInOut},"-=1"),i.to(o.dg1,.8,{y:"-=50",ease:j.a.easeOut},"-=0.5"),i.to(o.dg3,.8,{y:"-=35",ease:j.a.easeOut},"-=0.6"),i.to(o.container,.75,{rotation:"+=45",ease:j.d.easeInOut,transformOrigin:"center center"},"-=0.25"),i.to(o.innerSquare,.75,{x:"-=5",y:"-=5",ease:j.d.easeInOut,attr:{width:35,height:35}},"-=0.5"),i.to(o.g2,.75,{y:"-=5",attr:{height:35},ease:j.d.easeInOut},"-=0.75"),i.to(o.g1,.75,{x:"-=5",attr:{width:35},ease:j.d.easeInOut},"-=0.75"),i.to(o.container,.75,{rotation:"+=45",ease:j.d.easeInOut,transformOrigin:"center center"},"+=0.25"),i.to(o.innerSquare,.75,{x:"-=30",y:"-=5",ease:j.d.easeInOut,attr:{width:45,height:45}},"-=0.5"),i.to(o.g2,.75,{y:"-=5",attr:{height:45},ease:j.d.easeInOut},"-=0.75"),i.to(o.g1,.75,{x:"-=30",attr:{width:45},ease:j.d.easeInOut},"-=0.75"),i.to(o.dg3,.75,{y:"-=5",ease:j.a.easeOut},"-=0.5"),i.to(o.dg2,.75,{x:"-=25",ease:j.a.easeOut},"-=0.75"),i.to(o.dg4,.75,{x:"-=40",ease:j.a.easeOut},"-=0.75"),i.to(o.dg5,.5,{x:"-=15",ease:j.a.easeOut},"-=0.5"),i.to(o.container,.75,{rotation:"+=45",ease:j.d.easeInOut,transformOrigin:"center center"}),i.to(o.innerSquare,.75,{x:"-=11",y:"-=17",ease:j.d.easeInOut,attr:{width:117,height:117}},"-=0.5"),i.to(o.g2,.75,{y:"-=17",attr:{height:117},ease:j.d.easeInOut},"-=0.75"),i.to(o.g1,.75,{x:"-=11",attr:{width:117},ease:j.d.easeInOut},"-=0.75"),i.to(o.dg1,.5,{y:"-=15",ease:j.d.easeInOut},"-=0.6"),i.to(o.dg3,.75,{y:"+=50",ease:j.d.easeInOut},"-=0.75"),i.to(o.dg2,.75,{x:"+=50",ease:j.d.easeInOut},"-=0.75"),i.to(o.dg4,.75,{x:"+=40",ease:j.d.easeInOut},"-=0.75"),i.to(o.dg5,.75,{x:"+=20",ease:j.d.easeInOut},"-=0.75"),Object(g.a)()&&setTimeout(()=>{s()},600),n.addEventListener("click",()=>{"true"===n.getAttribute("aria-pressed")?(a(),e=!1):(s(),e=!0)}),window.addEventListener("scroll",Object(r.debounce)(c,25))}(),!1}function Le(){document.body.classList.contains("page--upgrade")&&function(){const e=document.querySelector(".js-illocon"),t=document.querySelector(".js-illocon-button");t.addEventListener("click",()=>{const n="true"===t.getAttribute("aria-pressed")?"false":"true";e.classList.toggle("is-paused"),t.setAttribute("aria-pressed",n)})}()}const Ie=document.querySelector(".laptop-hero__video"),Re=document.querySelector(".js-video-wrapper");function qe(){return document.body.classList.contains("page--enterprise-ecommerce")&&function(){const e=()=>{Object(p.a)(Ie)||Ie.paused||Re.classList.contains("js-manually-clicked")?Object(p.a)(Ie)&&Ie.paused&&!Re.classList.contains("js-manually-clicked")&&Ie.play():Ie.pause()},t=()=>{Re.classList.toggle("js-manually-clicked")};if(!Object(g.a)()){const n=["click","keydown"];for(const e of n)Ie.addEventListener(e,t);window.addEventListener("scroll",Object(r.debounce)(e,25))}}(),!1}var De=n("./app/javascripts/modules/chat.js"),Ne=n("./app/javascripts/utils/track.js");window.addEventListener("DOMContentLoaded",()=>{Object(i.a)(),new r.CookiesNotice,Object(r.init)(),Object(c.a)(),Object(s.a)(),Object(a.a)(),Object(u.b)(),Object(l.a)(),Object(d.a)(),Object(o.a)(),qe(),b(),Be(),document.body.classList.contains("page--migration")&&m(),Le(),Object(De.a)(),Object(Ne.d)()})},"./app/javascripts/modules/accordions.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./app/javascripts/utils/userPrefersReducedMotion.js");class i{constructor(e){this._trigger=e.querySelector(".js-accordion__trigger"),this._content=document.getElementById(this._trigger.getAttribute("aria-controls")),this._expanded=this._trigger.getAttribute("aria-expanded"),this._trigger.addEventListener("click",()=>{this.toggle()})}isExpanded(){return"false"===this._trigger.getAttribute("aria-expanded")}toggle(){this.isExpanded()?this.expand():this.collapse()}expand(){this._content.style.display="block",this._trigger.setAttribute("aria-expanded","true"),setTimeout(()=>{this._content.classList.add("is-visible"),this._content.setAttribute("aria-hidden","false")},15)}collapse(){function e(){this._content.style.display="none",this._content.removeEventListener("transitionend",e)}this._content.classList.remove("is-visible"),this._trigger.setAttribute("aria-expanded","false"),this._content.setAttribute("aria-hidden","true"),Object(r.a)()?e.call(this):this._content.addEventListener("transitionend",e.call(this))}}},"./app/javascripts/modules/animations.js":function(e,t,n){"use strict";var r=n("./node_modules/@shopify/marketing-assets/dist/javascripts/index.js"),i=n("./app/javascripts/utils/userPrefersReducedMotion.js"),o=n("./node_modules/gsap/gsap-core.js"),s=n("./node_modules/bezier-easing/src/index.js");const a={easeIn:s(.9,0,1,.4),easeOut:s(0,.9,.4,1),easeBoth:s(.6,0,.2,1)};function c(e,t,n=".",r=","){const i=e.toFixed(t).split(".");return i[0]=i[0].replace(/\B(?=(\d{3})+(?!\d))/g,r),i.join(n)}function u(){const e=[...document.querySelectorAll(".anime")],t=[...document.querySelectorAll("[data-animation-delay]")],n=[...document.querySelectorAll(".anime .metric__big-data")],s=document.getElementById("ScreenshotMode");let u,l,d=!1;function f(){l=[],e.forEach(e=>{const t=e.getBoundingClientRect().top+window.pageYOffset;let n=t;"top"!==e.getAttribute("data-animation-trigger-point")&&(n="bottom"===e.getAttribute("data-animation-trigger-point")?t+parseInt(window.getComputedStyle(e).height,10):t+parseInt(window.getComputedStyle(e).height,10)/2),s&&(n=1),l.push(n)}),function(e=[]){!(!e.length||!Array.isArray(e))&&e.forEach(e=>{const t=e.innerHTML;e.getAttribute("data-original-value")&&(e.innerHTML=e.getAttribute("data-original-value")),e.style.width="";const n=e.offsetWidth;e.innerHTML=t,e.style.width="".concat(n,"px")})}(n)}function p(){d=!1;const t=u,n=u+window.innerHeight;let r=0,i=0;l.forEach((u,l)=>{if(n>u&&t<u&&!e[l].classList.contains("js-animate"))if(r++,r&&null!==e[l].getAttribute("data-adjacent-delay"))i+=parseInt(e[l].getAttribute("data-adjacent-delay"),10),s&&(i=0),setTimeout(()=>{e[l].classList.add("js-animate")},i);else{e[l].classList.add("js-animate"),!function(e=[]){if(!e.length||!Array.isArray(e))return!1;const t=document.getElementById("ScreenshotMode");e.forEach(e=>{const n=e.getAttribute("data-prefix")||"",r=e.getAttribute("data-suffix")||"",i=e.getAttribute("data-separator"),s=e.getAttribute("data-delimiter"),u=e.getAttribute("data-decimals"),l=e.getAttribute("data-number"),d=e.getAttribute("data-animation-curve"),f=t?0:1.2,p=t?0:e.getAttribute("data-animation-delay"),h={val:0};let m=a.easeIn;"easeBoth"!==d&&"easeOut"!==d||(m=a[d]),o.f.to(h,f,{val:l,ease:m,onUpdate:()=>{e.innerHTML=n+c(h.val,u,i,s)+r},delay:parseFloat(p)})})}([...e[l].querySelectorAll(".metric__big-data, .circle-graph__number")]),e[l].querySelectorAll(".js-play-on-scroll").forEach(e=>{"VIDEO"===e.tagName&&(e.play(),e.setAttribute("autoplay","true"))})}})}function h(){u=window.pageYOffset,d||requestAnimationFrame(p),d=!0}Object(i.a)()?e.forEach((t,n)=>{e[n].classList.add("js-animate")}):(t.forEach(e=>{e.style.transitionDelay=e.getAttribute("data-animation-delay"),e.addEventListener("transitionend",()=>{e.style.transitionDelay=null},{once:!0})}),f(),function(e=[]){e.length&&Array.isArray(e)&&e.forEach(e=>{const t=e.getAttribute("data-prefix")||"",n=e.getAttribute("data-suffix")||"",r=e.getAttribute("data-separator"),i=e.getAttribute("data-delimiter"),o=e.getAttribute("data-decimals");e.setAttribute("data-original-value",e.innerHTML),e.innerHTML=t+c(0,o,r,i)+n})}(n),h(),window.addEventListener("resize",Object(r.debounce)(f,250)),window.addEventListener("scroll",Object(r.debounce)(h,10)))}n.d(t,"a",(function(){return u}))},"./app/javascripts/modules/chat.js":function(e,t,n){"use strict";function r(){return"undefined"!=typeof drift&&(drift.on("ready",()=>{const e=[...document.querySelectorAll('[data-open-chat="true"]')],t=document.getElementById("ChatAvailability").dataset.chatEndpoint,n=new XMLHttpRequest;e.length&&(n.overrideMimeType("application/json"),n.open("GET",t,!0),n.onload=()=>{if(200!==n.status)return;const t=JSON.parse(n.response);!function(e,t){const n=document.getElementById("drift-widget-container");if(!t)return;e.forEach(e=>{e.addEventListener("click",t=>{const r=parseInt(e.dataset.driftPlaybook,10);t.preventDefault(),n.classList.add("is-above-modal"),drift.api.startInteraction({interactionId:r})}),e.classList.add("js-is-initialized")})}(e,t.chatAvailable)},n.send(null))}),!1)}n.d(t,"a",(function(){return r}))},"./app/javascripts/modules/forms.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return f}));var r=n("./app/javascripts/utils/track.js"),i=n("./app/javascripts/modules/modals.js");function o(){const e=document.querySelectorAll(".js-input"),t=document.querySelectorAll(".plus-form");if(e.length)for(let n=0;n<e.length;n++)""!==e[n].value.trim()&&e[n].classList.add("is-not-empty"),s(e[n]);if(t.length)for(let n=0;n<t.length;n++)a(t[n]);return!1}function s(e){e.addEventListener("change",()=>{""===e.value.trim()?e.classList.remove("is-not-empty"):e.classList.add("is-not-empty")})}function a(e){e.addEventListener("submit",t=>{t.preventDefault();const n=e.getAttribute("action"),o=c(e),s=new XMLHttpRequest,a=e.getAttribute("data-thanks-node");s.timeout=5e3,s.onload=()=>{if(setTimeout(()=>{e.removeAttribute("aria-busy")},750),s.status>=200&&s.status<300){const t=JSON.parse(s.response);if(t.errors)u(e),d(e,t),"{}"===JSON.stringify(t.errors)?l():function(e,t){for(const n in t.errors)if(t.errors.hasOwnProperty(n)){const r=e.querySelector('[name="'.concat(t.formScope,"[").concat(n,']"]')),i=document.createElement("div"),o="".concat(r.id,"_message");i.id=o,i.className="message message--error message--size-md message--theme-white message--inline",i.innerHTML='<div class="message__content"><p class="message__text">'.concat(t.errors[n].join(", "),"</p></div>"),r.setAttribute("aria-labelledby",o),r.parentNode.classList.add("input-wrapper--error"),r.parentNode.parentNode.insertBefore(i,r.parentNode.nextSibling)}}(e,t);else{if(u(e),a){const n=document.querySelector("#".concat(a," .thanks-heading")),r=document.querySelector("#".concat(a," .thanks-content"));t.thanks&&(t.thanks.heading&&n&&(n.innerHTML=t.thanks.heading),t.thanks.content&&r&&(r.innerHTML=t.thanks.content)),Object(i.c)(a,document.body,()=>{f(e)})}!function(e,t){const n=e.getAttribute("data-success-event"),i=e.getAttribute("data-linkedin-tracking-url"),o=e.getAttribute("data-gtm-event-key"),s=e.getAttribute("data-gtm-event-value");t&&i&&r.e(t,i);n&&(r.f(n),r.b(n),r.c({eventCategory:"form success",eventAction:n}),r.a({eventCategory:"form success",eventAction:n}));o&&s&&r.d({[o]:s})}(e,a),function(e,t){const n=new CustomEvent("/form/submit/success",{detail:t});e.dispatchEvent(n)}(e,t)}}else u(e),l(),d(e)},s.onerror=()=>{window.bugsnagClient.notify(new Error("XHR error"),{severity:"error",metaData:{"serialized form data":o}}),u(e),l()},s.ontimeout=()=>{window.bugsnagClient.notify(new Error("XHR timeout"),{severity:"error",metaData:{"serialized form data":o}}),u(e),l()},e.getAttribute("aria-busy")||(e.setAttribute("aria-busy",!0),s.open("POST","".concat(n,".json")),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send(o))})}function c(e){const t=e.querySelectorAll("input, select, textarea"),n=[];for(let r=0;r<t.length;r++)"radio"===t[r].type?t[r].checked&&n.push("".concat(t[r].name,"=").concat(encodeURIComponent(t[r].value))):n.push("".concat(t[r].name,"=").concat(encodeURIComponent(t[r].value)));return n.join("&")}function u(e){const t=e.querySelectorAll(".input-wrapper--error"),n=e.querySelectorAll(".message--error"),r=document.getElementById("GenericFormError");r&&r.classList.add("hide");for(let i=0;i<t.length;i++)t[i].classList.remove("input-wrapper--error");for(let i=0;i<n.length;i++)n[i].parentNode.removeChild(n[i])}function l(){const e=document.querySelector("#GenericFormError .form-error");e&&e.classList.remove("is-not-visible")}function d(e,t){const n=new CustomEvent("/form/submit/failure",{detail:t});e.dispatchEvent(n)}function f(e){const t=[...e.querySelectorAll(".js-input")];e.reset(),u(e),e.removeAttribute("aria-busy"),t.forEach(e=>{""===e.value.trim()&&e.classList.remove("is-not-empty")})}},"./app/javascripts/modules/hero.js":function(e,t,n){"use strict";function r(){!function(){const e=document.querySelector(".js-hero--dramatic"),t=document.querySelector(".js-navigation");if(!t)return!1;e&&(0===window.pageYOffset&&t.classList.add("navigation--top"),t.classList.add("navigation--dramatic"),e.style.paddingTop="".concat(t.offsetHeight,"px"),window.addEventListener("scroll",()=>{0===window.pageYOffset?t.classList.add("navigation--top"):t.classList.remove("navigation--top")}))}()}n.d(t,"a",(function(){return r}))},"./app/javascripts/modules/messages.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./node_modules/@shopify/marketing-assets/dist/javascripts/index.js");function i(){const e=document.getElementsByClassName("js-message--dismissable");if(0===e.length)return!1;for(let t=0;t<e.length;t++){const n=e[t].getElementsByClassName("js-message__close-button")[0];n.addEventListener("click",o,!1),n.message=e[t],e[t].classList.contains("message--announcement")&&(r.cookieHelper.get("hide_announcement_".concat(e[t].getAttribute("id")))||e[t].classList.add("is-visible"))}return!1}function o(e){e.currentTarget.message.classList.remove("is-visible"),e.currentTarget.message.classList.add("is-not-visible"),e.currentTarget.message.classList.contains("message--dismissable")&&function(e){const t=new Date,n="hide_announcement_".concat(e);t.setTime(t.getTime()+6048e5),r.cookieHelper.set(n,!0,{expires:t.toUTCString()})}(e.currentTarget.message.getAttribute("id"))}},"./app/javascripts/modules/modals.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return w}));var r=n("./node_modules/@shopify/marketing-assets/dist/javascripts/index.js"),i=n("./app/javascripts/utils/trapFocus.js"),o=n("./app/javascripts/utils/scrollFreeze.js"),s=n("./app/javascripts/utils/userPrefersReducedMotion.js"),a=n("./app/javascripts/utils/getScrollbarWidth.js"),c=n("./app/javascripts/utils/track.js"),u=n("./app/javascripts/modules/forms.js");let l,d,f=!1,p=0;const h="".concat(Object(a.a)(),"px"),m=document.getElementById("VideoModal"),g=new r.Breakpoints;function v(){const e=document.querySelectorAll(".js-modal__close-button, [data-modal-id], [data-modal-video-id]");if(0===e.length)return!1;for(let t=0;t<e.length;t++)e[t].addEventListener("click",n=>{n.preventDefault(),y(e[t])});return!1}function y(e){const t=e.getAttribute("data-modal-id"),n=e.getAttribute("data-modal-video-id");e.classList.contains("js-modal__close-button")?_(t):n?(w(m,n,!0),b(m.getAttribute("id"),e)):(e.getAttribute("data-prefill-modal-form")&&function(e){!function(e,t){const n=document.getElementById(t).getElementsByTagName("form")[0];for(const r in e)e.hasOwnProperty(r)&&(n[r].value=e[r],n[r].classList.add("is-not-empty"))}(function(e){const t=Object.create({});return e.forEach(e=>{if(e.value){const n=e.getAttribute("data-prefill-modal-field-id");Object.defineProperty(t,n,{value:e.value,writable:!1,enumerable:!0})}}),t}([...document.querySelectorAll('[data-prefill-modal-id="'.concat(e,'"]'))]),e)}(t),b(t,e))}function b(e,t,n){const r=document.getElementById(e),a=r.querySelector(".js-modal__content .js-modal__content-wrapper"),u=r.getAttribute("data-modal-open-ga-event");function h(){d.focus(),f&&(f=!1),d.classList.remove("js-replace-open"),d.classList.remove("js-replace-close"),d.removeEventListener("transitionend",h),n&&n(),u&&c.c({eventCategory:"modal",eventAction:u}),a.scrollTop=0}d?(f=!0,d.classList.add("js-replace-close"),r.classList.add("js-replace-open"),_(d.getAttribute("id"))):(f=!1,l=t,document.addEventListener("keydown",x),p=window.pageYOffset),d=r,Object(i.a)(d),d.classList.add("is-active"),document.documentElement.style.scrollBehavior="auto",Object(s.a)()?h():d.addEventListener("transitionend",h),setTimeout(()=>{window.requestAnimationFrame(()=>{f||Object(o.a)(),d.classList.add("js-animate"),S()})},10)}function _(e,t=l){const n=document.getElementById(e),r=n.getAttribute("data-modal-close-ga-event"),i=f;if(i||(Object(o.a)(),r&&c.c({eventCategory:"modal",eventAction:r})),n===m){const e=m.querySelector("video");e&&e.pause()}function a(){const e=[...n.querySelectorAll("form")],r=document.getElementById("drift-widget-container");n.classList.remove("is-active"),n.classList.remove("js-replace-open"),n.classList.remove("js-replace-close"),r&&r.classList.remove("is-above-modal"),i||(t&&t.focus(),document.removeEventListener("keydown",x),S(!0),l=null,d=null,document.documentElement.style.scrollBehavior=""),n.removeEventListener("transitionend",a),e.forEach(e=>{Object(u.b)(e)})}Object(s.a)()?(a(),n.classList.remove("js-animate"),i||window.scrollTo(0,p)):(n.addEventListener("transitionend",a),window.requestAnimationFrame(()=>{n.classList.remove("js-animate"),i||window.scrollTo(0,p)}))}function x(e){const t=d.querySelector(".modal__close-button");27===e.keyCode&&(t.getAttribute("href")?window.location=t.getAttribute("href"):_(d.getAttribute("id")))}function w(e,t,n){const r=e.querySelector(".js-modal-video-content"),i='<div class="wistia_embed wistia_async_'.concat(t," video-embed__video autoPlay=").concat(n,' controlsVisibleOnLoad=false endVideoBehavior=reset playButton=true playerColor=000000 videoFoam=true"></div>'),o=document.createElement("script");if(o.type="text/javascript",o.async=!0,o.src="https://fast.wistia.com/embed/medias/".concat(t,".jsonp"),r.innerHTML=i,r.appendChild(o),!document.getElementById("WistiaAPI")){const t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://fast.wistia.com/assets/external/E-v1.js",t.id="WistiaAPI",e.appendChild(t)}}function S(e=!1){const t=d.querySelector(".js-modal__top-wrapper");let n=d.querySelector(".js-modal__content");g.matches("phone")&&(n=d.querySelector(".js-modal__content-wrapper")),e?t.style.right=0:n.scrollHeight>n.clientHeight&&(t.style.right="".concat(h))}},"./app/javascripts/modules/navigation.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("./app/javascripts/utils/trapFocus.js"),i=n("./app/javascripts/utils/userPrefersReducedMotion.js"),o=n("./app/javascripts/utils/scrollFreeze.js"),s=n("./app/javascripts/modules/accordions.js");const a=[...document.querySelectorAll(".js-navigation__sub-level-trigger")],c=document.querySelector(".js-desktop-navigation"),u=document.querySelector(".js-mobile-navigation"),l=document.querySelector(".js-mobile-navigation__overlay");function d(){return!(!document.querySelectorAll(".main-navigation").length>0)&&(a.forEach((e,t)=>{const n=a[t],r=document.getElementById(n.getAttribute("aria-controls"));n.addEventListener("click",()=>{f(r),function(e){return e.classList.contains("is-active")}(r)?h(r):p(r)}),n.addEventListener("mouseenter",()=>{f(r),p(r)})}),document.addEventListener("keydown",v),document.addEventListener("mousedown",y),function(){const e=[...document.querySelectorAll(".js-mobile-navigation__trigger")];e.forEach((t,n)=>{e[n].addEventListener("click",()=>{u.classList.contains("is-active")?m():function(){function e(){Object(r.a)(u),u.focus(),document.addEventListener("keydown",v),u.removeEventListener("transitionend",e)}Object(o.a)(),u.style.display="block",u.scrollTop=0,l.style.display="block",setTimeout(()=>{u.classList.add("is-active"),l.classList.add("is-visible")},15),Object(i.a)()?e():u.addEventListener("transitionend",e)}()})})}(),function(){const e=[...document.querySelectorAll(".js-accordion")];e.forEach((t,n)=>{new s.a(e[n])})}(),!1)}function f(e){a.forEach((t,n)=>{const r=document.getElementById(a[n].getAttribute("aria-controls"));return e!==r&&(a[n].classList.remove("is-active"),h(r),document.removeEventListener("keydown",v),!1)})}function p(e){e.style.display="block",document.querySelector('[aria-controls="'.concat(e.id,'"]')).setAttribute("aria-expanded","true"),setTimeout(()=>{e.classList.add("is-active"),document.addEventListener("keydown",v)},30)}function h(e){document.querySelector('[aria-controls="'.concat(e.id,'"]')).setAttribute("aria-expanded","false"),e.style.display="none",e.classList.remove("is-active"),document.removeEventListener("keydown",v)}function m(){if(!u.classList.contains("is-active"))return!1;function e(){u.style.display="none",l.style.display="none",document.removeEventListener("keydown",v),u.removeEventListener("transitionend",e)}return Object(o.a)(),u.classList.remove("is-active"),l.classList.remove("is-visible"),document.querySelectorAll(".js-mobile-navigation__trigger")[0].focus(),Object(i.a)()?e():u.addEventListener("transitionend",e),!1}function g(){f(),m()}function v(e){27===e.keyCode&&g()}function y(e){c===e.target||u===e.target||c.contains(e.target)||u.contains(e.target)||document.querySelectorAll(".js-modal.is-active").length||g()}},"./app/javascripts/modules/videos.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("./node_modules/@shopify/marketing-assets/dist/javascripts/index.js");function i(e){const t=e.querySelector(".js-video__thumbnail"),n=e.querySelector(".js-video__player-container"),r=t.dataset.videoId;t.addEventListener("click",()=>{!function(e,t){const n='<div class="wistia_embed wistia_async_'.concat(t,' video-embed__video autoPlay=true controlsVisibleOnLoad=false endVideoBehavior=reset playButton=true playerColor=000000 videoFoam=true"></div>'),r=document.createElement("script");if(r.type="text/javascript",r.async=!0,r.src="https://fast.wistia.com/embed/medias/".concat(t,".jsonp"),e.innerHTML=n,e.appendChild(r),!document.getElementById("WistiaAPI")){const t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://fast.wistia.com/assets/external/E-v1.js",t.id="WistiaAPI",e.appendChild(t)}}(n,r),t.classList.add("hide--visibility"),n.classList.remove("hide")})}function o(){document.querySelectorAll(".js-ma-video").forEach(e=>{var t;new r.Video(e),(t=e).addEventListener("click",()=>{s(t)}),t.addEventListener("keydown",e=>(32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),s(t),!1))})}function s(e){const t=e.parentElement;return!!t&&(!function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}(e)?(e.play(),t.classList.add("is-playing"),t.classList.remove("is-paused")):(e.pause(),t.classList.add("is-paused"),t.classList.remove("is-playing")),!1)}function a(){document.querySelectorAll(".js-video").forEach(e=>{!function(e){e.querySelector(".js-video__thumbnail").disabled=!1}(e),function(e){const t=e.querySelector(".image"),n=t.dataset.altText;"IMG"===t.tagName?t.alt=n:t.querySelector("img").alt=n}(e),function(e){!function(e,t){e.complete?t.classList.remove("hide"):e.addEventListener("load",()=>{t.classList.remove("hide")})}(e.querySelector("img"),e.querySelector(".js-video__play-icon"))}(e),e.classList.contains("js-video--inline")&&i(e)}),o()}},"./app/javascripts/utils/bugsnag.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./node_modules/@bugsnag/js/browser/notifier.js"),i=n.n(r);function o(){window.bugsnagClient=i.a.start({apiKey:"ea76951d8f7e033ed7d4e2fd4db0a2fd",releaseStage:window.plusWebConfig.environment,enabledReleaseStages:["production","staging"],trackInlineScripts:!1,maxEvents:20,onError:e=>{if(e.request.url.startsWith("file://"))return!1}})}},"./app/javascripts/utils/getScrollbarWidth.js":function(e,t,n){"use strict";function r(){let e=0;const t=document.createElement("div");return t.style.overflow="scroll",document.body.appendChild(t),e=t.offsetWidth-t.clientWidth,document.body.removeChild(t),e}n.d(t,"a",(function(){return r}))},"./app/javascripts/utils/isInViewport.js":function(e,t,n){"use strict";function r(e){const t=window.pageYOffset,n=t+window.innerHeight,r=e.getBoundingClientRect().top+window.pageYOffset,i=e.getBoundingClientRect().bottom-e.getBoundingClientRect().top;return n>=r&&t<r+i}n.d(t,"a",(function(){return r}))},"./app/javascripts/utils/scrollFreeze.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./app/javascripts/utils/getScrollbarWidth.js");const i=document.body,o=document.querySelector(".js-navigation");function s(){i.classList.contains("freeze-scrolling")?(i.classList.remove("freeze-scrolling"),i.style.marginRight=null,o&&(o.style.width=null)):(i.style.marginRight="".concat(Object(r.a)(),"px"),i.classList.add("freeze-scrolling"),o&&(o.style.width="calc(100% - ".concat(Object(r.a)(),"px)")))}},"./app/javascripts/utils/track.js":function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){document.getElementById(e).insertAdjacentHTML("beforeend",'<img height="1" width="1" style="display:none;" alt="" src="'.concat(t,'" />'))}function s(e){void 0!==window.analytics&&window.analytics.track({"data-trekkie-event":"Plus","data-trekkie-action":e})}function a(e){void 0!==window.fbq&&window.fbq("trackCustom",e)}function c(e){"undefined"!=typeof _gaUTracker&&_gaUTracker("send","event",e)}function u(e){window.uetq=window.uetq||[],window.uetq.push({ec:e.eventCategory,ea:e.eventAction})}function l(e){"undefined"!=typeof gtag&&gtag("event","conversion",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{allow_custom_scripts:!0,send_to:"DC-9321158/shopi0/shopi000+standard"},{},e))}n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return l}))},"./app/javascripts/utils/trapFocus.js":function(e,t,n){"use strict";function r(e,t=[],n=[]){let r=e.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]');r=Array.prototype.slice.call(r),t.length>0&&t.forEach(e=>{r.unshift(e)}),n.length>0&&n.forEach(e=>{r.push(e)});const i=r[0],o=r[r.length-1];document.addEventListener("keydown",(function(e){9===e.keyCode&&(e.shiftKey&&document.activeElement===i?(e.preventDefault(),o.focus()):document.activeElement!==o||e.shiftKey||(e.preventDefault(),i.focus()))}))}n.d(t,"a",(function(){return r}))},"./app/javascripts/utils/userPrefersReducedMotion.js":function(e,t,n){"use strict";function r(){return matchMedia("(prefers-reduced-motion)").matches}n.d(t,"a",(function(){return r}))},"./node_modules/@bugsnag/browser/dist/bugsnag.js":function(e,t,n){e.exports=function(){var e=["navigation","request","process","log","user","state","error","manual"],t=function(e,t,n){for(var r=n,i=0,o=e.length;i<o;i++)r=t(r,e[i],i,e);return r},n=function(e,n){return t(e,(function(e,t,r,i){return n(t,r,i)?e.concat(t):e}),[])},r=function(e,n){return t(e,(function(e,t,r,i){return!0===e||t===n}),!1)},i=function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=!{toString:null}.propertyIsEnumerable("toString"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);if(!o)return n;for(var r=0,i=s.length;r<i;r++)Object.prototype.hasOwnProperty.call(e,s[r])&&n.push(s[r]);return n},c=function(e,t){return void 0===e&&(e=1),void 0===t&&(t=1/0),function(n){return"number"==typeof n&&parseInt(""+n,10)===n&&n>=e&&n<=t}},u=function(e){return"function"==typeof e||i(e)&&n(e,(function(e){return"function"==typeof e})).length===e.length},l=function(e){return"string"==typeof e&&!!e.length},d={};d.schema={apiKey:{defaultValue:function(){return null},message:"is required",validate:l},appVersion:{defaultValue:function(){},message:"should be a string",validate:function(e){return void 0===e||l(e)}},appType:{defaultValue:function(){},message:"should be a string",validate:function(e){return void 0===e||l(e)}},autoDetectErrors:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return!0===e||!1===e}},enabledErrorTypes:{defaultValue:function(){return{unhandledExceptions:!0,unhandledRejections:!0}},message:"should be an object containing the flags { unhandledExceptions:true|false, unhandledRejections:true|false }",allowPartialObject:!0,validate:function(e){if("object"!=typeof e||!e)return!1;var t=a(e),i=a({unhandledExceptions:!0,unhandledRejections:!0});return!(n(t,(function(e){return r(i,e)})).length<t.length||n(a(e),(function(t){return"boolean"!=typeof e[t]})).length>0)}},onError:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:u},onSession:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:u},onBreadcrumb:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:u},endpoints:{defaultValue:function(){return{notify:"https://notify.bugsnag.com",sessions:"https://sessions.bugsnag.com"}},message:"should be an object containing endpoint URLs { notify, sessions }",validate:function(e){return e&&"object"==typeof e&&l(e.notify)&&l(e.sessions)&&0===n(a(e),(function(e){return!r(["notify","sessions"],e)})).length}},autoTrackSessions:{defaultValue:function(e){return!0},message:"should be true|false",validate:function(e){return!0===e||!1===e}},enabledReleaseStages:{defaultValue:function(){return null},message:"should be an array of strings",validate:function(e){return null===e||i(e)&&n(e,(function(e){return"string"==typeof e})).length===e.length}},releaseStage:{defaultValue:function(){return"production"},message:"should be a string",validate:function(e){return"string"==typeof e&&e.length}},maxBreadcrumbs:{defaultValue:function(){return 25},message:"should be a number 100",validate:function(e){return c(0,100)(e)}},enabledBreadcrumbTypes:{defaultValue:function(){return e},message:"should be null or a list of available breadcrumb types ("+e.join(",")+")",validate:function(n){return null===n||i(n)&&t(n,(function(t,n){return!1===t?t:r(e,n)}),!0)}},context:{defaultValue:function(){},message:"should be a string",validate:function(e){return void 0===e||"string"==typeof e}},user:{defaultValue:function(){return{}},message:"should be an object with { id, email, name } properties",validate:function(e){return null===e||e&&t(a(e),(function(e,t){return e&&r(["id","email","name"],t)}),!0)}},metadata:{defaultValue:function(){return{}},message:"should be an object",validate:function(e){return"object"==typeof e&&null!==e}},logger:{defaultValue:function(){},message:"should be null or an object with methods { debug, info, warn, error }",validate:function(e){return!e||e&&t(["debug","info","warn","error"],(function(t,n){return t&&"function"==typeof e[n]}),!0)}},redactedKeys:{defaultValue:function(){return["password"]},message:"should be an array of strings|regexes",validate:function(e){return i(e)&&e.length===n(e,(function(e){return"string"==typeof e||e&&"function"==typeof e.test})).length}},plugins:{defaultValue:function(){return[]},message:"should be an array of plugin objects",validate:function(e){return i(e)&&e.length===n(e,(function(e){return e&&"object"==typeof e&&"function"==typeof e.load})).length}}};var f=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(e,n){return t(e,(function(e,t,r,i){return e.concat(n(t,r,i))}),[])},h=d.schema,m={releaseStage:f({},h.releaseStage,{defaultValue:function(){return/^localhost(:\d+)?$/.test(window.location.host)?"development":"production"}}),logger:f({},h.logger,{defaultValue:function(){return"undefined"!=typeof console&&"function"==typeof console.debug?g():void 0}})},g=function(){var e={},t=console.log;return p(["debug","info","warn","error"],(function(n){var r=console[n];e[n]="function"==typeof r?r.bind(console,"[bugsnag]"):t.bind(console,"[bugsnag]")})),e},v=function(){function e(e,t,n,r){void 0===r&&(r=new Date),this.type=n,this.message=e,this.metadata=t,this.timestamp=r}return e.prototype.toJSON=function(){return{type:this.type,name:this.message,timestamp:this.timestamp,metaData:this.metadata}},e}(),y={};!function(e,t){"use strict";"object"==typeof y?y=t():e.StackFrame=t()}(this,(function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e.charAt(0).toUpperCase()+e.substring(1)}function n(e){return function(){return this[e]}}var r=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],o=["fileName","functionName","source"],s=r.concat(i,o,["args"]);function a(e){if(e instanceof Object)for(var n=0;n<s.length;n++)e.hasOwnProperty(s[n])&&void 0!==e[s[n]]&&this["set"+t(s[n])](e[s[n]])}a.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof a)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new a(e)}},toString:function(){return(this.getFunctionName()||"{anonymous}")+"("+(this.getArgs()||[]).join(",")+")"+(this.getFileName()?"@"+this.getFileName():"")+(e(this.getLineNumber())?":"+this.getLineNumber():"")+(e(this.getColumnNumber())?":"+this.getColumnNumber():"")}};for(var c=0;c<r.length;c++)a.prototype["get"+t(r[c])]=n(r[c]),a.prototype["set"+t(r[c])]=function(e){return function(t){this[e]=Boolean(t)}}(r[c]);for(var u=0;u<i.length;u++)a.prototype["get"+t(i[u])]=n(i[u]),a.prototype["set"+t(i[u])]=function(t){return function(n){if(!e(n))throw new TypeError(t+" must be a Number");this[t]=Number(n)}}(i[u]);for(var l=0;l<o.length;l++)a.prototype["get"+t(o[l])]=n(o[l]),a.prototype["set"+t(o[l])]=function(e){return function(t){this[e]=String(t)}}(o[l]);return a}));var b={};!function(e,t){"use strict";"object"==typeof b?b=t(y):e.ErrorStackParser=t(e.StackFrame)}(this,(function(e){"use strict";var t=/(^|@)\S+\:\d+/,n=/^\s*at .*(\S+\:\d+|\(native\))/m,r=/^(eval@)?(\[native code\])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(e.replace(/[\(\)]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter((function(e){return!!e.match(n)}),this).map((function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=n.match(/ (\((.+):(\d+):(\d+)\)$)/),i=(n=r?n.replace(r[0],""):n).split(/\s+/).slice(1),o=this.extractLocation(r?r[1]:i.pop()),s=i.join(" ")||void 0,a=["eval","<anonymous>"].indexOf(o[0])>-1?void 0:o[0];return new e({functionName:s,fileName:a,lineNumber:o[1],columnNumber:o[2],source:t})}),this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter((function(e){return!e.match(r)}),this).map((function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=t.match(n),i=r&&r[1]?r[1]:void 0,o=this.extractLocation(t.replace(n,""));return new e({functionName:i,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=t.message.split("\n"),i=[],o=2,s=r.length;o<s;o+=2){var a=n.exec(r[o]);a&&i.push(new e({fileName:a[2],lineNumber:a[1],source:r[o]}))}return i},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=t.stacktrace.split("\n"),i=[],o=0,s=r.length;o<s;o+=2){var a=n.exec(r[o]);a&&i.push(new e({functionName:a[3]||void 0,fileName:a[2],lineNumber:a[1],source:r[o]}))}return i},parseOpera11:function(n){return n.stack.split("\n").filter((function(e){return!!e.match(t)&&!e.match(/^Error created at/)}),this).map((function(t){var n,r=t.split("@"),i=this.extractLocation(r.pop()),o=r.shift()||"",s=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;o.match(/\(([^\)]*)\)/)&&(n=o.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var a=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new e({functionName:s,args:a,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:t})}),this)}}}));var _=b,x=function(e){return!(!e||!e.stack&&!e.stacktrace&&!e["opera#sourceloc"]||"string"!=typeof(e.stack||e.stacktrace||e["opera#sourceloc"])||e.stack===e.name+": "+e.message)},w=function(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}},S=function(e,t,n){"string"==typeof t&&(n?e[t]&&delete e[t][n]:delete e[t])},A={add:function(e,t,n,r){var i;if(t){var o;if(null===n)return S(e,t);"object"==typeof n&&(o=n),"string"==typeof n&&((i={})[n]=r,o=i),o&&(e[t]||(e[t]={}),e[t]=f({},e[t],o))}},get:function(e,t,n){if("string"==typeof t)return n?e[t]?e[t][n]:void 0:e[t]},clear:S},C={};!function(e,t){"use strict";"object"==typeof C?C=t(y):e.StackGenerator=t(e.StackFrame)}(this,(function(e){return{backtrace:function(t){var n=[],r=10;"object"==typeof t&&"number"==typeof t.maxStackSize&&(r=t.maxStackSize);for(var i=arguments.callee;i&&n.length<r&&i.arguments;){for(var o=new Array(i.arguments.length),s=0;s<o.length;++s)o[s]=i.arguments[s];/function(?:\s+([\w$]+))+\s*\(/.test(i.toString())?n.push(new e({functionName:RegExp.$1||void 0,args:o})):n.push(new e({args:o}));try{i=i.caller}catch(a){break}}return n}}}));var O=function(){function e(e,n,r,i,o){void 0===r&&(r=[]),void 0===i&&(i=E()),this.apiKey=void 0,this.context=void 0,this.groupingHash=void 0,this.originalError=o,this._handledState=i,this.severity=this._handledState.severity,this.unhandled=this._handledState.unhandled,this.app={},this.device={},this.request={},this.breadcrumbs=[],this.threads=[],this._metadata={},this._user={},this._session=void 0,this.errors=[{errorClass:T(e),errorMessage:T(n),type:"browserjs",stacktrace:t(r,(function(e,t){var n=k(t);try{return"{}"===JSON.stringify(n)?e:e.concat(n)}catch(r){return e}}),[])}]}var n=e.prototype;return n.addMetadata=function(e,t,n){return A.add(this._metadata,e,t,n)},n.getMetadata=function(e,t){return A.get(this._metadata,e,t)},n.clearMetadata=function(e,t){return A.clear(this._metadata,e,t)},n.getUser=function(){return this._user},n.setUser=function(e,t,n){this._user={id:e,email:t,name:n}},n.toJSON=function(){return{payloadVersion:"4",exceptions:p(this.errors,(function(e){return f({},e,{message:e.errorMessage})})),severity:this.severity,unhandled:this._handledState.unhandled,severityReason:this._handledState.severityReason,app:this.app,device:this.device,request:this.request,breadcrumbs:this.breadcrumbs,context:this.context,groupingHash:this.groupingHash,metaData:this._metadata,user:this._user,session:this._session}},e}(),k=function(e){var t={file:e.fileName,method:j(e.functionName),lineNumber:e.lineNumber,columnNumber:e.columnNumber,code:void 0,inProject:void 0};return t.lineNumber>-1&&!t.file&&!t.method&&(t.file="global code"),t},j=function(e){return/^global code$/i.test(e)?"global code":e},E=function(){return{unhandled:!1,severity:"warning",severityReason:{type:"handledException"}}},T=function(e){return"string"==typeof e?e:""};O.getStacktrace=function(e,t,r){if(x(e))return _.parse(e).slice(t);try{return n(C.backtrace(),(function(e){return-1===(e.functionName||"").indexOf("StackGenerator$$")})).slice(1+r)}catch(i){return[]}},O.create=function(e,t,n,r,i,o){void 0===i&&(i=0);var s,a=P(e,t,r,o),c=a[0],u=a[1];try{var l=O.getStacktrace(c,u>0?1+u+i:0,1+i);s=new O(c.name,c.message,l,n,e)}catch(d){s=new O(c.name,c.message,[],n,e)}return"InvalidError"===c.name&&s.addMetadata(""+r,"non-error parameter",M(e)),s};var M=function(e){return null===e?"null":void 0===e?"undefined":e},P=function(e,t,n,r){var i,o=0,s=function(e){r&&r.warn(n+' received a non-error: "'+e+'"');var t=new Error(n+' received a non-error. See "'+n+'" tab for more detail.');return t.name="InvalidError",t};if(t)switch(typeof e){case"string":case"number":case"boolean":i=new Error(String(e)),o+=1;break;case"function":i=s("function"),o+=2;break;case"object":null!==e&&w(e)?i=e:null!==e&&B(e)?((i=new Error(e.message||e.errorMessage)).name=e.name||e.errorClass,o+=1):(i=s(null===e?"null":"unsupported object"),o+=2);break;default:i=s("nothing"),o+=2}else w(e)?i=e:(i=s(typeof e),o+=2);if(!x(i))try{throw i}catch(a){x(a)&&(i=a,o=1)}return[i,o]},B=function(e){return!("string"!=typeof e.name&&"string"!=typeof e.errorClass||"string"!=typeof e.message&&"string"!=typeof e.errorMessage)},L=O,I=function(e,t,n,r){for(var i=!1,o=e.slice();!i&&o.length;)try{i=!1===o.pop()(t)}catch(s){r.error("Error occurred in "+n+" callback, continuing anyway"),r.error(s)}return i},R=function(e,t){var n="000000000"+e;return n.substr(n.length-t)},q="object"==typeof window?window:self,D=0;for(var N in q)Object.hasOwnProperty.call(q,N)&&D++;var V=navigator.mimeTypes?navigator.mimeTypes.length:0,F=R((V+navigator.userAgent.length).toString(36)+D.toString(36),4),W=function(){return F},z=0,H=Math.pow(36,4);function X(){return R((Math.random()*H<<0).toString(36),4)}function U(){return"c"+(new Date).getTime().toString(36)+R((z=z<H?z:0,++z-1).toString(36),4)+W()+(X()+X())}U.fingerprint=W;var G=U,Y=function(){function e(){this.id=G(),this.startedAt=new Date,this._handled=0,this._unhandled=0,this._user={},this.app={},this.device={}}var t=e.prototype;return t.getUser=function(){return this._user},t.setUser=function(e,t,n){this._user={id:e,email:t,name:n}},t.toJSON=function(){return{id:this.id,startedAt:this.startedAt,events:{handled:this._handled,unhandled:this._unhandled}}},t._track=function(e){this[e._handledState.unhandled?"_unhandled":"_handled"]+=1},e}(),K=function(){},$=function(){function i(e,t,n,r){var o=this;void 0===t&&(t=d.schema),void 0===n&&(n=[]),this._notifier=r,this._config={},this._schema=t,this._delivery={sendSession:K,sendEvent:K},this._logger={debug:K,info:K,warn:K,error:K},this._plugins={},this._breadcrumbs=[],this._session=null,this._metadata={},this._context=void 0,this._user={},this._cbs={e:[],s:[],sp:[],b:[]},this.Client=i,this.Event=L,this.Breadcrumb=v,this.Session=Y,this._config=this._configure(e,n),p(n.concat(this._config.plugins),(function(e){e&&o._loadPlugin(e)})),this._depth=1;var s=this,a=this.notify;this.notify=function(){return a.apply(s,arguments)}}var o=i.prototype;return o.addMetadata=function(e,t,n){return A.add(this._metadata,e,t,n)},o.getMetadata=function(e,t){return A.get(this._metadata,e,t)},o.clearMetadata=function(e,t){return A.clear(this._metadata,e,t)},o.getContext=function(){return this._context},o.setContext=function(e){this._context=e},o._configure=function(e,n){var r=t(n,(function(e,t){return t&&t.configSchema?f({},e,t.configSchema):e}),this._schema),i=t(a(r),(function(t,n){var i=r[n].defaultValue(e[n]);return void 0!==e[n]?r[n].validate(e[n])?r[n].allowPartialObject?t.config[n]=f(i,e[n]):t.config[n]=e[n]:(t.errors[n]=r[n].message,t.config[n]=i):t.config[n]=i,t}),{errors:{},config:{}}),o=i.errors,s=i.config;if(r.apiKey){if(!s.apiKey)throw new Error("No Bugsnag API Key set");/^[0-9a-f]{32}$/i.test(s.apiKey)||(o.apiKey="should be a string of 32 hexadecimal characters")}return this._metadata=f({},s.metadata),this._user=f({},s.user),this._context=s.context,s.logger&&(this._logger=s.logger),s.onError&&(this._cbs.e=this._cbs.e.concat(s.onError)),s.onBreadcrumb&&(this._cbs.b=this._cbs.b.concat(s.onBreadcrumb)),s.onSession&&(this._cbs.s=this._cbs.s.concat(s.onSession)),a(o).length&&this._logger.warn(J(o,e)),s},o.getUser=function(){return this._user},o.setUser=function(e,t,n){this._user={id:e,email:t,name:n}},o._loadPlugin=function(e){var t=e.load(this);return e.name&&(this._plugins["~"+e.name+"~"]=t),this},o.getPlugin=function(e){return this._plugins["~"+e+"~"]},o._setDelivery=function(e){this._delivery=e(this)},o.startSession=function(){var e=new Y;return e.app.releaseStage=this._config.releaseStage,e.app.version=this._config.appVersion,e.app.type=this._config.appType,e._user=f({},this._user),I(this._cbs.s,e,"onSession",this._logger)?(this._logger.debug("Session not started due to onSession callback"),this):this._sessionDelegate.startSession(this,e)},o.addOnError=function(e,t){void 0===t&&(t=!1),this._cbs.e[t?"unshift":"push"](e)},o.removeOnError=function(e){this._cbs.e=n(this._cbs.e,(function(t){return t!==e}))},o._addOnSessionPayload=function(e){this._cbs.sp.push(e)},o.addOnSession=function(e){this._cbs.s.push(e)},o.removeOnSession=function(e){this._cbs.s=n(this._cbs.s,(function(t){return t!==e}))},o.addOnBreadcrumb=function(e,t){void 0===t&&(t=!1),this._cbs.b[t?"unshift":"push"](e)},o.removeOnBreadcrumb=function(e){this._cbs.b=n(this._cbs.b,(function(t){return t!==e}))},o.pauseSession=function(){return this._sessionDelegate.pauseSession(this)},o.resumeSession=function(){return this._sessionDelegate.resumeSession(this)},o.leaveBreadcrumb=function(t,n,i){if(t="string"==typeof t?t:"",i="string"==typeof i&&r(e,i)?i:"manual",n="object"==typeof n&&null!==n?n:{},t){var o=new v(t,n,i);I(this._cbs.b,o,"onBreadcrumb",this._logger)?this._logger.debug("Breadcrumb not attached due to onBreadcrumb callback"):(this._breadcrumbs.push(o),this._breadcrumbs.length>this._config.maxBreadcrumbs&&(this._breadcrumbs=this._breadcrumbs.slice(this._breadcrumbs.length-this._config.maxBreadcrumbs)))}},o.notify=function(e,t,n){void 0===n&&(n=K);var r=L.create(e,!0,void 0,"notify()",this._depth+1,this._logger);this._notify(r,t,n)},o._notify=function(e,t,n){var o=this;if(void 0===n&&(n=K),e.app=f({},e.app,{releaseStage:this._config.releaseStage,version:this._config.appVersion,type:this._config.appType}),e.context=e.context||this._context,e._metadata=f({},e._metadata,this._metadata),e._user=f({},e._user,this._user),e.breadcrumbs=this._breadcrumbs.slice(),this._session&&(this._session._track(e),e._session=this._session),null!==this._config.enabledReleaseStages&&!r(this._config.enabledReleaseStages,this._config.releaseStage))return this._logger.warn("Event not sent due to releaseStage/enabledReleaseStages configuration"),n(null,e);var s=e.severity,a=function(e){o._logger.error("Error occurred in onError callback, continuing anyway"),o._logger.error(e)};!function(e,t,n,r){!function(e,t,n){var r=0,i=function(){if(r>=e.length)return n(null,!0);t(e[r],(function(e,t){return e?n(e):!1===t?n(null,!1):(r++,void i())}))};i()}(e,(function(e,r){if("function"!=typeof e)return r(null);try{if(2!==e.length){var i=e(t);return i&&"function"==typeof i.then?i.then((function(e){return setTimeout((function(){return r(null,e)}))}),(function(e){setTimeout((function(){return n(e),r(null,!0)}))})):r(null,i)}e(t,(function(e,t){if(e)return n(e),r(null);r(null,t)}))}catch(o){n(o),r(null)}}),r)}([].concat(this._cbs.e).concat(t),e,a,(function(t,c){if(t&&a(t),!c)return o._logger.debug("Event not sent due to onError callback"),n(null,e);r(o._config.enabledBreadcrumbTypes,"error")&&i.prototype.leaveBreadcrumb.call(o,e.errors[0].errorClass,{errorClass:e.errors[0].errorClass,errorMessage:e.errors[0].errorMessage,severity:e.severity},"error"),s!==e.severity&&(e._handledState.severityReason={type:"userCallbackSetSeverity"}),o._delivery.sendEvent({apiKey:e.apiKey||o._config.apiKey,notifier:o._notifier,events:[e]},(function(t){return n(t,e)}))}))},i}(),J=function(e,t){return new Error("Invalid configuration\n"+p(a(e),(function(n){return"  - "+n+" "+e[n]+", got "+Q(t[n])})).join("\n\n"))},Q=function(e){switch(typeof e){case"string":case"number":case"object":return JSON.stringify(e);default:return String(e)}},Z=$,ee=function(e,t,n,r){var i=r&&r.redactedKeys?r.redactedKeys:[],o=r&&r.redactedPaths?r.redactedPaths:[];return JSON.stringify(function(e,t,n){var r=[],i=0;return function e(o,s){function a(){return s.length>8&&i>25e3}if(i++,s.length>20)return"...";if(a())return"...";if(null===o||"object"!=typeof o)return o;if(function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return!0;return!1}(r,o))return"[Circular]";if(r.push(o),"function"==typeof o.toJSON)try{i--;var c=e(o.toJSON(),s);return r.pop(),c}catch(g){return te(g)}var u;if((u=o)instanceof Error||/^\[object (Error|(Dom)?Exception)\]$/.test(Object.prototype.toString.call(u))){i--;var l=e({name:o.name,message:o.message},s);return r.pop(),l}if(function(e){return"[object Array]"===Object.prototype.toString.call(e)}(o)){for(var d=[],f=0,p=o.length;f<p;f++){if(a()){d.push("...");break}d.push(e(o[f],s.concat("[]")))}return r.pop(),d}var h={};try{for(var m in o)if(Object.prototype.hasOwnProperty.call(o,m))if(ne(n,s.join("."))&&re(t,m))h[m]="[REDACTED]";else{if(a()){h[m]="...";break}h[m]=e(ie(o,m),s.concat(m))}}catch(v){}return r.pop(),h}(e,[])}(e,i,o),t,n)};function te(e){return"[Throws: "+(e?e.message:"?")+"]"}function ne(e,t){for(var n=0,r=e.length;n<r;n++)if(0===t.indexOf(e[n]))return!0;return!1}function re(e,t){for(var n=0,r=e.length;n<r;n++){if("string"==typeof e[n]&&e[n].toLowerCase()===t.toLowerCase())return!0;if(e[n]&&"function"==typeof e[n].test&&e[n].test(t))return!0}return!1}function ie(e,t){try{return e[t]}catch(n){return te(n)}}var oe,se={},ae=["events.[].metaData","events.[].breadcrumbs.[].metaData","events.[].request"];se.event=function(e,t){var n=ee(e,null,null,{redactedPaths:ae,redactedKeys:t});if(n.length>1e6&&(e.events[0]._metadata={notifier:"WARNING!\nSerialized payload was "+n.length/1e6+"MB (limit = 1MB)\nmetadata was removed"},(n=ee(e,null,null,{redactedPaths:ae,redactedKeys:t})).length>1e6))throw new Error("payload exceeded 1MB limit");return n},se.session=function(e,t){var n=ee(e,null,null);if(n.length>1e6)throw new Error("payload exceeded 1MB limit");return n},oe=function(e,t){return void 0===t&&(t=window),{sendEvent:function(n,r){void 0===r&&(r=function(){});var i=ce(e._config,"notify","4",t),o=new t.XDomainRequest;o.onload=function(){r(null)},o.open("POST",i),setTimeout((function(){try{o.send(se.event(n,e._config.redactedKeys))}catch(t){e._logger.error(t),r(t)}}),0)},sendSession:function(n,r){void 0===r&&(r=function(){});var i=ce(e._config,"sessions","1",t),o=new t.XDomainRequest;o.onload=function(){r(null)},o.open("POST",i),setTimeout((function(){try{o.send(se.session(n,e._config.redactedKeys))}catch(t){e._logger.error(t),r(t)}}),0)}}};var ce=function(e,t,n,r){var i=JSON.parse(JSON.stringify(new Date));return ue(e.endpoints[t],r.location.protocol)+"?apiKey="+encodeURIComponent(e.apiKey)+"&payloadVersion="+n+"&sentAt="+encodeURIComponent(i)},ue=oe._matchPageProtocol=function(e,t){return"http:"===t?e.replace(/^https:/,"http:"):e},le=function(e,t){return void 0===t&&(t=window),{sendEvent:function(n,r){void 0===r&&(r=function(){});try{var i=e._config.endpoints.notify,o=new t.XMLHttpRequest;o.onreadystatechange=function(){o.readyState===t.XMLHttpRequest.DONE&&r(null)},o.open("POST",i),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Bugsnag-Api-Key",n.apiKey||e._config.apiKey),o.setRequestHeader("Bugsnag-Payload-Version","4"),o.setRequestHeader("Bugsnag-Sent-At",(new Date).toISOString()),o.send(se.event(n,e._config.redactedKeys))}catch(s){e._logger.error(s)}},sendSession:function(n,r){void 0===r&&(r=function(){});try{var i=e._config.endpoints.sessions,o=new t.XMLHttpRequest;o.onreadystatechange=function(){o.readyState===t.XMLHttpRequest.DONE&&r(null)},o.open("POST",i),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Bugsnag-Api-Key",e._config.apiKey),o.setRequestHeader("Bugsnag-Payload-Version","1"),o.setRequestHeader("Bugsnag-Sent-At",(new Date).toISOString()),o.send(se.session(n,e._config.redactedKeys))}catch(s){e._logger.error(s)}}}},de=new Date,fe={load:function(e){e.addOnError((function(e){var t=new Date;e.app.duration=t-de}),!0)}},pe=function(e){return void 0===e&&(e=window),{load:function(t){t.addOnError((function(t){t.request&&t.request.url||(t.request=f({},t.request,{url:e.location.href}))}),!0)}}},he={load:function(e){e._sessionDelegate=me}},me={startSession:function(e,t){var n=e;return n._session=t,n._pausedSession=null,null===n._config.enabledReleaseStages||r(n._config.enabledReleaseStages,n._config.releaseStage)?(n._delivery.sendSession({notifier:n._notifier,device:t.device,app:t.app,sessions:[{id:t.id,startedAt:t.startedAt,user:t._user}]}),n):(n._logger.warn("Session not sent due to releaseStage/enabledReleaseStages configuration"),n)},resumeSession:function(e){return e._pausedSession?(e._session=e._pausedSession,e._pausedSession=null,e):e.startSession()},pauseSession:function(e){e._pausedSession=e._session,e._session=null}},ge={load:function(e){e._config.collectUserIp||e.addOnError((function(e){e._user&&void 0===e._user.id&&delete e._user.id,e._user=f({id:"[REDACTED]"},e._user),e.request=f({clientIp:"[REDACTED]"},e.request)}))},configSchema:{collectUserIp:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return!0===e||!1===e}}}},ve={load:function(e){var n=/^dev(elopment)?$/.test(e._config.releaseStage);e._config.enabledBreadcrumbTypes&&r(e._config.enabledBreadcrumbTypes,"log")&&!n&&p(ye,(function(n){var r=console[n];console[n]=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];e.leaveBreadcrumb("Console output",t(o,(function(e,t,n){var r="[Unknown value]";try{r=String(t)}catch(i){}if("[object Object]"===r)try{r=JSON.stringify(t)}catch(i){}return e["["+n+"]"]=r,e}),{severity:0===n.indexOf("group")?"log":n}),"log"),r.apply(console,o)},console[n]._restore=function(){console[n]=r}}))}},ye=n(["log","debug","info","warn","error"],(function(e){return"undefined"!=typeof console&&"function"==typeof console[e]})),be=function(e,r){return void 0===e&&(e=document),void 0===r&&(r=window),{load:function(i){if(i._config.trackInlineScripts){var o=r.location.href,s="",a=!1,c=function(){return e.documentElement.outerHTML};s=c();var u=e.onreadystatechange;e.onreadystatechange=function(){"interactive"===e.readyState&&(s=c(),a=!0);try{u.apply(this,arguments)}catch(t){}};var l=null,d=function(e){l=e},f=function(){var t=e.currentScript||l;if(!t&&!a){var n=e.scripts||e.getElementsByTagName("script");t=n[n.length-1]}return t};i.addOnError((function(e){e.errors[0].stacktrace=n(e.errors[0].stacktrace,(function(e){return!/__trace__$/.test(e.method)}));var r=e.errors[0].stacktrace[0];if(!r||!r.file||r.file.replace(/#.*$/,"")===o.replace(/#.*$/,"")){var i=f();if(i){var u=i.innerHTML;e.addMetadata("script","content",u.length<=5e5?u:u.substr(0,5e5))}r&&r.lineNumber&&(r.code=function(e){a&&s||(s=c());var n=["\x3c!-- DOC START --\x3e"].concat(s.split("\n")),r=e-1,i=Math.max(r-3,0),o=Math.min(r+3,n.length);return t(n.slice(i,o),(function(e,t,n){return e[i+1+n]=t.length<=200?t:t.substr(0,200),e}),{})}(r.lineNumber))}}),!0);var h=p(["setTimeout","setInterval","setImmediate","requestAnimationFrame"],(function(e){return _e(r,e,(function(e){return m(e,(function(e){return{get:function(){return e[0]},replace:function(t){e[0]=t}}}))}))}))[0];p(["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],(function(e){r[e]&&r[e].prototype&&Object.prototype.hasOwnProperty.call(r[e].prototype,"addEventListener")&&(_e(r[e].prototype,"addEventListener",(function(e){return m(e,xe)})),_e(r[e].prototype,"removeEventListener",(function(e){return m(e,xe,!0)})))}))}function m(e,t,n){return void 0===n&&(n=!1),function(){var r=[].slice.call(arguments);try{var i=t(r),o=i.get();if(n&&e.apply(this,r),"function"!=typeof o)return e.apply(this,r);if(o.__trace__)i.replace(o.__trace__);else{var s=f();o.__trace__=function(){d(s),h((function(){d(null)}),0);var e=o.apply(this,arguments);return d(null),e},o.__trace__.__trace__=o.__trace__,i.replace(o.__trace__)}}catch(a){}if(e.apply)return e.apply(this,r);switch(r.length){case 1:return e(r[0]);case 2:return e(r[0],r[1]);default:return e()}}}},configSchema:{trackInlineScripts:{validate:function(e){return!0===e||!1===e},defaultValue:function(){return!0},message:"should be true|false"}}}};function _e(e,t,n){var r=e[t];if(!r)return r;var i=n(r);return e[t]=i,r}function xe(e){var t=!!e[1]&&"function"==typeof e[1].handleEvent;return{get:function(){return t?e[1].handleEvent:e[1]},replace:function(n){t?e[1].handleEvent=n:e[1]=n}}}var we,Se=function(e){return void 0===e&&(e=window),{load:function(t){"addEventListener"in e&&t._config.enabledBreadcrumbTypes&&r(t._config.enabledBreadcrumbTypes,"user")&&e.addEventListener("click",(function(n){var r,i;try{r=Ae(n.target),i=function e(t,n){var r=[t.tagName];if(t.id&&r.push("#"+t.id),t.className&&t.className.length&&r.push("."+t.className.split(" ").join(".")),!n.document.querySelectorAll||!Array.prototype.indexOf)return r.join("");try{if(1===n.document.querySelectorAll(r.join("")).length)return r.join("")}catch(o){return r.join("")}if(t.parentNode.childNodes.length>1){var i=Array.prototype.indexOf.call(t.parentNode.childNodes,t)+1;r.push(":nth-child("+i+")")}return 1===n.document.querySelectorAll(r.join("")).length?r.join(""):t.parentNode?e(t.parentNode,n)+" > "+r.join(""):r.join("")}(n.target,e)}catch(o){r="[hidden]",i="[hidden]",t._logger.error("Cross domain error when tracking click event. See docs: https://tinyurl.com/yy3rn63z")}t.leaveBreadcrumb("UI click",{targetText:r,targetSelector:i},"user")}),!0)}}},Ae=function(e){var t,n,r=e.textContent||e.innerText||"";return r||"submit"!==e.type&&"button"!==e.type||(r=e.value),r=r.replace(/^\s+|\s+$/g,""),n=140,(t=r)&&t.length<=n?t:t.slice(0,n-"(...)".length)+"(...)"};we=function(e){return void 0===e&&(e=window),{load:function(t){if("addEventListener"in e&&t._config.enabledBreadcrumbTypes&&r(t._config.enabledBreadcrumbTypes,"navigation")){var n=function(e){return function(){return t.leaveBreadcrumb(e,{},"navigation")}};e.addEventListener("pagehide",n("Page hidden"),!0),e.addEventListener("pageshow",n("Page shown"),!0),e.addEventListener("load",n("Page loaded"),!0),e.document.addEventListener("DOMContentLoaded",n("DOMContentLoaded"),!0),e.addEventListener("load",(function(){return e.addEventListener("popstate",n("Navigated back"),!0)})),e.addEventListener("hashchange",(function(n){var r=n.oldURL?{from:Ce(n.oldURL,e),to:Ce(n.newURL,e),state:ke(e)}:{to:Ce(e.location.href,e)};t.leaveBreadcrumb("Hash changed",r,"navigation")}),!0),e.history.replaceState&&Oe(t,e.history,"replaceState",e),e.history.pushState&&Oe(t,e.history,"pushState",e),t.leaveBreadcrumb("Bugsnag loaded",{},"navigation")}}}};var Ce=function(e,t){var n=t.document.createElement("A");return n.href=e,""+n.pathname+n.search+n.hash},Oe=function(e,t,n,r){var i=t[n];t[n]=function(o,s,a){e.leaveBreadcrumb("History "+n,function(e,t,n,r){var i=Ce(e.location.href,e);return{title:n,state:t,prevState:ke(e),to:r||i,from:i}}(r,o,s,a),"navigation"),"function"==typeof e.resetEventCount&&e.resetEventCount(),e._config.autoTrackSessions&&e.startSession(),i.apply(t,[o,s].concat(void 0!==a?a:[]))}},ke=function(e){try{return e.history.state}catch(t){}},je=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=window),{load:function(n){if(n._config.enabledBreadcrumbTypes&&r(n._config.enabledBreadcrumbTypes,"request")){var i=[n._config.endpoints.notify,n._config.endpoints.sessions].concat(e);!function(){if("addEventListener"in t.XMLHttpRequest.prototype){var e=t.XMLHttpRequest.prototype.open;t.XMLHttpRequest.prototype.open=function(t,n){this["BS~~U"]=n,this["BS~~M"]=t,this["BS~~S"]&&(this.removeEventListener("load",a),this.removeEventListener("error",c)),this.addEventListener("load",a),this.addEventListener("error",c),this["BS~~S"]=!0,e.apply(this,arguments)}}}(),function(){if("fetch"in t&&!t.fetch.polyfill){var e=t.fetch;t.fetch=function(){var t,n=arguments,r=arguments[0],i=arguments[1],a=null;return r&&"object"==typeof r?(a=r.url,i&&"method"in i?t=i.method:r&&"method"in r&&(t=r.method)):(a=r,i&&"method"in i&&(t=i.method)),void 0===t&&(t="GET"),new Promise((function(r,i){e.apply(void 0,n).then((function(e){o(e,t,a),r(e)})).catch((function(e){s(t,a),i(e)}))}))}}}();var o=function(e,t,r){var i={status:e.status,request:t+" "+r};e.status>=400?n.leaveBreadcrumb("fetch() failed",i,"request"):n.leaveBreadcrumb("fetch() succeeded",i,"request")},s=function(e,t){n.leaveBreadcrumb("fetch() error",{request:e+" "+t},"request")}}function a(){if(!r(i,this["BS~~U"])){var e={status:this.status,request:this["BS~~M"]+" "+this["BS~~U"]};this.status>=400?n.leaveBreadcrumb("XMLHttpRequest failed",e,"request"):n.leaveBreadcrumb("XMLHttpRequest succeeded",e,"request")}}function c(){r(i,this["BS~~U"])||n.leaveBreadcrumb("XMLHttpRequest error",{request:this["BS~~M"]+" "+this["BS~~U"]},"request")}}}},Ee={load:function(e){var t=0;e.addOnError((function(n){if(t>=e._config.maxEvents)return!1;t++})),e.resetEventCount=function(){t=0}},configSchema:{maxEvents:{defaultValue:function(){return 10},message:"should be a positive integer 100",validate:function(e){return c(1,100)(e)}}}},Te={},Me=(Te={load:function(e){e.addOnError((function(e){var n=t(e.errors,(function(e,t){return e.concat(t.stacktrace)}),[]);p(n,(function(e){e.file=Me(e.file)}))}))}})._strip=function(e){return"string"==typeof e?e.replace(/\?.*$/,"").replace(/#.*$/,""):e},Pe=function(e){return void 0===e&&(e=window),{load:function(t){if(t._config.autoDetectErrors&&t._config.enabledErrorTypes.unhandledExceptions){var n=e.onerror;e.onerror=function(e,r,i,o,s){if(0===i&&/Script error\.?/.test(e))t._logger.warn("Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z");else{var a,c={severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}};if(s)a=t.Event.create(s,!0,c,"window onerror",1),Be(a.errors[0].stacktrace,r,i,o);else if("object"!=typeof e||null===e||r&&"string"==typeof r||i||o||s)a=t.Event.create(e,!0,c,"window onerror",1),Be(a.errors[0].stacktrace,r,i,o);else{var u=e.type?"Event: "+e.type:"Error",l=e.message||e.detail||"";(a=t.Event.create({name:u,message:l},!0,c,"window onerror",1)).originalError=e,a.addMetadata("window onerror",{event:e,extraParameters:r})}t._notify(a)}"function"==typeof n&&n.apply(this,arguments)}}}}},Be=function(e,t,n,r){e[0]||e.push({});var i=e[0];i.file||"string"!=typeof t||(i.file=t),!i.lineNumber&&Le(n)&&(i.lineNumber=n),i.columnNumber||(Le(r)?i.columnNumber=r:window.event&&Le(window.event.errorCharacter)&&(i.columnNumber=window.event.errorCharacter))},Le=function(e){return"number"==typeof e&&"NaN"!==String.call(e)},Ie=function(e){return void 0===e&&(e=window),{load:function(t){if(t._config.autoDetectErrors&&t._config.enabledErrorTypes.unhandledRejections){var n=function(e){var n=e.reason,r=!1;try{e.detail&&e.detail.reason&&(n=e.detail.reason,r=!0)}catch(o){}var i=t.Event.create(n,!1,{severity:"error",unhandled:!0,severityReason:{type:"unhandledPromiseRejection"}},"unhandledrejection handler",1,t._logger);r&&p(i.errors[0].stacktrace,Re(n)),t._notify(i,(function(e){var t;w(e.originalError)&&!e.originalError.stack&&e.addMetadata("unhandledRejection handler",((t={})[Object.prototype.toString.call(e.originalError)]={name:e.originalError.name,message:e.originalError.message,code:e.originalError.code},t))}))};"addEventListener"in e?e.addEventListener("unhandledrejection",n):e.onunhandledrejection=function(e,t){n({detail:{reason:e,promise:t}})}}}}},Re=function(e){return function(t){t.file!==e.toString()&&t.method&&(t.method=t.method.replace(/^\s+/,""))}},qe={},De=f({},d.schema,m),Ne={_client:null,createClient:function(e){"string"==typeof e&&(e={apiKey:e}),e||(e={});var t,n,r,i=[fe,(void 0===n&&(n=navigator),void 0===r&&(r=window.screen),{load:function(e){var t={locale:n.browserLanguage||n.systemLanguage||n.userLanguage||n.language,userAgent:n.userAgent};r&&r.orientation&&r.orientation.type?t.orientation=r.orientation.type:t.orientation=document.documentElement.clientWidth>document.documentElement.clientHeight?"landscape":"portrait",e.addOnSession((function(e){e.device=f({},e.device,t)})),e.addOnError((function(e){e.device=f({},e.device,t,{time:new Date})}),!0)}}),(void 0===t&&(t=window),{load:function(e){e.addOnError((function(e){void 0===e.context&&(e.context=t.location.pathname)}),!0)}}),pe(),Ee,he,ge,Te,Pe(),Ie(),we(),Se(),je(),ve,be()],o=new Z(e,De,i,{name:"Bugsnag JavaScript",version:"7.3.0",url:"https://github.com/bugsnag/bugsnag-js"});return o._setDelivery(window.XDomainRequest?oe:le),o._logger.debug("Loaded!"),o._config.autoTrackSessions?o.startSession():o},start:function(e){return Ne._client?(Ne._client._logger.warn("Bugsnag.start() was called more than once. Ignoring."),Ne._client):(Ne._client=Ne.createClient(e),Ne._client)}};return p(["resetEventCount"].concat(a(Z.prototype)),(function(e){/^_/.test(e)||(Ne[e]=function(){if(!Ne._client)return console.log("Bugsnag."+e+"() was called before Bugsnag.start()");Ne._client._depth+=1;var t=Ne._client[e].apply(Ne._client,arguments);return Ne._client._depth-=1,t})})),(qe=Ne).Client=Z,qe.Event=L,qe.Session=Y,qe.Breadcrumb=v,qe.default=Ne,qe}()},"./node_modules/@bugsnag/js/browser/notifier.js":function(e,t,n){e.exports=n("./node_modules/@bugsnag/browser/dist/bugsnag.js")},"./node_modules/bezier-easing/src/index.js":function(e,t){var n="function"==typeof Float32Array;function r(e,t){return 1-3*t+3*e}function i(e,t){return 3*t-6*e}function o(e){return 3*e}function s(e,t,n){return((r(t,n)*e+i(t,n))*e+o(t))*e}function a(e,t,n){return 3*r(t,n)*e*e+2*i(t,n)*e+o(t)}function c(e){return e}e.exports=function(e,t,r,i){if(!(0<=e&&e<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&r===i)return c;for(var o=n?new Float32Array(11):new Array(11),u=0;u<11;++u)o[u]=s(.1*u,e,r);function l(t){for(var n=0,i=1;10!==i&&o[i]<=t;++i)n+=.1;--i;var c=n+.1*((t-o[i])/(o[i+1]-o[i])),u=a(c,e,r);return u>=.001?function(e,t,n,r){for(var i=0;i<4;++i){var o=a(t,n,r);if(0===o)return t;t-=(s(t,n,r)-e)/o}return t}(t,c,e,r):0===u?c:function(e,t,n,r,i){var o,a,c=0;do{(o=s(a=t+(n-t)/2,r,i)-e)>0?n=a:t=a}while(Math.abs(o)>1e-7&&++c<10);return a}(t,n,n+.1,e,r)}return function(e){return 0===e?0:1===e?1:s(l(e),t,i)}}},"./node_modules/gsap/gsap-core.js":function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}
/*!
*/n.d(t,"b",(function(){return qt})),n.d(t,"c",(function(){return un})),n.d(t,"A",(function(){return pn})),n.d(t,"d",(function(){return hn})),n.d(t,"a",(function(){return mn})),n.d(t,"f",(function(){return Yt})),n.d(t,"e",(function(){return Nt})),n.d(t,"z",(function(){return Ze})),n.d(t,"l",(function(){return be})),n.d(t,"q",(function(){return J})),n.d(t,"r",(function(){return Q})),n.d(t,"n",(function(){return V})),n.d(t,"o",(function(){return z})),n.d(t,"u",(function(){return nn})),n.d(t,"t",(function(){return ee})),n.d(t,"j",(function(){return _e})),n.d(t,"x",(function(){return cn})),n.d(t,"h",(function(){return St})),n.d(t,"v",(function(){return lt})),n.d(t,"g",(function(){return zt})),n.d(t,"s",(function(){return fe})),n.d(t,"y",(function(){return At})),n.d(t,"i",(function(){return P})),n.d(t,"w",(function(){return xe})),n.d(t,"p",(function(){return oe})),n.d(t,"m",(function(){return Zt})),n.d(t,"k",(function(){return ye}));var o,s,a,c,u,l,d,f,p,h,m,g,v,y,b,_,x,w,S,A,C,O,k,j,E,T,M,P={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},B={duration:.5,overwrite:!1,delay:0},L=2*Math.PI,I=L/4,R=0,q=Math.sqrt,D=Math.cos,N=Math.sin,V=function(e){return"string"==typeof e},F=function(e){return"function"==typeof e},W=function(e){return"number"==typeof e},z=function(e){return void 0===e},H=function(e){return"object"==typeof e},X=function(e){return!1!==e},U=function(){return"undefined"!=typeof window},G=function(e){return F(e)||V(e)},Y="function"==typeof ArrayBuffer?ArrayBuffer.isView:function(){},K=Array.isArray,$=/(?:-?\.?\d|\.)+/gi,J=/[-+=.]*\d+[.e\-+]*\d*[e\-\+]*\d*/g,Q=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Z=/[-+=.]*\d+(?:\.|e-|e)*\d*/gi,ee=/[+-]=-?[\.\d]+/,te=/[#\-+.]*\b[a-z\d-=+%.]+/gi,ne={},re={},ie=function(e){return(re=Te(e,ne))&&pn},oe=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},se=function(e,t){return!t&&console.warn(e)},ae=function(e,t){return e&&(ne[e]=t)&&re&&(re[e]=t)||ne},ce=function(){return 0},ue={},le=[],de={},fe={},pe={},he=30,me=[],ge="",ve=function(e){var t,n,r=e[0];if(H(r)||F(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(n=me.length;n--&&!me[n].targetTest(r););t=me[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new qt(e[n],t)))||e.splice(n,1);return e},ye=function(e){return e._gsap||ve(rt(e))[0]._gsap},be=function(e,t,n){return(n=e[t])&&F(n)?e[t]():z(n)&&e.getAttribute&&e.getAttribute(t)||n},_e=function(e,t){return(e=e.split(",")).forEach(t)||e},xe=function(e){return Math.round(1e5*e)/1e5||0},we=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},Se=function(e,t,n){var r,i=W(e[1]),o=(i?2:1)+(t<2?0:1),s=e[o];if(i&&(s.duration=e[1]),s.parent=n,t){for(r=s;n&&!("immediateRender"in r);)r=n.vars.defaults||{},n=X(n.vars.inherit)&&n.parent;s.immediateRender=X(r.immediateRender),t<2?s.runBackwards=1:s.startAt=e[o-1]}return s},Ae=function(){var e,t,n=le.length,r=le.slice(0);for(de={},le.length=0,e=0;e<n;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},Ce=function(e,t,n,r){le.length&&Ae(),e.render(t,n,r),le.length&&Ae()},Oe=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(te).length<2?t:V(e)?e.trim():e},ke=function(e){return e},je=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},Ee=function(e,t){for(var n in t)n in e||"duration"===n||"ease"===n||(e[n]=t[n])},Te=function(e,t){for(var n in t)e[n]=t[n];return e},Me=function e(t,n){for(var r in n)t[r]=H(n[r])?e(t[r]||(t[r]={}),n[r]):n[r];return t},Pe=function(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r},Be=function(e){var t=e.parent||o,n=e.keyframes?Ee:je;if(X(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},Le=function(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=t._prev,o=t._next;i?i._next=o:e[n]===t&&(e[n]=o),o?o._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null},Ie=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},Re=function(e,t){if(!t||t._end>e._dur||t._start<0)for(var n=e;n;)n._dirty=1,n=n.parent;return e},qe=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},De=function(e){return e._repeat?Ne(e._tTime,e=e.duration()+e._rDelay)*e:0},Ne=function(e,t){return(e/=t)&&~~e===e?~~e-1:~~e},Ve=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Fe=function(e){return e._end=xe(e._start+(e._tDur/Math.abs(e._ts||e._rts||1e-8)||0))},We=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=xe(e._dp._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Fe(e),n._dirty||Re(n,e)),e},ze=function(e,t){var n;if((t._time||t._initted&&!t._dur)&&(n=Ve(e.rawTime(),t),(!t._dur||Qe(0,t.totalDuration(),n)-t._tTime>1e-8)&&t.render(n,!0)),Re(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},He=function(e,t,n,r){return t.parent&&Ie(t),t._start=xe(n+t._delay),t._end=xe(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),function(e,t,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var o,s=e[r];if(i)for(o=t[i];s&&s[i]>o;)s=s._prev;s?(t._next=s._next,s._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=s,t.parent=t._dp=e}(e,t,"_first","_last",e._sort?"_start":0),e._recent=t,r||ze(e,t),e},Xe=function(e,t){return(ne.ScrollTrigger||oe("scrollTrigger",t))&&ne.ScrollTrigger.create(t,e)},Ue=function(e,t,n,r){return Ht(e,t),e._initted?!n&&e._pt&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&l!==At.frame?(le.push(e),e._lazy=[t,r],1):void 0:1},Ge=function(e,t,n,r){var i=e._repeat,o=xe(t)||0,s=e._tTime/e._tDur;return s&&!r&&(e._time*=o/e._dur),e._dur=o,e._tDur=i?i<0?1e10:xe(o*(i+1)+e._rDelay*i):o,s&&!r?We(e,e._tTime=e._tDur*s):e.parent&&Fe(e),n||Re(e.parent,e),e},Ye=function(e){return e instanceof Nt?Re(e):Ge(e,e._dur)},Ke={_start:0,endTime:ce},$e=function e(t,n){var r,i,o=t.labels,s=t._recent||Ke,a=t.duration()>=1e8?s.endTime(!1):t._dur;return V(n)&&(isNaN(n)||n in o)?"<"===(r=n.charAt(0))||">"===r?("<"===r?s._start:s.endTime(s._repeat>=0))+(parseFloat(n.substr(1))||0):(r=n.indexOf("="))<0?(n in o||(o[n]=a),o[n]):(i=+(n.charAt(r-1)+n.substr(r+1)),r>1?e(t,n.substr(0,r-1))+i:a+i):null==n?a:+n},Je=function(e,t){return e||0===e?t(e):t},Qe=function(e,t,n){return n<e?e:n>t?t:n},Ze=function(e){return(e+"").substr((parseFloat(e)+"").length)},et=[].slice,tt=function(e,t){return e&&H(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&H(e[0]))&&!e.nodeType&&e!==s},nt=function(e,t,n){return void 0===n&&(n=[]),e.forEach((function(e){var r;return V(e)&&!t||tt(e,1)?(r=n).push.apply(r,rt(e)):n.push(e)}))||n},rt=function(e,t){return!V(e)||t||!a&&Ct()?K(e)?nt(e,t):tt(e)?et.call(e,0):e?[e]:[]:et.call(c.querySelectorAll(e),0)},it=function(e){return e.sort((function(){return.5-Math.random()}))},ot=function(e){if(F(e))return e;var t=H(e)?e:{each:e},n=Pt(t.ease),r=t.from||0,i=parseFloat(t.base)||0,o={},s=r>0&&r<1,a=isNaN(r)||s,c=t.axis,u=r,l=r;return V(r)?u=l={center:.5,edges:.5,end:1}[r]||0:!s&&a&&(u=r[0],l=r[1]),function(e,s,d){var f,p,h,m,g,v,y,b,_,x=(d||t).length,w=o[x];if(!w){if(!(_="auto"===t.grid?0:(t.grid||[1,1e8])[1])){for(y=-1e8;y<(y=d[_++].getBoundingClientRect().left)&&_<x;);_--}for(w=o[x]=[],f=a?Math.min(_,x)*u-.5:r%_,p=a?x*l/_-.5:r/_|0,y=0,b=1e8,v=0;v<x;v++)h=v%_-f,m=p-(v/_|0),w[v]=g=c?Math.abs("y"===c?m:h):q(h*h+m*m),g>y&&(y=g),g<b&&(b=g);"random"===r&&it(w),w.max=y-b,w.min=b,w.v=x=(parseFloat(t.amount)||parseFloat(t.each)*(_>x?x-1:c?"y"===c?x/_:_:Math.max(_,x/_))||0)*("edges"===r?-1:1),w.b=x<0?i-x:i,w.u=Ze(t.amount||t.each)||0,n=n&&x<0?Tt(n):n}return x=(w[e]-w.min)/w.max||0,xe(w.b+(n?n(x):x)*w.v)+w.u}},st=function(e){var t=e<1?Math.pow(10,(e+"").length-2):1;return function(n){return Math.floor(Math.round(parseFloat(n)/e)*e*t)/t+(W(n)?0:Ze(n))}},at=function(e,t){var n,r,i=K(e);return!i&&H(e)&&(n=i=e.radius||1e8,e.values?(e=rt(e.values),(r=!W(e[0]))&&(n*=n)):e=st(e.increment)),Je(t,i?F(e)?function(t){return r=e(t),Math.abs(r-t)<=n?r:t}:function(t){for(var i,o,s=parseFloat(r?t.x:t),a=parseFloat(r?t.y:0),c=1e8,u=0,l=e.length;l--;)(i=r?(i=e[l].x-s)*i+(o=e[l].y-a)*o:Math.abs(e[l]-s))<c&&(c=i,u=l);return u=!n||c<=n?e[u]:t,r||u===t||W(t)?u:u+Ze(t)}:st(e))},ct=function(e,t,n,r){return Je(K(e)?!t:!0===n?!!(n=0):!r,(function(){return K(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e+Math.random()*(t-e))/n)*n*r)/r}))},ut=function(e,t,n){return Je(n,(function(n){return e[~~t(n)]}))},lt=function(e){for(var t,n,r,i,o=0,s="";~(t=e.indexOf("random(",o));)r=e.indexOf(")",t),i="["===e.charAt(t+7),n=e.substr(t+7,r-t-7).match(i?te:$),s+=e.substr(o,t-o)+ct(i?n:+n[0],i?0:+n[1],+n[2]||1e-5),o=r+1;return s+e.substr(o,e.length-o)},dt=function(e,t,n,r,i){var o=t-e,s=r-n;return Je(i,(function(t){return n+((t-e)/o*s||0)}))},ft=function(e,t,n){var r,i,o,s=e.labels,a=1e8;for(r in s)(i=s[r]-t)<0==!!n&&i&&a>(i=Math.abs(i))&&(o=r,a=i);return o},pt=function(e,t,n){var r,i,o=e.vars,s=o[t];if(s)return r=o[t+"Params"],i=o.callbackScope||e,n&&le.length&&Ae(),r?s.apply(i,r):s.call(i)},ht=function(e){return Ie(e),e.progress()<1&&pt(e,"onInterrupt"),e},mt=function(e){var t=(e=!e.name&&e.default||e).name,n=F(e),r=t&&!n&&e.init?function(){this._props=[]}:e,i={init:ce,render:rn,add:Wt,kill:sn,modifier:on,rawVars:0},o={targetTest:0,get:0,getSetter:Zt,aliases:{},register:0};if(Ct(),e!==r){if(fe[t])return;je(r,je(Pe(e,i),o)),Te(r.prototype,Te(i,Pe(e,o))),fe[r.prop=t]=r,e.targetTest&&(me.push(r),ue[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}ae(t,r),e.register&&e.register(pn,r,un)},gt={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},vt=function(e,t,n){return 255*(6*(e=e<0?e+1:e>1?e-1:e)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)+.5|0},yt=function(e,t,n){var r,i,o,s,a,c,u,l,d,f,p=e?W(e)?[e>>16,e>>8&255,255&e]:0:gt.black;if(!p){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),gt[e])p=gt[e];else if("#"===e.charAt(0))4===e.length&&(r=e.charAt(1),i=e.charAt(2),o=e.charAt(3),e="#"+r+r+i+i+o+o),p=[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e];else if("hsl"===e.substr(0,3))if(p=f=e.match($),t){if(~e.indexOf("="))return p=e.match(J),n&&p.length<4&&(p[3]=1),p}else s=+p[0]%360/360,a=+p[1]/100,r=2*(c=+p[2]/100)-(i=c<=.5?c*(a+1):c+a-c*a),p.length>3&&(p[3]*=1),p[0]=vt(s+1/3,r,i),p[1]=vt(s,r,i),p[2]=vt(s-1/3,r,i);else p=e.match($)||gt.transparent;p=p.map(Number)}return t&&!f&&(r=p[0]/255,i=p[1]/255,o=p[2]/255,c=((u=Math.max(r,i,o))+(l=Math.min(r,i,o)))/2,u===l?s=a=0:(d=u-l,a=c>.5?d/(2-u-l):d/(u+l),s=u===r?(i-o)/d+(i<o?6:0):u===i?(o-r)/d+2:(r-i)/d+4,s*=60),p[0]=~~(s+.5),p[1]=~~(100*a+.5),p[2]=~~(100*c+.5)),n&&p.length<4&&(p[3]=1),p},bt=function(e){var t=[],n=[],r=-1;return e.split(xt).forEach((function(e){var i=e.match(Q)||[];t.push.apply(t,i),n.push(r+=i.length+1)})),t.c=n,t},_t=function(e,t,n){var r,i,o,s,a="",c=(e+a).match(xt),u=t?"hsla(":"rgba(",l=0;if(!c)return e;if(c=c.map((function(e){return(e=yt(e,t,1))&&u+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),n&&(o=bt(e),(r=n.c).join(a)!==o.c.join(a)))for(s=(i=e.replace(xt,"1").split(Q)).length-1;l<s;l++)a+=i[l]+(~r.indexOf(l)?c.shift()||u+"0,0,0,0)":(o.length?o:c.length?c:n).shift());if(!i)for(s=(i=e.split(xt)).length-1;l<s;l++)a+=i[l]+c[l];return a+i[s]},xt=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(e in gt)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),wt=/hsl[a]?\(/,St=function(e){var t,n=e.join(" ");if(xt.lastIndex=0,xt.test(n))return t=wt.test(n),e[1]=_t(e[1],t),e[0]=_t(e[0],t,bt(e[1])),!0},At=(b=Date.now,_=500,x=33,w=b(),S=w,C=A=1e3/240,k=function e(t){var n,r,i,o,s=b()-S,a=!0===t;if(s>_&&(w+=s-x),((n=(i=(S+=s)-w)-C)>0||a)&&(o=++g.frame,v=i-1e3*g.time,g.time=i/=1e3,C+=n+(n>=A?4:A-n),r=1),a||(p=h(e)),r)for(y=0;y<O.length;y++)O[y](i,v,o,t)},g={time:0,frame:0,tick:function(){k(!0)},deltaRatio:function(e){return v/(1e3/(e||60))},wake:function(){u&&(!a&&U()&&(s=a=window,c=s.document||{},ne.gsap=pn,(s.gsapVersions||(s.gsapVersions=[])).push(pn.version),ie(re||s.GreenSockGlobals||!s.gsap&&s||{}),m=s.requestAnimationFrame),p&&g.sleep(),h=m||function(e){return setTimeout(e,C-1e3*g.time+1|0)},f=1,k(2))},sleep:function(){(m?s.cancelAnimationFrame:clearTimeout)(p),f=0,h=ce},lagSmoothing:function(e,t){_=e||1e8,x=Math.min(t,_,0)},fps:function(e){A=1e3/(e||240),C=1e3*g.time+A},add:function(e){O.indexOf(e)<0&&O.push(e),Ct()},remove:function(e){var t;~(t=O.indexOf(e))&&O.splice(t,1)&&y>=t&&y--},_listeners:O=[]}),Ct=function(){return!f&&At.wake()},Ot={},kt=/^[\d.\-M][\d.\-,\s]/,jt=/["']/g,Et=function(e){for(var t,n,r,i={},o=e.substr(1,e.length-3).split(":"),s=o[0],a=1,c=o.length;a<c;a++)n=o[a],t=a!==c-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),i[s]=isNaN(r)?r.replace(jt,"").trim():+r,s=n.substr(t+1).trim();return i},Tt=function(e){return function(t){return 1-e(1-t)}},Mt=function e(t,n){for(var r,i=t._first;i;)i instanceof Nt?e(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?e(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},Pt=function(e,t){return e&&(F(e)?e:Ot[e]||function(e){var t,n,r,i,o=(e+"").split("("),s=Ot[o[0]];return s&&o.length>1&&s.config?s.config.apply(null,~e.indexOf("{")?[Et(o[1])]:(t=e,n=t.indexOf("(")+1,r=t.indexOf(")"),i=t.indexOf("(",n),t.substring(n,~i&&i<r?t.indexOf(")",r+1):r)).split(",").map(Oe)):Ot._CE&&kt.test(e)?Ot._CE("",e):s}(e))||t},Bt=function(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,o={easeIn:t,easeOut:n,easeInOut:r};return _e(e,(function(e){for(var t in Ot[e]=ne[e]=o,Ot[i=e.toLowerCase()]=n,o)Ot[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=Ot[e+"."+t]=o[t]})),o},Lt=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},It=function e(t,n,r){var i=n>=1?n:1,o=(r||(t?.3:.45))/(n<1?n:1),s=o/L*(Math.asin(1/i)||0),a=function(e){return 1===e?1:i*Math.pow(2,-10*e)*N((e-s)*o)+1},c="out"===t?a:"in"===t?function(e){return 1-a(1-e)}:Lt(a);return o=L/o,c.config=function(n,r){return e(t,n,r)},c},Rt=function e(t,n){void 0===n&&(n=1.70158);var r=function(e){return e?--e*e*((n+1)*e+n)+1:0},i="out"===t?r:"in"===t?function(e){return 1-r(1-e)}:Lt(r);return i.config=function(n){return e(t,n)},i};_e("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var n=t<5?t+1:t;Bt(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},(function(e){return 1-Math.pow(1-e,n)}),(function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2}))})),Ot.Linear.easeNone=Ot.none=Ot.Linear.easeIn,Bt("Elastic",It("in"),It("out"),It()),j=7.5625,T=1/(E=2.75),Bt("Bounce",(function(e){return 1-M(1-e)}),M=function(e){return e<T?j*e*e:e<.7272727272727273?j*Math.pow(e-1.5/E,2)+.75:e<.9090909090909092?j*(e-=2.25/E)*e+.9375:j*Math.pow(e-2.625/E,2)+.984375}),Bt("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),Bt("Circ",(function(e){return-(q(1-e*e)-1)})),Bt("Sine",(function(e){return 1===e?1:1-D(e*I)})),Bt("Back",Rt("in"),Rt("out"),Rt()),Ot.SteppedEase=Ot.steps=ne.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+(t?0:1),i=t?1:0;return function(e){return((r*Qe(0,1-1e-8,e)|0)+i)*n}}},B.ease=Ot["quad.out"],_e("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return ge+=e+","+e+"Params,"}));var qt=function(e,t){this.id=R++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:be,this.set=t?t.getSetter:Zt},Dt=function(){function e(e,t){var n=e.parent||o;this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,Ge(this,+e.duration,1,1),this.data=e.data,f||At.wake(),n&&He(n,this,t||0===t?t:n._time,1),e.reversed&&this.reverse(),e.paused&&this.paused(!0)}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,Ge(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(Ct(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(We(this,e);n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&He(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&1e-8===Math.abs(this._zTime)||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),Ce(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+De(this))%this._dur||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+De(this),t):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?Ne(this._tTime,n)+1:1},t.timeScale=function(e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var t=this.parent&&this._ts?Ve(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,qe(this.totalTime(Qe(-this._delay,this._tDur,t),!0))},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ct(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=1e-8)&&1e-8!==Math.abs(this._zTime)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&He(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(X(e)?this.totalDuration():this.duration())/Math.abs(this._ts)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Ve(t.rawTime(e),this):this._tTime:this._tTime},t.globalTime=function(e){for(var t=this,n=arguments.length?e:t.rawTime();t;)n=t._start+n/(t._ts||1),t=t._dp;return n},t.repeat=function(e){return arguments.length?(this._repeat=e,Ye(this)):this._repeat},t.repeatDelay=function(e){return arguments.length?(this._rDelay=e,Ye(this)):this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime($e(this,e),X(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,X(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,n=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<this.endTime(!0)-1e-8))},t.eventCallback=function(e,t,n){var r=this.vars;return arguments.length>1?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},t.then=function(e){var t=this;return new Promise((function(n){var r=F(e)?e:ke,i=function(){var e=t.then;t.then=null,F(r)&&(r=r(t))&&(r.then||r===t)&&(t.then=e),n(r),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?i():t._prom=i}))},t.kill=function(){ht(this)},e}();je(Dt.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Nt=function(e){function t(t,n){var i;return void 0===t&&(t={}),(i=e.call(this,t,n)||this).labels={},i.smoothChildTiming=!!t.smoothChildTiming,i.autoRemoveChildren=!!t.autoRemoveChildren,i._sort=X(t.sortChildren),i.parent&&ze(i.parent,r(i)),t.scrollTrigger&&Xe(r(i),t.scrollTrigger),i}i(t,e);var n=t.prototype;return n.to=function(e,t,n){return new Yt(e,Se(arguments,0,this),$e(this,W(t)?arguments[3]:n)),this},n.from=function(e,t,n){return new Yt(e,Se(arguments,1,this),$e(this,W(t)?arguments[3]:n)),this},n.fromTo=function(e,t,n,r){return new Yt(e,Se(arguments,2,this),$e(this,W(t)?arguments[4]:r)),this},n.set=function(e,t,n){return t.duration=0,t.parent=this,Be(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new Yt(e,t,$e(this,n),1),this},n.call=function(e,t,n){return He(this,Yt.delayedCall(0,e,t),$e(this,n))},n.staggerTo=function(e,t,n,r,i,o,s){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=o,n.onCompleteParams=s,n.parent=this,new Yt(e,n,$e(this,i)),this},n.staggerFrom=function(e,t,n,r,i,o,s){return n.runBackwards=1,Be(n).immediateRender=X(n.immediateRender),this.staggerTo(e,t,n,r,i,o,s)},n.staggerFromTo=function(e,t,n,r,i,o,s,a){return r.startAt=n,Be(r).immediateRender=X(r.immediateRender),this.staggerTo(e,t,r,i,o,s,a)},n.render=function(e,t,n){var r,i,s,a,c,u,l,d,f,p,h,m,g=this._time,v=this._dirty?this.totalDuration():this._tDur,y=this._dur,b=this!==o&&e>v-1e-8&&e>=0?v:e<1e-8?0:e,_=this._zTime<0!=e<0&&(this._initted||!y);if(b!==this._tTime||n||_){if(g!==this._time&&y&&(b+=this._time-g,e+=this._time-g),r=b,f=this._start,u=!(d=this._ts),_&&(y||(g=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat&&(h=this._yoyo,c=y+this._rDelay,r=xe(b%c),b===v?(a=this._repeat,r=y):((a=~~(b/c))&&a===b/c&&(r=y,a--),r>y&&(r=y)),p=Ne(this._tTime,c),!g&&this._tTime&&p!==a&&(p=a),h&&1&a&&(r=y-r,m=1),a!==p&&!this._lock)){var x=h&&1&p,w=x===(h&&1&a);if(a<p&&(x=!x),g=x?0:y,this._lock=1,this.render(g||(m?0:xe(a*c)),t,!y)._lock=0,!t&&this.parent&&pt(this,"onRepeat"),this.vars.repeatRefresh&&!m&&(this.invalidate()._lock=1),g!==this._time||u!==!this._ts)return this;if(y=this._dur,v=this._tDur,w&&(this._lock=2,g=x?y+1e-4:-1e-4,this.render(g,!0),this.vars.repeatRefresh&&!m&&this.invalidate()),this._lock=0,!this._ts&&!u)return this;Mt(this,m)}if(this._hasPause&&!this._forcing&&this._lock<2&&(l=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if(!r._dur&&"isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if(!r._dur&&"isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,xe(g),xe(r)))&&(b-=r-(r=l._start)),this._tTime=b,this._time=r,this._act=!d,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e),!g&&r&&!t&&pt(this,"onStart"),r>=g&&e>=0)for(i=this._first;i;){if(s=i._next,(i._act||r>=i._start)&&i._ts&&l!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!u){l=0,s&&(b+=this._zTime=-1e-8);break}}i=s}else{i=this._last;for(var S=e<0?e:r;i;){if(s=i._prev,(i._act||S<=i._end)&&i._ts&&l!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(S-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(S-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!u){l=0,s&&(b+=this._zTime=S?-1e-8:1e-8);break}}i=s}}if(l&&!t&&(this.pause(),l.render(r>=g?0:-1e-8)._zTime=r>=g?1:-1,this._ts))return this._start=f,Fe(this),this.render(e,t,n);this._onUpdate&&!t&&pt(this,"onUpdate",!0),(b===v&&v>=this.totalDuration()||!b&&g)&&(f!==this._start&&Math.abs(d)===Math.abs(this._ts)||this._lock||((e||!y)&&(b===v&&this._ts>0||!b&&this._ts<0)&&Ie(this,1),t||e<0&&!g||!b&&!g||(pt(this,b===v?"onComplete":"onReverseComplete",!0),this._prom&&!(b<v&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(e,t){var n=this;if(W(t)||(t=$e(this,t)),!(e instanceof Dt)){if(K(e))return e.forEach((function(e){return n.add(e,t)})),this;if(V(e))return this.addLabel(e,t);if(!F(e))return this;e=Yt.delayedCall(0,e)}return this!==e?He(this,e,t):this},n.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-1e8);for(var i=[],o=this._first;o;)o._start>=r&&(o instanceof Yt?t&&i.push(o):(n&&i.push(o),e&&i.push.apply(i,o.getChildren(!0,t,n)))),o=o._next;return i},n.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},n.remove=function(e){return V(e)?this.removeLabel(e):F(e)?this.killTweensOf(e):(Le(this,e),e===this._recent&&(this._recent=this._last),Re(this))},n.totalTime=function(t,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=xe(At.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},n.addLabel=function(e,t){return this.labels[e]=$e(this,t),this},n.removeLabel=function(e){return delete this.labels[e],this},n.addPause=function(e,t,n){var r=Yt.delayedCall(0,t||ce,n);return r.data="isPause",this._hasPause=1,He(this,r,$e(this,e))},n.removePause=function(e){var t=this._first;for(e=$e(this,e);t;)t._start===e&&"isPause"===t.data&&Ie(t),t=t._next},n.killTweensOf=function(e,t,n){for(var r=this.getTweensOf(e,n),i=r.length;i--;)Vt!==r[i]&&r[i].kill(e,t);return this},n.getTweensOf=function(e,t){for(var n,r=[],i=rt(e),o=this._first,s=W(t);o;)o instanceof Yt?we(o._targets,i)&&(s?(!Vt||o._initted&&o._ts)&&o.globalTime(0)<=t&&o.globalTime(o.totalDuration())>t:!t||o.isActive())&&r.push(o):(n=o.getTweensOf(i,t)).length&&r.push.apply(r,n),o=o._next;return r},n.tweenTo=function(e,t){t=t||{};var n=this,r=$e(n,e),i=t,o=i.startAt,s=i.onStart,a=i.onStartParams,c=Yt.to(n,je(t,{ease:"none",lazy:!1,time:r,duration:t.duration||Math.abs((r-(o&&"time"in o?o.time:n._time))/n.timeScale())||1e-8,onStart:function(){n.pause();var e=t.duration||Math.abs((r-n._time)/n.timeScale());c._dur!==e&&Ge(c,e,0,1).render(c._time,!0,!0),s&&s.apply(c,a||[])}}));return c},n.tweenFromTo=function(e,t,n){return this.tweenTo(t,je({startAt:{time:$e(this,e)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(e){return void 0===e&&(e=this._time),ft(this,$e(this,e))},n.previousLabel=function(e){return void 0===e&&(e=this._time),ft(this,$e(this,e),1)},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+1e-8)},n.shiftChildren=function(e,t,n){void 0===n&&(n=0);for(var r,i=this._first,o=this.labels;i;)i._start>=n&&(i._start+=e,i._end+=e),i=i._next;if(t)for(r in o)o[r]>=n&&(o[r]+=e);return Re(this)},n.invalidate=function(){var t=this._first;for(this._lock=0;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},n.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._time=this._tTime=this._pTime=0,e&&(this.labels={}),Re(this)},n.totalDuration=function(e){var t,n,r,i=0,s=this,a=s._last,c=1e8;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-e:e));if(s._dirty){for(r=s.parent;a;)t=a._prev,a._dirty&&a.totalDuration(),(n=a._start)>c&&s._sort&&a._ts&&!s._lock?(s._lock=1,He(s,a,n-a._delay,1)._lock=0):c=n,n<0&&a._ts&&(i-=n,(!r&&!s._dp||r&&r.smoothChildTiming)&&(s._start+=n/s._ts,s._time-=n,s._tTime-=n),s.shiftChildren(-n,!1,-Infinity),c=0),a._end>i&&a._ts&&(i=a._end),a=t;Ge(s,s===o&&s._time>i?s._time:i,1,1),s._dirty=0}return s._tDur},t.updateRoot=function(e){if(o._ts&&(Ce(o,Ve(e,o)),l=At.frame),At.frame>=he){he+=P.autoSleep||120;var t=o._first;if((!t||!t._ts)&&P.autoSleep&&At._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||At.sleep()}}},t}(Dt);je(Nt.prototype,{_lock:0,_hasPause:0,_forcing:0});var Vt,Ft=function(e,t,n,r,i,o,s){var a,c,u,l,d,f,p,h,m=new un(this._pt,e,t,0,1,nn,null,i),g=0,v=0;for(m.b=n,m.e=r,n+="",(p=~(r+="").indexOf("random("))&&(r=lt(r)),o&&(o(h=[n,r],e,t),n=h[0],r=h[1]),c=n.match(Z)||[];a=Z.exec(r);)l=a[0],d=r.substring(g,a.index),u?u=(u+1)%5:"rgba("===d.substr(-5)&&(u=1),l!==c[v++]&&(f=parseFloat(c[v-1])||0,m._pt={_next:m._pt,p:d||1===v?d:",",s:f,c:"="===l.charAt(1)?parseFloat(l.substr(2))*("-"===l.charAt(0)?-1:1):parseFloat(l)-f,m:u&&u<4?Math.round:0},g=Z.lastIndex);return m.c=g<r.length?r.substring(g,r.length):"",m.fp=s,(ee.test(r)||p)&&(m.e=0),this._pt=m,m},Wt=function(e,t,n,r,i,o,s,a,c){F(r)&&(r=r(i||0,e,o));var u,l=e[t],d="get"!==n?n:F(l)?c?e[t.indexOf("set")||!F(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():l,f=F(l)?c?Jt:$t:Kt;if(V(r)&&(~r.indexOf("random(")&&(r=lt(r)),"="===r.charAt(1)&&(r=parseFloat(d)+parseFloat(r.substr(2))*("-"===r.charAt(0)?-1:1)+(Ze(d)||0))),d!==r)return isNaN(d*r)?(!l&&!(t in e)&&oe(t,r),Ft.call(this,e,t,d,r,f,a||P.stringFilter,c)):(u=new un(this._pt,e,t,+d||0,r-(d||0),"boolean"==typeof l?tn:en,0,f),c&&(u.fp=c),s&&u.modifier(s,this,e),this._pt=u)},zt=function(e,t,n,r,i,o){var s,a,c,u;if(fe[e]&&!1!==(s=new fe[e]).init(i,s.rawVars?t[e]:function(e,t,n,r,i){if(F(e)&&(e=Xt(e,i,t,n,r)),!H(e)||e.style&&e.nodeType||K(e)||Y(e))return V(e)?Xt(e,i,t,n,r):e;var o,s={};for(o in e)s[o]=Xt(e[o],i,t,n,r);return s}(t[e],r,i,o,n),n,r,o)&&(n._pt=a=new un(n._pt,i,e,0,1,s.render,s,0,s.priority),n!==d))for(c=n._ptLookup[n._targets.indexOf(i)],u=s._props.length;u--;)c[s._props[u]]=a;return s},Ht=function e(t,n){var r,i,s,a,c,u,l,d,f,p,h,m,g,v=t.vars,y=v.ease,b=v.startAt,_=v.immediateRender,x=v.lazy,w=v.onUpdate,S=v.onUpdateParams,A=v.callbackScope,C=v.runBackwards,O=v.yoyoEase,k=v.keyframes,j=v.autoRevert,E=t._dur,T=t._startAt,M=t._targets,P=t.parent,L=P&&"nested"===P.data?P.parent._targets:M,I="auto"===t._overwrite,R=t.timeline;if(R&&(!k||!y)&&(y="none"),t._ease=Pt(y,B.ease),t._yEase=O?Tt(Pt(!0===O?y:O,B.ease)):0,O&&t._yoyo&&!t._repeat&&(O=t._yEase,t._yEase=t._ease,t._ease=O),!R){if(m=(d=M[0]?ye(M[0]).harness:0)&&v[d.prop],r=Pe(v,ue),T&&T.render(-1,!0).kill(),b){if(Ie(t._startAt=Yt.set(M,je({data:"isStart",overwrite:!1,parent:P,immediateRender:!0,lazy:X(x),startAt:null,delay:0,onUpdate:w,onUpdateParams:S,callbackScope:A,stagger:0},b))),_)if(n>0)j||(t._startAt=0);else if(E&&!(n<0&&T))return void(n&&(t._zTime=n))}else if(C&&E)if(T)!j&&(t._startAt=0);else if(n&&(_=!1),s=je({overwrite:!1,data:"isFromStart",lazy:_&&X(x),immediateRender:_,stagger:0,parent:P},r),m&&(s[d.prop]=m),Ie(t._startAt=Yt.set(M,s)),_){if(!n)return}else e(t._startAt,1e-8);for(t._pt=0,x=E&&X(x)||x&&!E,i=0;i<M.length;i++){if(l=(c=M[i])._gsap||ve(M)[i]._gsap,t._ptLookup[i]=p={},de[l.id]&&Ae(),h=L===M?i:L.indexOf(c),d&&!1!==(f=new d).init(c,m||r,t,h,L)&&(t._pt=a=new un(t._pt,c,f.name,0,1,f.render,f,0,f.priority),f._props.forEach((function(e){p[e]=a})),f.priority&&(u=1)),!d||m)for(s in r)fe[s]&&(f=zt(s,r,t,h,c,L))?f.priority&&(u=1):p[s]=a=Wt.call(t,c,s,"get",r[s],h,L,0,v.stringFilter);t._op&&t._op[i]&&t.kill(c,t._op[i]),I&&t._pt&&(Vt=t,o.killTweensOf(c,p,t.globalTime(0)),g=!t.parent,Vt=0),t._pt&&x&&(de[l.id]=1)}u&&cn(t),t._onInit&&t._onInit(t)}t._from=!R&&!!v.runBackwards,t._onUpdate=w,t._initted=(!t._op||t._pt)&&!g},Xt=function(e,t,n,r,i){return F(e)?e.call(t,n,r,i):V(e)&&~e.indexOf("random(")?lt(e):e},Ut=ge+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",Gt=(Ut+",id,stagger,delay,duration,paused,scrollTrigger").split(","),Yt=function(e){function t(t,n,i,s){var a;"number"==typeof n&&(i.duration=n,n=i,i=null);var c,u,l,d,f,p,h,m,g=(a=e.call(this,s?n:Be(n),i)||this).vars,v=g.duration,y=g.delay,b=g.immediateRender,_=g.stagger,x=g.overwrite,w=g.keyframes,S=g.defaults,A=g.scrollTrigger,C=g.yoyoEase,O=a.parent,k=(K(t)||Y(t)?W(t[0]):"length"in n)?[t]:rt(t);if(a._targets=k.length?ve(k):se("GSAP target "+t+" not found. https://greensock.com",!P.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=x,w||_||G(v)||G(y)){if(n=a.vars,(c=a.timeline=new Nt({data:"nested",defaults:S||{}})).kill(),c.parent=r(a),w)je(c.vars.defaults,{ease:"none"}),w.forEach((function(e){return c.to(k,e,">")}));else{if(d=k.length,h=_?ot(_):ce,H(_))for(f in _)~Ut.indexOf(f)&&(m||(m={}),m[f]=_[f]);for(u=0;u<d;u++){for(f in l={},n)Gt.indexOf(f)<0&&(l[f]=n[f]);l.stagger=0,C&&(l.yoyoEase=C),m&&Te(l,m),p=k[u],l.duration=+Xt(v,r(a),u,p,k),l.delay=(+Xt(y,r(a),u,p,k)||0)-a._delay,!_&&1===d&&l.delay&&(a._delay=y=l.delay,a._start+=y,l.delay=0),c.to(p,l,h(u,p,k))}c.duration()?v=y=0:a.timeline=0}v||a.duration(v=c.duration())}else a.timeline=0;return!0===x&&(Vt=r(a),o.killTweensOf(k),Vt=0),O&&ze(O,r(a)),(b||!v&&!w&&a._start===xe(O._time)&&X(b)&&function e(t){return!t||t._ts&&e(t.parent)}(r(a))&&"nested"!==O.data)&&(a._tTime=-1e-8,a.render(Math.max(0,-y))),A&&Xe(r(a),A),a}i(t,e);var n=t.prototype;return n.render=function(e,t,n){var r,i,o,s,a,c,u,l,d,f=this._time,p=this._tDur,h=this._dur,m=e>p-1e-8&&e>=0?p:e<1e-8?0:e;if(h){if(m!==this._tTime||!e||n||this._startAt&&this._zTime<0!=e<0){if(r=m,l=this.timeline,this._repeat){if(s=h+this._rDelay,r=xe(m%s),m===p?(o=this._repeat,r=h):((o=~~(m/s))&&o===m/s&&(r=h,o--),r>h&&(r=h)),(c=this._yoyo&&1&o)&&(d=this._yEase,r=h-r),a=Ne(this._tTime,s),r===f&&!n&&this._initted)return this;o!==a&&(l&&this._yEase&&Mt(l,c),!this.vars.repeatRefresh||c||this._lock||(this._lock=n=1,this.render(xe(s*o),!0).invalidate()._lock=0))}if(!this._initted){if(Ue(this,e<0?e:r,n,t))return this._tTime=0,this;if(h!==this._dur)return this.render(e,t,n)}for(this._tTime=m,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=u=(d||this._ease)(r/h),this._from&&(this.ratio=u=1-u),r&&!f&&!t&&pt(this,"onStart"),i=this._pt;i;)i.r(u,i.d),i=i._next;l&&l.render(e<0?e:!r&&c?-1e-8:l._dur*u,t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(e<0&&this._startAt&&this._startAt.render(e,!0,n),pt(this,"onUpdate")),this._repeat&&o!==a&&this.vars.onRepeat&&!t&&this.parent&&pt(this,"onRepeat"),m!==this._tDur&&m||this._tTime!==m||(e<0&&this._startAt&&!this._onUpdate&&this._startAt.render(e,!0,!0),(e||!h)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&Ie(this,1),t||e<0&&!f||!m&&!f||(pt(this,m===p?"onComplete":"onReverseComplete",!0),this._prom&&!(m<p&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,n,r){var i,o,s=e.ratio,a=t<0||!t&&s&&!e._start&&e._zTime>1e-8&&!e._dp._lock||(e._ts<0||e._dp._ts<0)&&"isFromStart"!==e.data&&"isStart"!==e.data?0:1,c=e._rDelay,u=0;if(c&&e._repeat&&(u=Qe(0,e._tDur,t),Ne(u,c)!==(o=Ne(e._tTime,c))&&(s=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),e._initted||!Ue(e,t,r,n))if(a!==s||r||1e-8===e._zTime||!t&&e._zTime){for(o=e._zTime,e._zTime=t||(n?1e-8:0),n||(n=t&&!o),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=u,n||pt(e,"onStart"),i=e._pt;i;)i.r(a,i.d),i=i._next;e._startAt&&t<0&&e._startAt.render(t,!0,!0),e._onUpdate&&!n&&pt(e,"onUpdate"),u&&e._repeat&&!n&&e.parent&&pt(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===a&&(a&&Ie(e,1),n||(pt(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,n);return this},n.targets=function(){return this._targets},n.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._act=this._lazy=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),e.prototype.invalidate.call(this)},n.kill=function(e,t){if(void 0===t&&(t="all"),!(e||t&&"all"!==t)&&(this._lazy=0,this.parent))return ht(this);if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,Vt&&!0!==Vt.vars.overwrite)._first||ht(this),this.parent&&n!==this.timeline.totalDuration()&&Ge(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,o,s,a,c,u,l=this._targets,d=e?rt(e):l,f=this._ptLookup,p=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0}(l,d))return"all"===t&&(this._pt=0),ht(this);for(r=this._op=this._op||[],"all"!==t&&(V(t)&&(a={},_e(t,(function(e){return a[e]=1})),t=a),t=function(e,t){var n,r,i,o,s=e[0]?ye(e[0]).harness:0,a=s&&s.aliases;if(!a)return t;for(r in n=Te({},t),a)if(r in n)for(i=(o=a[r].split(",")).length;i--;)n[o[i]]=n[r];return n}(l,t)),u=l.length;u--;)if(~d.indexOf(l[u]))for(a in i=f[u],"all"===t?(r[u]=t,s=i,o={}):(o=r[u]=r[u]||{},s=t),s)(c=i&&i[a])&&("kill"in c.d&&!0!==c.d.kill(a)||Le(this,c,"_pt"),delete i[a]),"all"!==o&&(o[a]=1);return this._initted&&!this._pt&&p&&ht(this),this},t.to=function(e,n){return new t(e,n,arguments[2])},t.from=function(e,n){return new t(e,Se(arguments,1))},t.delayedCall=function(e,n,r,i){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},t.fromTo=function(e,n,r){return new t(e,Se(arguments,2))},t.set=function(e,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(e,n)},t.killTweensOf=function(e,t,n){return o.killTweensOf(e,t,n)},t}(Dt);je(Yt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),_e("staggerTo,staggerFrom,staggerFromTo",(function(e){Yt[e]=function(){var t=new Nt,n=et.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}}));var Kt=function(e,t,n){return e[t]=n},$t=function(e,t,n){return e[t](n)},Jt=function(e,t,n,r){return e[t](r.fp,n)},Qt=function(e,t,n){return e.setAttribute(t,n)},Zt=function(e,t){return F(e[t])?$t:z(e[t])&&e.setAttribute?Qt:Kt},en=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4,t)},tn=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},nn=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},rn=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},on=function(e,t,n,r){for(var i,o=this._pt;o;)i=o._next,o.p===r&&o.modifier(e,t,n),o=i},sn=function(e){for(var t,n,r=this._pt;r;)n=r._next,r.p===e&&!r.op||r.op===e?Le(this,r,"_pt"):r.dep||(t=1),r=n;return!t},an=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},cn=function(e){for(var t,n,r,i,o=e._pt;o;){for(t=o._next,n=r;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:i)?o._prev._next=o:r=o,(o._next=n)?n._prev=o:i=o,o=t}e._pt=r},un=function(){function e(e,t,n,r,i,o,s,a,c){this.t=t,this.s=r,this.c=i,this.p=n,this.r=o||en,this.d=s||this,this.set=a||Kt,this.pr=c||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=an,this.m=e,this.mt=n,this.tween=t},e}();_e(ge+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return ue[e]=1})),ne.TweenMax=ne.TweenLite=Yt,ne.TimelineLite=ne.TimelineMax=Nt,o=new Nt({sortChildren:!1,defaults:B,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),P.stringFilter=St;var ln={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){return mt(e)}))},timeline:function(e){return new Nt(e)},getTweensOf:function(e,t){return o.getTweensOf(e,t)},getProperty:function(e,t,n,r){V(e)&&(e=rt(e)[0]);var i=ye(e||{}).get,o=n?ke:Oe;return"native"===n&&(n=""),e?t?o((fe[t]&&fe[t].get||i)(e,t,n,r)):function(t,n,r){return o((fe[t]&&fe[t].get||i)(e,t,n,r))}:e},quickSetter:function(e,t,n){if((e=rt(e)).length>1){var r=e.map((function(e){return pn.quickSetter(e,t,n)})),i=r.length;return function(e){for(var t=i;t--;)r[t](e)}}e=e[0]||{};var o=fe[t],s=ye(e),a=s.harness&&(s.harness.aliases||{})[t]||t,c=o?function(t){var r=new o;d._pt=0,r.init(e,n?t+n:t,d,0,[e]),r.render(1,r),d._pt&&rn(1,d)}:s.set(e,a);return o?c:function(t){return c(e,a,n?t+n:t,s,1)}},isTweening:function(e){return o.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Pt(e.ease,B.ease)),Me(B,e||{})},config:function(e){return Me(P,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,o=e.extendTimeline;(r||"").split(",").forEach((function(e){return e&&!fe[e]&&!ne[e]&&se(t+" effect requires "+e+" plugin.")})),pe[t]=function(e,t,r){return n(rt(e),je(t||{},i),r)},o&&(Nt.prototype[t]=function(e,n,r){return this.add(pe[t](e,H(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){Ot[e]=Pt(t)},parseEase:function(e,t){return arguments.length?Pt(e,t):Ot},getById:function(e){return o.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,i=new Nt(e);for(i.smoothChildTiming=X(e.smoothChildTiming),o.remove(i),i._dp=0,i._time=i._tTime=o._time,n=o._first;n;)r=n._next,!t&&!n._dur&&n instanceof Yt&&n.vars.onComplete===n._targets[0]||He(i,n,n._start-n._delay),n=r;return He(o,i,0),i},utils:{wrap:function e(t,n,r){var i=n-t;return K(t)?ut(t,e(0,t.length),n):Je(r,(function(e){return(i+(e-t)%i)%i+t}))},wrapYoyo:function e(t,n,r){var i=n-t,o=2*i;return K(t)?ut(t,e(0,t.length-1),n):Je(r,(function(e){return t+((e=(o+(e-t)%o)%o||0)>i?o-e:e)}))},distribute:ot,random:ct,snap:at,normalize:function(e,t,n){return dt(e,t,0,1,n)},getUnit:Ze,clamp:function(e,t,n){return Je(n,(function(n){return Qe(e,t,n)}))},splitColor:yt,toArray:rt,mapRange:dt,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||Ze(n))}},interpolate:function e(t,n,r,i){var o=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!o){var s,a,c,u,l,d=V(t),f={};if(!0===r&&(i=1)&&(r=null),d)t={p:t},n={p:n};else if(K(t)&&!K(n)){for(c=[],u=t.length,l=u-2,a=1;a<u;a++)c.push(e(t[a-1],t[a]));u--,o=function(e){e*=u;var t=Math.min(l,~~e);return c[t](e-t)},r=n}else i||(t=Te(K(t)?[]:{},t));if(!c){for(s in n)Wt.call(f,t,s,"get",n[s]);o=function(e){return rn(e,f)||(d?t.p:t)}}}return Je(r,o)},shuffle:it},install:ie,effects:pe,ticker:At,updateRoot:Nt.updateRoot,plugins:fe,globalTimeline:o,core:{PropTween:un,globals:ae,Tween:Yt,Timeline:Nt,Animation:Dt,getCache:ye,_removeLinkedListItem:Le}};_e("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return ln[e]=Yt[e]})),At.add(Nt.updateRoot),d=ln.to({},{duration:0});var dn=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},fn=function(e,t){return{name:e,rawVars:1,init:function(e,n,r){r._onInit=function(e){var r,i;if(V(n)&&(r={},_e(n,(function(e){return r[e]=1})),n=r),t){for(i in r={},n)r[i]=t(n[i]);n=r}!function(e,t){var n,r,i,o=e._targets;for(n in t)for(r=o.length;r--;)(i=e._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=dn(i,n)),i&&i.modifier&&i.modifier(t[n],e,o[r],n))}(e,n)}}}},pn=ln.registerPlugin({name:"attr",init:function(e,t,n,r,i){var o,s;for(o in t)(s=this.add(e,"setAttribute",(e.getAttribute(o)||0)+"",t[o],r,i,0,0,o))&&(s.op=o),this._props.push(o)}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n])}},fn("roundProps",st),fn("modifiers"),fn("snap",at))||ln;Yt.version=Nt.version=pn.version="3.5.0",u=1,U()&&Ct();Ot.Power0,Ot.Power1,Ot.Power2,Ot.Power3,Ot.Power4,Ot.Linear;var hn=Ot.Quad,mn=(Ot.Cubic,Ot.Quart,Ot.Quint,Ot.Strong,Ot.Elastic,Ot.Back);Ot.SteppedEase,Ot.Bounce,Ot.Sine,Ot.Expo,Ot.Circ},"./node_modules/matter-js/build/matter.js":function(e,t,n){(function(t){e.exports=function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,(function(e){return i(t[s][1][e]||e)}),u,u.exports,e,t,n,r)}return n[s].exports}for(var o=!1,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){var r={};t.exports=r;var i=e("../geometry/Vertices"),o=e("../geometry/Vector"),s=e("../core/Sleeping"),a=(e("../render/Render"),e("../core/Common")),c=e("../geometry/Bounds"),u=e("../geometry/Axes");!function(){r._inertiaScale=4,r._nextCollidingGroupId=1,r._nextNonCollidingGroupId=-1,r._nextCategory=1,r.create=function(t){var n={id:a.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:i.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0},lineWidth:0}},r=a.extend(n,t);return e(r,t),r},r.nextGroup=function(e){return e?r._nextNonCollidingGroupId--:r._nextCollidingGroupId++},r.nextCategory=function(){return r._nextCategory=r._nextCategory<<1,r._nextCategory};var e=function(e,t){t=t||{},r.set(e,{bounds:e.bounds||c.create(e.vertices),positionPrev:e.positionPrev||o.clone(e.position),anglePrev:e.anglePrev||e.angle,vertices:e.vertices,parts:e.parts||[e],isStatic:e.isStatic,isSleeping:e.isSleeping,parent:e.parent||e}),i.rotate(e.vertices,e.angle,e.position),u.rotate(e.axes,e.angle),c.update(e.bounds,e.vertices,e.velocity),r.set(e,{axes:t.axes||e.axes,area:t.area||e.area,mass:t.mass||e.mass,inertia:t.inertia||e.inertia});var n=e.isStatic?"#2e2b44":a.choose(["#006BA6","#0496FF","#FFBC42","#D81159","#8F2D56"]);e.render.fillStyle=e.render.fillStyle||n,e.render.strokeStyle=e.render.strokeStyle||"#000",e.render.sprite.xOffset+=-(e.bounds.min.x-e.position.x)/(e.bounds.max.x-e.bounds.min.x),e.render.sprite.yOffset+=-(e.bounds.min.y-e.position.y)/(e.bounds.max.y-e.bounds.min.y)};r.set=function(e,t,n){var i;for(i in"string"==typeof t&&(i=t,(t={})[i]=n),t)if(n=t[i],t.hasOwnProperty(i))switch(i){case"isStatic":r.setStatic(e,n);break;case"isSleeping":s.set(e,n);break;case"mass":r.setMass(e,n);break;case"density":r.setDensity(e,n);break;case"inertia":r.setInertia(e,n);break;case"vertices":r.setVertices(e,n);break;case"position":r.setPosition(e,n);break;case"angle":r.setAngle(e,n);break;case"velocity":r.setVelocity(e,n);break;case"angularVelocity":r.setAngularVelocity(e,n);break;case"parts":r.setParts(e,n);break;default:e[i]=n}},r.setStatic=function(e,t){for(var n=0;n<e.parts.length;n++){var r=e.parts[n];r.isStatic=t,t?(r._original={restitution:r.restitution,friction:r.friction,mass:r.mass,inertia:r.inertia,density:r.density,inverseMass:r.inverseMass,inverseInertia:r.inverseInertia},r.restitution=0,r.friction=1,r.mass=r.inertia=r.density=1/0,r.inverseMass=r.inverseInertia=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.angularVelocity=0,r.speed=0,r.angularSpeed=0,r.motion=0):r._original&&(r.restitution=r._original.restitution,r.friction=r._original.friction,r.mass=r._original.mass,r.inertia=r._original.inertia,r.density=r._original.density,r.inverseMass=r._original.inverseMass,r.inverseInertia=r._original.inverseInertia,delete r._original)}},r.setMass=function(e,t){var n=e.inertia/(e.mass/6);e.inertia=n*(t/6),e.inverseInertia=1/e.inertia,e.mass=t,e.inverseMass=1/e.mass,e.density=e.mass/e.area},r.setDensity=function(e,t){r.setMass(e,t*e.area),e.density=t},r.setInertia=function(e,t){e.inertia=t,e.inverseInertia=1/e.inertia},r.setVertices=function(e,t){t[0].body===e?e.vertices=t:e.vertices=i.create(t,e),e.axes=u.fromVertices(e.vertices),e.area=i.area(e.vertices),r.setMass(e,e.density*e.area);var n=i.centre(e.vertices);i.translate(e.vertices,n,-1),r.setInertia(e,r._inertiaScale*i.inertia(e.vertices,e.mass)),i.translate(e.vertices,e.position),c.update(e.bounds,e.vertices,e.velocity)},r.setParts=function(e,t,n){var o;for(t=t.slice(0),e.parts.length=0,e.parts.push(e),e.parent=e,o=0;o<t.length;o++){var s=t[o];s!==e&&(s.parent=e,e.parts.push(s))}if(1!==e.parts.length){if(n=void 0===n||n){var a=[];for(o=0;o<t.length;o++)a=a.concat(t[o].vertices);i.clockwiseSort(a);var c=i.hull(a),u=i.centre(c);r.setVertices(e,c),i.translate(e.vertices,u)}var l=r._totalProperties(e);e.area=l.area,e.parent=e,e.position.x=l.centre.x,e.position.y=l.centre.y,e.positionPrev.x=l.centre.x,e.positionPrev.y=l.centre.y,r.setMass(e,l.mass),r.setInertia(e,l.inertia),r.setPosition(e,l.centre)}},r.setPosition=function(e,t){var n=o.sub(t,e.position);e.positionPrev.x+=n.x,e.positionPrev.y+=n.y;for(var r=0;r<e.parts.length;r++){var s=e.parts[r];s.position.x+=n.x,s.position.y+=n.y,i.translate(s.vertices,n),c.update(s.bounds,s.vertices,e.velocity)}},r.setAngle=function(e,t){var n=t-e.angle;e.anglePrev+=n;for(var r=0;r<e.parts.length;r++){var s=e.parts[r];s.angle+=n,i.rotate(s.vertices,n,e.position),u.rotate(s.axes,n),c.update(s.bounds,s.vertices,e.velocity),r>0&&o.rotateAbout(s.position,n,e.position,s.position)}},r.setVelocity=function(e,t){e.positionPrev.x=e.position.x-t.x,e.positionPrev.y=e.position.y-t.y,e.velocity.x=t.x,e.velocity.y=t.y,e.speed=o.magnitude(e.velocity)},r.setAngularVelocity=function(e,t){e.anglePrev=e.angle-t,e.angularVelocity=t,e.angularSpeed=Math.abs(e.angularVelocity)},r.translate=function(e,t){r.setPosition(e,o.add(e.position,t))},r.rotate=function(e,t,n){if(n){var i=Math.cos(t),o=Math.sin(t),s=e.position.x-n.x,a=e.position.y-n.y;r.setPosition(e,{x:n.x+(s*i-a*o),y:n.y+(s*o+a*i)}),r.setAngle(e,e.angle+t)}else r.setAngle(e,e.angle+t)},r.scale=function(e,t,n,o){var s=0,a=0;o=o||e.position;for(var l=0;l<e.parts.length;l++){var d=e.parts[l];i.scale(d.vertices,t,n,o),d.axes=u.fromVertices(d.vertices),d.area=i.area(d.vertices),r.setMass(d,e.density*d.area),i.translate(d.vertices,{x:-d.position.x,y:-d.position.y}),r.setInertia(d,r._inertiaScale*i.inertia(d.vertices,d.mass)),i.translate(d.vertices,{x:d.position.x,y:d.position.y}),l>0&&(s+=d.area,a+=d.inertia),d.position.x=o.x+(d.position.x-o.x)*t,d.position.y=o.y+(d.position.y-o.y)*n,c.update(d.bounds,d.vertices,e.velocity)}e.parts.length>1&&(e.area=s,e.isStatic||(r.setMass(e,e.density*s),r.setInertia(e,a))),e.circleRadius&&(t===n?e.circleRadius*=t:e.circleRadius=null)},r.update=function(e,t,n,r){var s=Math.pow(t*n*e.timeScale,2),a=1-e.frictionAir*n*e.timeScale,l=e.position.x-e.positionPrev.x,d=e.position.y-e.positionPrev.y;e.velocity.x=l*a*r+e.force.x/e.mass*s,e.velocity.y=d*a*r+e.force.y/e.mass*s,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.angularVelocity=(e.angle-e.anglePrev)*a*r+e.torque/e.inertia*s,e.anglePrev=e.angle,e.angle+=e.angularVelocity,e.speed=o.magnitude(e.velocity),e.angularSpeed=Math.abs(e.angularVelocity);for(var f=0;f<e.parts.length;f++){var p=e.parts[f];i.translate(p.vertices,e.velocity),f>0&&(p.position.x+=e.velocity.x,p.position.y+=e.velocity.y),0!==e.angularVelocity&&(i.rotate(p.vertices,e.angularVelocity,e.position),u.rotate(p.axes,e.angularVelocity),f>0&&o.rotateAbout(p.position,e.angularVelocity,e.position,p.position)),c.update(p.bounds,p.vertices,e.velocity)}},r.applyForce=function(e,t,n){e.force.x+=n.x,e.force.y+=n.y;var r=t.x-e.position.x,i=t.y-e.position.y;e.torque+=r*n.y-i*n.x},r._totalProperties=function(e){for(var t={mass:0,area:0,inertia:0,centre:{x:0,y:0}},n=1===e.parts.length?0:1;n<e.parts.length;n++){var r=e.parts[n],i=r.mass!==1/0?r.mass:1;t.mass+=i,t.area+=r.area,t.inertia+=r.inertia,t.centre=o.add(t.centre,o.mult(r.position,i))}return t.centre=o.div(t.centre,t.mass),t}}()},{"../core/Common":14,"../core/Sleeping":22,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29,"../render/Render":31}],2:[function(e,t,n){var r={};t.exports=r;var i=e("../core/Events"),o=e("../core/Common"),s=e("../geometry/Bounds"),a=e("./Body");r.create=function(e){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},e)},r.setModified=function(e,t,n,i){if(e.isModified=t,n&&e.parent&&r.setModified(e.parent,t,n,i),i)for(var o=0;o<e.composites.length;o++){var s=e.composites[o];r.setModified(s,t,n,i)}},r.add=function(e,t){var n=[].concat(t);i.trigger(e,"beforeAdd",{object:t});for(var s=0;s<n.length;s++){var a=n[s];switch(a.type){case"body":if(a.parent!==a){o.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}r.addBody(e,a);break;case"constraint":r.addConstraint(e,a);break;case"composite":r.addComposite(e,a);break;case"mouseConstraint":r.addConstraint(e,a.constraint)}}return i.trigger(e,"afterAdd",{object:t}),e},r.remove=function(e,t,n){var o=[].concat(t);i.trigger(e,"beforeRemove",{object:t});for(var s=0;s<o.length;s++){var a=o[s];switch(a.type){case"body":r.removeBody(e,a,n);break;case"constraint":r.removeConstraint(e,a,n);break;case"composite":r.removeComposite(e,a,n);break;case"mouseConstraint":r.removeConstraint(e,a.constraint)}}return i.trigger(e,"afterRemove",{object:t}),e},r.addComposite=function(e,t){return e.composites.push(t),t.parent=e,r.setModified(e,!0,!0,!1),e},r.removeComposite=function(e,t,n){var i=o.indexOf(e.composites,t);if(-1!==i&&(r.removeCompositeAt(e,i),r.setModified(e,!0,!0,!1)),n)for(var s=0;s<e.composites.length;s++)r.removeComposite(e.composites[s],t,!0);return e},r.removeCompositeAt=function(e,t){return e.composites.splice(t,1),r.setModified(e,!0,!0,!1),e},r.addBody=function(e,t){return e.bodies.push(t),r.setModified(e,!0,!0,!1),e},r.removeBody=function(e,t,n){var i=o.indexOf(e.bodies,t);if(-1!==i&&(r.removeBodyAt(e,i),r.setModified(e,!0,!0,!1)),n)for(var s=0;s<e.composites.length;s++)r.removeBody(e.composites[s],t,!0);return e},r.removeBodyAt=function(e,t){return e.bodies.splice(t,1),r.setModified(e,!0,!0,!1),e},r.addConstraint=function(e,t){return e.constraints.push(t),r.setModified(e,!0,!0,!1),e},r.removeConstraint=function(e,t,n){var i=o.indexOf(e.constraints,t);if(-1!==i&&r.removeConstraintAt(e,i),n)for(var s=0;s<e.composites.length;s++)r.removeConstraint(e.composites[s],t,!0);return e},r.removeConstraintAt=function(e,t){return e.constraints.splice(t,1),r.setModified(e,!0,!0,!1),e},r.clear=function(e,t,n){if(n)for(var i=0;i<e.composites.length;i++)r.clear(e.composites[i],t,!0);return t?e.bodies=e.bodies.filter((function(e){return e.isStatic})):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,r.setModified(e,!0,!0,!1),e},r.allBodies=function(e){for(var t=[].concat(e.bodies),n=0;n<e.composites.length;n++)t=t.concat(r.allBodies(e.composites[n]));return t},r.allConstraints=function(e){for(var t=[].concat(e.constraints),n=0;n<e.composites.length;n++)t=t.concat(r.allConstraints(e.composites[n]));return t},r.allComposites=function(e){for(var t=[].concat(e.composites),n=0;n<e.composites.length;n++)t=t.concat(r.allComposites(e.composites[n]));return t},r.get=function(e,t,n){var i,o;switch(n){case"body":i=r.allBodies(e);break;case"constraint":i=r.allConstraints(e);break;case"composite":i=r.allComposites(e).concat(e)}return i?0===(o=i.filter((function(e){return e.id.toString()===t.toString()}))).length?null:o[0]:null},r.move=function(e,t,n){return r.remove(e,t),r.add(n,t),e},r.rebase=function(e){for(var t=r.allBodies(e).concat(r.allConstraints(e)).concat(r.allComposites(e)),n=0;n<t.length;n++)t[n].id=o.nextId();return r.setModified(e,!0,!0,!1),e},r.translate=function(e,t,n){for(var i=n?r.allBodies(e):e.bodies,o=0;o<i.length;o++)a.translate(i[o],t);return r.setModified(e,!0,!0,!1),e},r.rotate=function(e,t,n,i){for(var o=Math.cos(t),s=Math.sin(t),c=i?r.allBodies(e):e.bodies,u=0;u<c.length;u++){var l=c[u],d=l.position.x-n.x,f=l.position.y-n.y;a.setPosition(l,{x:n.x+(d*o-f*s),y:n.y+(d*s+f*o)}),a.rotate(l,t)}return r.setModified(e,!0,!0,!1),e},r.scale=function(e,t,n,i,o){for(var s=o?r.allBodies(e):e.bodies,c=0;c<s.length;c++){var u=s[c],l=u.position.x-i.x,d=u.position.y-i.y;a.setPosition(u,{x:i.x+l*t,y:i.y+d*n}),a.scale(u,t,n)}return r.setModified(e,!0,!0,!1),e},r.bounds=function(e){for(var t=r.allBodies(e),n=[],i=0;i<t.length;i+=1){var o=t[i];n.push(o.bounds.min,o.bounds.max)}return s.create(n)}},{"../core/Common":14,"../core/Events":16,"../geometry/Bounds":26,"./Body":1}],3:[function(e,t,n){var r={};t.exports=r;var i=e("./Composite"),o=(e("../constraint/Constraint"),e("../core/Common"));r.create=function(e){var t=i.create(),n={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return o.extend(t,n,e)}},{"../constraint/Constraint":12,"../core/Common":14,"./Composite":2}],4:[function(e,t,n){var r={};t.exports=r,r.create=function(e){return{id:r.id(e),vertex:e,normalImpulse:0,tangentImpulse:0}},r.id=function(e){return e.body.id+"_"+e.index}},{}],5:[function(e,t,n){var r={};t.exports=r;var i=e("./SAT"),o=e("./Pair"),s=e("../geometry/Bounds");r.collisions=function(e,t){for(var n=[],a=t.pairs.table,c=0;c<e.length;c++){var u=e[c][0],l=e[c][1];if((!u.isStatic&&!u.isSleeping||!l.isStatic&&!l.isSleeping)&&r.canCollide(u.collisionFilter,l.collisionFilter)&&s.overlaps(u.bounds,l.bounds))for(var d=u.parts.length>1?1:0;d<u.parts.length;d++)for(var f=u.parts[d],p=l.parts.length>1?1:0;p<l.parts.length;p++){var h=l.parts[p];if(f===u&&h===l||s.overlaps(f.bounds,h.bounds)){var m,g=a[o.id(f,h)];m=g&&g.isActive?g.collision:null;var v=i.collides(f,h,m);v.collided&&n.push(v)}}}return n},r.canCollide=function(e,t){return e.group===t.group&&0!==e.group?e.group>0:0!=(e.mask&t.category)&&0!=(t.mask&e.category)}},{"../geometry/Bounds":26,"./Pair":7,"./SAT":11}],6:[function(e,t,n){var r={};t.exports=r;var i=e("./Pair"),o=e("./Detector"),s=e("../core/Common");r.create=function(e){var t={controller:r,detector:o.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return s.extend(t,e)},r.update=function(e,t,n,i){var o,s,a,c,u,l=n.world,d=e.buckets,f=!1;for(o=0;o<t.length;o++){var p=t[o];if((!p.isSleeping||i)&&!(p.bounds.max.x<l.bounds.min.x||p.bounds.min.x>l.bounds.max.x||p.bounds.max.y<l.bounds.min.y||p.bounds.min.y>l.bounds.max.y)){var h=r._getRegion(e,p);if(!p.region||h.id!==p.region.id||i){p.region&&!i||(p.region=h);var m=r._regionUnion(h,p.region);for(s=m.startCol;s<=m.endCol;s++)for(a=m.startRow;a<=m.endRow;a++){c=d[u=r._getBucketId(s,a)];var g=s>=h.startCol&&s<=h.endCol&&a>=h.startRow&&a<=h.endRow,v=s>=p.region.startCol&&s<=p.region.endCol&&a>=p.region.startRow&&a<=p.region.endRow;!g&&v&&v&&c&&r._bucketRemoveBody(e,c,p),(p.region===h||g&&!v||i)&&(c||(c=r._createBucket(d,u)),r._bucketAddBody(e,c,p))}p.region=h,f=!0}}}f&&(e.pairsList=r._createActivePairsList(e))},r.clear=function(e){e.buckets={},e.pairs={},e.pairsList=[]},r._regionUnion=function(e,t){var n=Math.min(e.startCol,t.startCol),i=Math.max(e.endCol,t.endCol),o=Math.min(e.startRow,t.startRow),s=Math.max(e.endRow,t.endRow);return r._createRegion(n,i,o,s)},r._getRegion=function(e,t){var n=t.bounds,i=Math.floor(n.min.x/e.bucketWidth),o=Math.floor(n.max.x/e.bucketWidth),s=Math.floor(n.min.y/e.bucketHeight),a=Math.floor(n.max.y/e.bucketHeight);return r._createRegion(i,o,s,a)},r._createRegion=function(e,t,n,r){return{id:e+","+t+","+n+","+r,startCol:e,endCol:t,startRow:n,endRow:r}},r._getBucketId=function(e,t){return"C"+e+"R"+t},r._createBucket=function(e,t){return e[t]=[]},r._bucketAddBody=function(e,t,n){for(var r=0;r<t.length;r++){var o=t[r];if(!(n.id===o.id||n.isStatic&&o.isStatic)){var s=i.id(n,o),a=e.pairs[s];a?a[2]+=1:e.pairs[s]=[n,o,1]}}t.push(n)},r._bucketRemoveBody=function(e,t,n){t.splice(s.indexOf(t,n),1);for(var r=0;r<t.length;r++){var o=t[r],a=i.id(n,o),c=e.pairs[a];c&&(c[2]-=1)}},r._createActivePairsList=function(e){var t,n,r=[];t=s.keys(e.pairs);for(var i=0;i<t.length;i++)(n=e.pairs[t[i]])[2]>0?r.push(n):delete e.pairs[t[i]];return r}},{"../core/Common":14,"./Detector":5,"./Pair":7}],7:[function(e,t,n){var r={};t.exports=r;var i=e("./Contact");r.create=function(e,t){var n=e.bodyA,i=e.bodyB,o=e.parentA,s=e.parentB,a={id:r.id(n,i),bodyA:n,bodyB:i,contacts:{},activeContacts:[],separation:0,isActive:!0,isSensor:n.isSensor||i.isSensor,timeCreated:t,timeUpdated:t,inverseMass:o.inverseMass+s.inverseMass,friction:Math.min(o.friction,s.friction),frictionStatic:Math.max(o.frictionStatic,s.frictionStatic),restitution:Math.max(o.restitution,s.restitution),slop:Math.max(o.slop,s.slop)};return r.update(a,e,t),a},r.update=function(e,t,n){var o=e.contacts,s=t.supports,a=e.activeContacts,c=t.parentA,u=t.parentB;if(e.collision=t,e.inverseMass=c.inverseMass+u.inverseMass,e.friction=Math.min(c.friction,u.friction),e.frictionStatic=Math.max(c.frictionStatic,u.frictionStatic),e.restitution=Math.max(c.restitution,u.restitution),e.slop=Math.max(c.slop,u.slop),a.length=0,t.collided){for(var l=0;l<s.length;l++){var d=s[l],f=i.id(d),p=o[f];p?a.push(p):a.push(o[f]=i.create(d))}e.separation=t.depth,r.setActive(e,!0,n)}else!0===e.isActive&&r.setActive(e,!1,n)},r.setActive=function(e,t,n){t?(e.isActive=!0,e.timeUpdated=n):(e.isActive=!1,e.activeContacts.length=0)},r.id=function(e,t){return e.id<t.id?"A"+e.id+"B"+t.id:"A"+t.id+"B"+e.id}},{"./Contact":4}],8:[function(e,t,n){var r={};t.exports=r;var i=e("./Pair"),o=e("../core/Common");r._pairMaxIdleLife=1e3,r.create=function(e){return o.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},r.update=function(e,t,n){var r,s,a,c,u=e.list,l=e.table,d=e.collisionStart,f=e.collisionEnd,p=e.collisionActive,h=[];for(d.length=0,f.length=0,p.length=0,c=0;c<t.length;c++)(r=t[c]).collided&&(s=i.id(r.bodyA,r.bodyB),h.push(s),(a=l[s])?(a.isActive?p.push(a):d.push(a),i.update(a,r,n)):(a=i.create(r,n),l[s]=a,d.push(a),u.push(a)));for(c=0;c<u.length;c++)(a=u[c]).isActive&&-1===o.indexOf(h,a.id)&&(i.setActive(a,!1,n),f.push(a))},r.removeOld=function(e,t){var n,i,o,s,a=e.list,c=e.table,u=[];for(s=0;s<a.length;s++)(i=(n=a[s]).collision).bodyA.isSleeping||i.bodyB.isSleeping?n.timeUpdated=t:t-n.timeUpdated>r._pairMaxIdleLife&&u.push(s);for(s=0;s<u.length;s++)delete c[(n=a[o=u[s]-s]).id],a.splice(o,1)},r.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e}},{"../core/Common":14,"./Pair":7}],9:[function(e,t,n){var r={};t.exports=r;var i=e("../geometry/Vector"),o=e("./SAT"),s=e("../geometry/Bounds"),a=e("../factory/Bodies"),c=e("../geometry/Vertices");r.collides=function(e,t){for(var n=[],r=0;r<t.length;r++){var i=t[r];if(s.overlaps(i.bounds,e.bounds))for(var a=1===i.parts.length?0:1;a<i.parts.length;a++){var c=i.parts[a];if(s.overlaps(c.bounds,e.bounds)){var u=o.collides(c,e);if(u.collided){n.push(u);break}}}}return n},r.ray=function(e,t,n,o){o=o||1e-100;for(var s=i.angle(t,n),c=i.magnitude(i.sub(t,n)),u=.5*(n.x+t.x),l=.5*(n.y+t.y),d=a.rectangle(u,l,c,o,{angle:s}),f=r.collides(d,e),p=0;p<f.length;p+=1){var h=f[p];h.body=h.bodyB=h.bodyA}return f},r.region=function(e,t,n){for(var r=[],i=0;i<e.length;i++){var o=e[i],a=s.overlaps(o.bounds,t);(a&&!n||!a&&n)&&r.push(o)}return r},r.point=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];if(s.contains(i.bounds,t))for(var o=1===i.parts.length?0:1;o<i.parts.length;o++){var a=i.parts[o];if(s.contains(a.bounds,t)&&c.contains(a.vertices,t)){n.push(i);break}}}return n}},{"../factory/Bodies":23,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29,"./SAT":11}],10:[function(e,t,n){var r={};t.exports=r;var i=e("../geometry/Vertices"),o=e("../geometry/Vector"),s=e("../core/Common"),a=e("../geometry/Bounds");r._restingThresh=4,r._restingThreshTangent=6,r._positionDampen=.9,r._positionWarming=.8,r._frictionNormalMultiplier=5,r.preSolvePosition=function(e){var t,n,r;for(t=0;t<e.length;t++)(n=e[t]).isActive&&(r=n.activeContacts.length,n.collision.parentA.totalContacts+=r,n.collision.parentB.totalContacts+=r)},r.solvePosition=function(e,t){var n,i,s,a,c,u,l,d,f,p=o._temp[0],h=o._temp[1],m=o._temp[2],g=o._temp[3];for(n=0;n<e.length;n++)(i=e[n]).isActive&&!i.isSensor&&(a=(s=i.collision).parentA,c=s.parentB,u=s.normal,l=o.sub(o.add(c.positionImpulse,c.position,p),o.add(a.positionImpulse,o.sub(c.position,s.penetration,h),m),g),i.separation=o.dot(u,l));for(n=0;n<e.length;n++)(i=e[n]).isActive&&!i.isSensor&&(a=(s=i.collision).parentA,c=s.parentB,u=s.normal,f=(i.separation-i.slop)*t,(a.isStatic||c.isStatic)&&(f*=2),a.isStatic||a.isSleeping||(d=r._positionDampen/a.totalContacts,a.positionImpulse.x+=u.x*f*d,a.positionImpulse.y+=u.y*f*d),c.isStatic||c.isSleeping||(d=r._positionDampen/c.totalContacts,c.positionImpulse.x-=u.x*f*d,c.positionImpulse.y-=u.y*f*d))},r.postSolvePosition=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.totalContacts=0,0!==n.positionImpulse.x||0!==n.positionImpulse.y){for(var s=0;s<n.parts.length;s++){var c=n.parts[s];i.translate(c.vertices,n.positionImpulse),a.update(c.bounds,c.vertices,n.velocity),c.position.x+=n.positionImpulse.x,c.position.y+=n.positionImpulse.y}n.positionPrev.x+=n.positionImpulse.x,n.positionPrev.y+=n.positionImpulse.y,o.dot(n.positionImpulse,n.velocity)<0?(n.positionImpulse.x=0,n.positionImpulse.y=0):(n.positionImpulse.x*=r._positionWarming,n.positionImpulse.y*=r._positionWarming)}}},r.preSolveVelocity=function(e){var t,n,r,i,s,a,c,u,l,d,f,p,h,m,g=o._temp[0],v=o._temp[1];for(t=0;t<e.length;t++)if((r=e[t]).isActive&&!r.isSensor)for(i=r.activeContacts,a=(s=r.collision).parentA,c=s.parentB,u=s.normal,l=s.tangent,n=0;n<i.length;n++)f=(d=i[n]).vertex,p=d.normalImpulse,h=d.tangentImpulse,0===p&&0===h||(g.x=u.x*p+l.x*h,g.y=u.y*p+l.y*h,a.isStatic||a.isSleeping||(m=o.sub(f,a.position,v),a.positionPrev.x+=g.x*a.inverseMass,a.positionPrev.y+=g.y*a.inverseMass,a.anglePrev+=o.cross(m,g)*a.inverseInertia),c.isStatic||c.isSleeping||(m=o.sub(f,c.position,v),c.positionPrev.x-=g.x*c.inverseMass,c.positionPrev.y-=g.y*c.inverseMass,c.anglePrev-=o.cross(m,g)*c.inverseInertia))},r.solveVelocity=function(e,t){for(var n=t*t,i=o._temp[0],a=o._temp[1],c=o._temp[2],u=o._temp[3],l=o._temp[4],d=o._temp[5],f=0;f<e.length;f++){var p=e[f];if(p.isActive&&!p.isSensor){var h=p.collision,m=h.parentA,g=h.parentB,v=h.normal,y=h.tangent,b=p.activeContacts,_=1/b.length;m.velocity.x=m.position.x-m.positionPrev.x,m.velocity.y=m.position.y-m.positionPrev.y,g.velocity.x=g.position.x-g.positionPrev.x,g.velocity.y=g.position.y-g.positionPrev.y,m.angularVelocity=m.angle-m.anglePrev,g.angularVelocity=g.angle-g.anglePrev;for(var x=0;x<b.length;x++){var w=b[x],S=w.vertex,A=o.sub(S,m.position,a),C=o.sub(S,g.position,c),O=o.add(m.velocity,o.mult(o.perp(A),m.angularVelocity),u),k=o.add(g.velocity,o.mult(o.perp(C),g.angularVelocity),l),j=o.sub(O,k,d),E=o.dot(v,j),T=o.dot(y,j),M=Math.abs(T),P=s.sign(T),B=(1+p.restitution)*E,L=s.clamp(p.separation+E,0,1)*r._frictionNormalMultiplier,I=T,R=1/0;M>p.friction*p.frictionStatic*L*n&&(R=M,I=s.clamp(p.friction*P*n,-R,R));var q=o.cross(A,v),D=o.cross(C,v),N=_/(m.inverseMass+g.inverseMass+m.inverseInertia*q*q+g.inverseInertia*D*D);if(B*=N,I*=N,E<0&&E*E>r._restingThresh*n)w.normalImpulse=0;else{var V=w.normalImpulse;w.normalImpulse=Math.min(w.normalImpulse+B,0),B=w.normalImpulse-V}if(T*T>r._restingThreshTangent*n)w.tangentImpulse=0;else{var F=w.tangentImpulse;w.tangentImpulse=s.clamp(w.tangentImpulse+I,-R,R),I=w.tangentImpulse-F}i.x=v.x*B+y.x*I,i.y=v.y*B+y.y*I,m.isStatic||m.isSleeping||(m.positionPrev.x+=i.x*m.inverseMass,m.positionPrev.y+=i.y*m.inverseMass,m.anglePrev+=o.cross(A,i)*m.inverseInertia),g.isStatic||g.isSleeping||(g.positionPrev.x-=i.x*g.inverseMass,g.positionPrev.y-=i.y*g.inverseMass,g.anglePrev-=o.cross(C,i)*g.inverseInertia)}}}}},{"../core/Common":14,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],11:[function(e,t,n){var r={};t.exports=r;var i=e("../geometry/Vertices"),o=e("../geometry/Vector");r.collides=function(e,t,n){var s,a,c,u,l=!1;if(n){var d=e.parent,f=t.parent,p=d.speed*d.speed+d.angularSpeed*d.angularSpeed+f.speed*f.speed+f.angularSpeed*f.angularSpeed;l=n&&n.collided&&p<.2,u=n}else u={collided:!1,bodyA:e,bodyB:t};if(n&&l){var h=u.axisBody,m=h===e?t:e,g=[h.axes[n.axisNumber]];if(c=r._overlapAxes(h.vertices,m.vertices,g),u.reused=!0,c.overlap<=0)return u.collided=!1,u}else{if((s=r._overlapAxes(e.vertices,t.vertices,e.axes)).overlap<=0)return u.collided=!1,u;if((a=r._overlapAxes(t.vertices,e.vertices,t.axes)).overlap<=0)return u.collided=!1,u;s.overlap<a.overlap?(c=s,u.axisBody=e):(c=a,u.axisBody=t),u.axisNumber=c.axisNumber}u.bodyA=e.id<t.id?e:t,u.bodyB=e.id<t.id?t:e,u.collided=!0,u.depth=c.overlap,u.parentA=u.bodyA.parent,u.parentB=u.bodyB.parent,e=u.bodyA,t=u.bodyB,o.dot(c.axis,o.sub(t.position,e.position))<0?u.normal={x:c.axis.x,y:c.axis.y}:u.normal={x:-c.axis.x,y:-c.axis.y},u.tangent=o.perp(u.normal),u.penetration=u.penetration||{},u.penetration.x=u.normal.x*u.depth,u.penetration.y=u.normal.y*u.depth;var v=r._findSupports(e,t,u.normal),y=[];if(i.contains(e.vertices,v[0])&&y.push(v[0]),i.contains(e.vertices,v[1])&&y.push(v[1]),y.length<2){var b=r._findSupports(t,e,o.neg(u.normal));i.contains(t.vertices,b[0])&&y.push(b[0]),y.length<2&&i.contains(t.vertices,b[1])&&y.push(b[1])}return y.length<1&&(y=[v[0]]),u.supports=y,u},r._overlapAxes=function(e,t,n){for(var i,s,a=o._temp[0],c=o._temp[1],u={overlap:Number.MAX_VALUE},l=0;l<n.length;l++){if(s=n[l],r._projectToAxis(a,e,s),r._projectToAxis(c,t,s),(i=Math.min(a.max-c.min,c.max-a.min))<=0)return u.overlap=i,u;i<u.overlap&&(u.overlap=i,u.axis=s,u.axisNumber=l)}return u},r._projectToAxis=function(e,t,n){for(var r=o.dot(t[0],n),i=r,s=1;s<t.length;s+=1){var a=o.dot(t[s],n);a>i?i=a:a<r&&(r=a)}e.min=r,e.max=i},r._findSupports=function(e,t,n){for(var r,i,s,a,c=Number.MAX_VALUE,u=o._temp[0],l=t.vertices,d=e.position,f=0;f<l.length;f++)i=l[f],u.x=i.x-d.x,u.y=i.y-d.y,(r=-o.dot(n,u))<c&&(c=r,s=i);return i=l[s.index-1>=0?s.index-1:l.length-1],u.x=i.x-d.x,u.y=i.y-d.y,c=-o.dot(n,u),a=i,i=l[(s.index+1)%l.length],u.x=i.x-d.x,u.y=i.y-d.y,(r=-o.dot(n,u))<c&&(a=i),[s,a]}},{"../geometry/Vector":28,"../geometry/Vertices":29}],12:[function(e,t,n){var r={};t.exports=r;var i=e("../geometry/Vertices"),o=e("../geometry/Vector"),s=e("../core/Sleeping"),a=e("../geometry/Bounds"),c=e("../geometry/Axes"),u=e("../core/Common");r._warming=.4,r._torqueDampen=1,r._minLength=1e-6,r.create=function(e){var t=e;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var n=t.bodyA?o.add(t.bodyA.position,t.pointA):t.pointA,r=t.bodyB?o.add(t.bodyB.position,t.pointB):t.pointB,i=o.magnitude(o.sub(n,r));t.length=void 0!==t.length?t.length:i,t.id=t.id||u.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var s={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===t.length&&t.stiffness>.1?(s.type="pin",s.anchors=!1):t.stiffness<.9&&(s.type="spring"),t.render=u.extend(s,t.render),t},r.preSolveAll=function(e){for(var t=0;t<e.length;t+=1){var n=e[t],r=n.constraintImpulse;n.isStatic||0===r.x&&0===r.y&&0===r.angle||(n.position.x+=r.x,n.position.y+=r.y,n.angle+=r.angle)}},r.solveAll=function(e,t){for(var n=0;n<e.length;n+=1){var i=e[n],o=!i.bodyA||i.bodyA&&i.bodyA.isStatic,s=!i.bodyB||i.bodyB&&i.bodyB.isStatic;(o||s)&&r.solve(e[n],t)}for(n=0;n<e.length;n+=1)o=!(i=e[n]).bodyA||i.bodyA&&i.bodyA.isStatic,s=!i.bodyB||i.bodyB&&i.bodyB.isStatic,o||s||r.solve(e[n],t)},r.solve=function(e,t){var n=e.bodyA,i=e.bodyB,s=e.pointA,a=e.pointB;if(n||i){n&&!n.isStatic&&(o.rotate(s,n.angle-e.angleA,s),e.angleA=n.angle),i&&!i.isStatic&&(o.rotate(a,i.angle-e.angleB,a),e.angleB=i.angle);var c=s,u=a;if(n&&(c=o.add(n.position,s)),i&&(u=o.add(i.position,a)),c&&u){var l=o.sub(c,u),d=o.magnitude(l);d<r._minLength&&(d=r._minLength);var f,p,h,m,g,v=(d-e.length)/d,y=e.stiffness<1?e.stiffness*t:e.stiffness,b=o.mult(l,v*y),_=(n?n.inverseMass:0)+(i?i.inverseMass:0),x=_+((n?n.inverseInertia:0)+(i?i.inverseInertia:0));if(e.damping){var w=o.create();h=o.div(l,d),g=o.sub(i&&o.sub(i.position,i.positionPrev)||w,n&&o.sub(n.position,n.positionPrev)||w),m=o.dot(h,g)}n&&!n.isStatic&&(p=n.inverseMass/_,n.constraintImpulse.x-=b.x*p,n.constraintImpulse.y-=b.y*p,n.position.x-=b.x*p,n.position.y-=b.y*p,e.damping&&(n.positionPrev.x-=e.damping*h.x*m*p,n.positionPrev.y-=e.damping*h.y*m*p),f=o.cross(s,b)/x*r._torqueDampen*n.inverseInertia*(1-e.angularStiffness),n.constraintImpulse.angle-=f,n.angle-=f),i&&!i.isStatic&&(p=i.inverseMass/_,i.constraintImpulse.x+=b.x*p,i.constraintImpulse.y+=b.y*p,i.position.x+=b.x*p,i.position.y+=b.y*p,e.damping&&(i.positionPrev.x+=e.damping*h.x*m*p,i.positionPrev.y+=e.damping*h.y*m*p),f=o.cross(a,b)/x*r._torqueDampen*i.inverseInertia*(1-e.angularStiffness),i.constraintImpulse.angle+=f,i.angle+=f)}}},r.postSolveAll=function(e){for(var t=0;t<e.length;t++){var n=e[t],u=n.constraintImpulse;if(!(n.isStatic||0===u.x&&0===u.y&&0===u.angle)){s.set(n,!1);for(var l=0;l<n.parts.length;l++){var d=n.parts[l];i.translate(d.vertices,u),l>0&&(d.position.x+=u.x,d.position.y+=u.y),0!==u.angle&&(i.rotate(d.vertices,u.angle,n.position),c.rotate(d.axes,u.angle),l>0&&o.rotateAbout(d.position,u.angle,n.position,d.position)),a.update(d.bounds,d.vertices,n.velocity)}u.angle*=r._warming,u.x*=r._warming,u.y*=r._warming}}}},{"../core/Common":14,"../core/Sleeping":22,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],13:[function(e,t,n){var r={};t.exports=r;var i=e("../geometry/Vertices"),o=e("../core/Sleeping"),s=e("../core/Mouse"),a=e("../core/Events"),c=e("../collision/Detector"),u=e("./Constraint"),l=e("../body/Composite"),d=e("../core/Common"),f=e("../geometry/Bounds");r.create=function(e,t){var n=(e?e.mouse:null)||(t?t.mouse:null);n||(e&&e.render&&e.render.canvas?n=s.create(e.render.canvas):t&&t.element?n=s.create(t.element):(n=s.create(),d.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var i={type:"mouseConstraint",mouse:n,element:null,body:null,constraint:u.create({label:"Mouse Constraint",pointA:n.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),collisionFilter:{category:1,mask:4294967295,group:0}},o=d.extend(i,t);return a.on(e,"beforeUpdate",(function(){var t=l.allBodies(e.world);r.update(o,t),r._triggerEvents(o)})),o},r.update=function(e,t){var n=e.mouse,r=e.constraint,s=e.body;if(0===n.button){if(r.bodyB)o.set(r.bodyB,!1),r.pointA=n.position;else for(var u=0;u<t.length;u++)if(s=t[u],f.contains(s.bounds,n.position)&&c.canCollide(s.collisionFilter,e.collisionFilter))for(var l=s.parts.length>1?1:0;l<s.parts.length;l++){var d=s.parts[l];if(i.contains(d.vertices,n.position)){r.pointA=n.position,r.bodyB=e.body=s,r.pointB={x:n.position.x-s.position.x,y:n.position.y-s.position.y},r.angleB=s.angle,o.set(s,!1),a.trigger(e,"startdrag",{mouse:n,body:s});break}}}else r.bodyB=e.body=null,r.pointB=null,s&&a.trigger(e,"enddrag",{mouse:n,body:s})},r._triggerEvents=function(e){var t=e.mouse,n=t.sourceEvents;n.mousemove&&a.trigger(e,"mousemove",{mouse:t}),n.mousedown&&a.trigger(e,"mousedown",{mouse:t}),n.mouseup&&a.trigger(e,"mouseup",{mouse:t}),s.clearSourceEvents(t)}},{"../body/Composite":2,"../collision/Detector":5,"../core/Common":14,"../core/Events":16,"../core/Mouse":19,"../core/Sleeping":22,"../geometry/Bounds":26,"../geometry/Vertices":29,"./Constraint":12}],14:[function(e,n,r){(function(t){var r={};n.exports=r,function(){r._nextId=0,r._seed=0,r._nowStartTime=+new Date,r.extend=function(e,t){var n,i;"boolean"==typeof t?(n=2,i=t):(n=1,i=!0);for(var o=n;o<arguments.length;o++){var s=arguments[o];if(s)for(var a in s)i&&s[a]&&s[a].constructor===Object?e[a]&&e[a].constructor!==Object?e[a]=s[a]:(e[a]=e[a]||{},r.extend(e[a],i,s[a])):e[a]=s[a]}return e},r.clone=function(e,t){return r.extend({},t,e)},r.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},r.values=function(e){var t=[];if(Object.keys){for(var n=Object.keys(e),r=0;r<n.length;r++)t.push(e[n[r]]);return t}for(var i in e)t.push(e[i]);return t},r.get=function(e,t,n,r){t=t.split(".").slice(n,r);for(var i=0;i<t.length;i+=1)e=e[t[i]];return e},r.set=function(e,t,n,i,o){var s=t.split(".").slice(i,o);return r.get(e,t,0,-1)[s[s.length-1]]=n,n},r.shuffle=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(r.random()*(t+1)),i=e[t];e[t]=e[n],e[n]=i}return e},r.choose=function(e){return e[Math.floor(r.random()*e.length)]},r.isElement=function(e){return"undefined"!=typeof HTMLElement?e instanceof HTMLElement:!!(e&&e.nodeType&&e.nodeName)},r.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},r.isFunction=function(e){return"function"==typeof e},r.isPlainObject=function(e){return"object"==typeof e&&e.constructor===Object},r.isString=function(e){return"[object String]"===toString.call(e)},r.clamp=function(e,t,n){return e<t?t:e>n?n:e},r.sign=function(e){return e<0?-1:1},r.now=function(){if(window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-r._nowStartTime},r.random=function(e,t){return t=void 0!==t?t:1,(e=void 0!==e?e:0)+n()*(t-e)};var n=function(){return r._seed=(9301*r._seed+49297)%233280,r._seed/233280};r.colorToNumber=function(e){return 3==(e=e.replace("#","")).length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)},r.logLevel=1,r.log=function(){console&&r.logLevel>0&&r.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.info=function(){console&&r.logLevel>0&&r.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.warn=function(){console&&r.logLevel>0&&r.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.nextId=function(){return r._nextId++},r.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},r.map=function(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n},r.topologicalSort=function(e){var t=[],n=[],i=[];for(var o in e)n[o]||i[o]||r._topologicalSort(o,n,i,e,t);return t},r._topologicalSort=function(e,t,n,i,o){var s=i[e]||[];n[e]=!0;for(var a=0;a<s.length;a+=1){var c=s[a];n[c]||t[c]||r._topologicalSort(c,t,n,i,o)}n[e]=!1,t[e]=!0,o.push(e)},r.chain=function(){for(var e=[],t=0;t<arguments.length;t+=1){var n=arguments[t];n._chained?e.push.apply(e,n._chained):e.push(n)}var r=function(){for(var t,n=new Array(arguments.length),r=0,i=arguments.length;r<i;r++)n[r]=arguments[r];for(r=0;r<e.length;r+=1){var o=e[r].apply(t,n);void 0!==o&&(t=o)}return t};return r._chained=e,r},r.chainPathBefore=function(e,t,n){return r.set(e,t,r.chain(n,r.get(e,t)))},r.chainPathAfter=function(e,t,n){return r.set(e,t,r.chain(r.get(e,t),n))},r._requireGlobal=function(n,r){return("undefined"!=typeof window?window[n]:void 0!==t?t[n]:null)||e(r)}}()}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(e,t,n){var r={};t.exports=r;var i=e("../body/World"),o=e("./Sleeping"),s=e("../collision/Resolver"),a=e("../render/Render"),c=e("../collision/Pairs"),u=(e("./Metrics"),e("../collision/Grid")),l=e("./Events"),d=e("../body/Composite"),f=e("../constraint/Constraint"),p=e("./Common"),h=e("../body/Body");r.create=function(e,t){t=(t=p.isElement(e)?t:e)||{},((e=p.isElement(e)?e:null)||t.render)&&p.warn("Engine.create: engine.render is deprecated (see docs)");var n={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:u}},r=p.extend(n,t);if(e||r.render){var o={element:e,controller:a};r.render=p.extend(o,r.render)}return r.render&&r.render.controller&&(r.render=r.render.controller.create(r.render)),r.render&&(r.render.engine=r),r.world=t.world||i.create(r.world),r.pairs=c.create(),r.broadphase=r.broadphase.controller.create(r.broadphase),r.metrics=r.metrics||{extended:!1},r},r.update=function(e,t,n){t=t||1e3/60,n=n||1;var i,a=e.world,u=e.timing,p=e.broadphase,h=[];u.timestamp+=t*u.timeScale;var m={timestamp:u.timestamp};l.trigger(e,"beforeUpdate",m);var g=d.allBodies(a),v=d.allConstraints(a);for(e.enableSleeping&&o.update(g,u.timeScale),r._bodiesApplyGravity(g,a.gravity),r._bodiesUpdate(g,t,u.timeScale,n,a.bounds),f.preSolveAll(g),i=0;i<e.constraintIterations;i++)f.solveAll(v,u.timeScale);f.postSolveAll(g),p.controller?(a.isModified&&p.controller.clear(p),p.controller.update(p,g,e,a.isModified),h=p.pairsList):h=g,a.isModified&&d.setModified(a,!1,!1,!0);var y=p.detector(h,e),b=e.pairs,_=u.timestamp;for(c.update(b,y,_),c.removeOld(b,_),e.enableSleeping&&o.afterCollisions(b.list,u.timeScale),b.collisionStart.length>0&&l.trigger(e,"collisionStart",{pairs:b.collisionStart}),s.preSolvePosition(b.list),i=0;i<e.positionIterations;i++)s.solvePosition(b.list,u.timeScale);for(s.postSolvePosition(g),f.preSolveAll(g),i=0;i<e.constraintIterations;i++)f.solveAll(v,u.timeScale);for(f.postSolveAll(g),s.preSolveVelocity(b.list),i=0;i<e.velocityIterations;i++)s.solveVelocity(b.list,u.timeScale);return b.collisionActive.length>0&&l.trigger(e,"collisionActive",{pairs:b.collisionActive}),b.collisionEnd.length>0&&l.trigger(e,"collisionEnd",{pairs:b.collisionEnd}),r._bodiesClearForces(g),l.trigger(e,"afterUpdate",m),e},r.merge=function(e,t){if(p.extend(e,t),t.world){e.world=t.world,r.clear(e);for(var n=d.allBodies(e.world),i=0;i<n.length;i++){var s=n[i];o.set(s,!1),s.id=p.nextId()}}},r.clear=function(e){var t=e.world;c.clear(e.pairs);var n=e.broadphase;if(n.controller){var r=d.allBodies(t);n.controller.clear(n),n.controller.update(n,r,e,!0)}},r._bodiesClearForces=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.force.x=0,n.force.y=0,n.torque=0}},r._bodiesApplyGravity=function(e,t){var n=void 0!==t.scale?t.scale:.001;if((0!==t.x||0!==t.y)&&0!==n)for(var r=0;r<e.length;r++){var i=e[r];i.isStatic||i.isSleeping||(i.force.y+=i.mass*t.y*n,i.force.x+=i.mass*t.x*n)}},r._bodiesUpdate=function(e,t,n,r,i){for(var o=0;o<e.length;o++){var s=e[o];s.isStatic||s.isSleeping||h.update(s,t,n,r)}}},{"../body/Body":1,"../body/Composite":2,"../body/World":3,"../collision/Grid":6,"../collision/Pairs":8,"../collision/Resolver":10,"../constraint/Constraint":12,"../render/Render":31,"./Common":14,"./Events":16,"./Metrics":18,"./Sleeping":22}],16:[function(e,t,n){var r={};t.exports=r;var i=e("./Common");r.on=function(e,t,n){for(var r,i=t.split(" "),o=0;o<i.length;o++)r=i[o],e.events=e.events||{},e.events[r]=e.events[r]||[],e.events[r].push(n);return n},r.off=function(e,t,n){if(t){"function"==typeof t&&(n=t,t=i.keys(e.events).join(" "));for(var r=t.split(" "),o=0;o<r.length;o++){var s=e.events[r[o]],a=[];if(n&&s)for(var c=0;c<s.length;c++)s[c]!==n&&a.push(s[c]);e.events[r[o]]=a}}else e.events={}},r.trigger=function(e,t,n){var r,o,s,a;if(e.events){n||(n={}),r=t.split(" ");for(var c=0;c<r.length;c++)if(o=r[c],s=e.events[o]){(a=i.clone(n,!1)).name=o,a.source=e;for(var u=0;u<s.length;u++)s[u].apply(e,[a])}}}},{"./Common":14}],17:[function(e,t,n){var r={};t.exports=r;var i=e("./Plugin"),o=e("./Common");r.name="matter-js",r.version="0.14.2",r.uses=[],r.used=[],r.use=function(){i.use(r,Array.prototype.slice.call(arguments))},r.before=function(e,t){return e=e.replace(/^Matter./,""),o.chainPathBefore(r,e,t)},r.after=function(e,t){return e=e.replace(/^Matter./,""),o.chainPathAfter(r,e,t)}},{"./Common":14,"./Plugin":20}],18:[function(e,t,n){},{"../body/Composite":2,"./Common":14}],19:[function(e,t,n){var r={};t.exports=r;var i=e("../core/Common");r.create=function(e){var t={};return e||i.log("Mouse.create: element was undefined, defaulting to document.body","warn"),t.element=e||document.body,t.absolute={x:0,y:0},t.position={x:0,y:0},t.mousedownPosition={x:0,y:0},t.mouseupPosition={x:0,y:0},t.offset={x:0,y:0},t.scale={x:1,y:1},t.wheelDelta=0,t.button=-1,t.pixelRatio=t.element.getAttribute("data-pixel-ratio")||1,t.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},t.mousemove=function(e){var n=r._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches&&(t.button=0,e.preventDefault()),t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.sourceEvents.mousemove=e},t.mousedown=function(e){var n=r._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches?(t.button=0,e.preventDefault()):t.button=e.button,t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mousedownPosition.x=t.position.x,t.mousedownPosition.y=t.position.y,t.sourceEvents.mousedown=e},t.mouseup=function(e){var n=r._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches&&e.preventDefault(),t.button=-1,t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mouseupPosition.x=t.position.x,t.mouseupPosition.y=t.position.y,t.sourceEvents.mouseup=e},t.mousewheel=function(e){t.wheelDelta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),e.preventDefault()},r.setElement(t,t.element),t},r.setElement=function(e,t){e.element=t,t.addEventListener("mousemove",e.mousemove),t.addEventListener("mousedown",e.mousedown),t.addEventListener("mouseup",e.mouseup),t.addEventListener("mousewheel",e.mousewheel),t.addEventListener("DOMMouseScroll",e.mousewheel),t.addEventListener("touchmove",e.mousemove),t.addEventListener("touchstart",e.mousedown),t.addEventListener("touchend",e.mouseup)},r.clearSourceEvents=function(e){e.sourceEvents.mousemove=null,e.sourceEvents.mousedown=null,e.sourceEvents.mouseup=null,e.sourceEvents.mousewheel=null,e.wheelDelta=0},r.setOffset=function(e,t){e.offset.x=t.x,e.offset.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},r.setScale=function(e,t){e.scale.x=t.x,e.scale.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},r._getRelativeMousePosition=function(e,t,n){var r,i,o=t.getBoundingClientRect(),s=document.documentElement||document.body.parentNode||document.body,a=void 0!==window.pageXOffset?window.pageXOffset:s.scrollLeft,c=void 0!==window.pageYOffset?window.pageYOffset:s.scrollTop,u=e.changedTouches;return u?(r=u[0].pageX-o.left-a,i=u[0].pageY-o.top-c):(r=e.pageX-o.left-a,i=e.pageY-o.top-c),{x:r/(t.clientWidth/(t.width||t.clientWidth)*n),y:i/(t.clientHeight/(t.height||t.clientHeight)*n)}}},{"../core/Common":14}],20:[function(e,t,n){var r={};t.exports=r;var i=e("./Common");r._registry={},r.register=function(e){if(r.isPlugin(e)||i.warn("Plugin.register:",r.toString(e),"does not implement all required fields."),e.name in r._registry){var t=r._registry[e.name],n=r.versionParse(e.version).number,o=r.versionParse(t.version).number;n>o?(i.warn("Plugin.register:",r.toString(t),"was upgraded to",r.toString(e)),r._registry[e.name]=e):n<o?i.warn("Plugin.register:",r.toString(t),"can not be downgraded to",r.toString(e)):e!==t&&i.warn("Plugin.register:",r.toString(e),"is already registered to different plugin object")}else r._registry[e.name]=e;return e},r.resolve=function(e){return r._registry[r.dependencyParse(e).name]},r.toString=function(e){return"string"==typeof e?e:(e.name||"anonymous")+"@"+(e.version||e.range||"0.0.0")},r.isPlugin=function(e){return e&&e.name&&e.version&&e.install},r.isUsed=function(e,t){return e.used.indexOf(t)>-1},r.isFor=function(e,t){var n=e.for&&r.dependencyParse(e.for);return!e.for||t.name===n.name&&r.versionSatisfies(t.version,n.range)},r.use=function(e,t){if(e.uses=(e.uses||[]).concat(t||[]),0!==e.uses.length){for(var n=r.dependencies(e),o=i.topologicalSort(n),s=[],a=0;a<o.length;a+=1)if(o[a]!==e.name){var c=r.resolve(o[a]);c?r.isUsed(e,c.name)||(r.isFor(c,e)||(i.warn("Plugin.use:",r.toString(c),"is for",c.for,"but installed on",r.toString(e)+"."),c._warned=!0),c.install?c.install(e):(i.warn("Plugin.use:",r.toString(c),"does not specify an install function."),c._warned=!0),c._warned?(s.push(" "+r.toString(c)),delete c._warned):s.push(" "+r.toString(c)),e.used.push(c.name)):s.push(" "+o[a])}s.length>0&&i.info(s.join("  "))}else i.warn("Plugin.use:",r.toString(e),"does not specify any dependencies to install.")},r.dependencies=function(e,t){var n=r.dependencyParse(e),o=n.name;if(!(o in(t=t||{}))){e=r.resolve(e)||e,t[o]=i.map(e.uses||[],(function(t){r.isPlugin(t)&&r.register(t);var o=r.dependencyParse(t),s=r.resolve(t);return s&&!r.versionSatisfies(s.version,o.range)?(i.warn("Plugin.dependencies:",r.toString(s),"does not satisfy",r.toString(o),"used by",r.toString(n)+"."),s._warned=!0,e._warned=!0):s||(i.warn("Plugin.dependencies:",r.toString(t),"used by",r.toString(n),"could not be resolved."),e._warned=!0),o.name}));for(var s=0;s<t[o].length;s+=1)r.dependencies(t[o][s],t);return t}},r.dependencyParse=function(e){return i.isString(e)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/.test(e)||i.warn("Plugin.dependencyParse:",e,"is not a valid dependency string."),{name:e.split("@")[0],range:e.split("@")[1]||"*"}):{name:e.name,range:e.range||e.version}},r.versionParse=function(e){/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/.test(e)||i.warn("Plugin.versionParse:",e,"is not a valid version or range.");var t=e.split("-");e=t[0];var n=isNaN(Number(e[0])),r=n?e.substr(1):e,o=i.map(r.split("."),(function(e){return Number(e)}));return{isRange:n,version:r,range:e,operator:n?e[0]:"",parts:o,prerelease:t[1],number:1e8*o[0]+1e4*o[1]+o[2]}},r.versionSatisfies=function(e,t){t=t||"*";var n=r.versionParse(t),i=n.parts,o=r.versionParse(e),s=o.parts;if(n.isRange){if("*"===n.operator||"*"===e)return!0;if("~"===n.operator)return s[0]===i[0]&&s[1]===i[1]&&s[2]>=i[2];if("^"===n.operator)return i[0]>0?s[0]===i[0]&&o.number>=n.number:i[1]>0?s[1]===i[1]&&s[2]>=i[2]:s[2]===i[2]}return e===t||"*"===e}},{"./Common":14}],21:[function(e,t,n){var r={};t.exports=r;var i,o,s,a=e("./Events"),c=e("./Engine"),u=e("./Common");"undefined"!=typeof window&&(i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,o=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),i||(i=function(e){s=setTimeout((function(){e(u.now())}),1e3/60)},o=function(){clearTimeout(s)}),r.create=function(e){var t=u.extend({fps:60,correction:1,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:!1,enabled:!0},e);return t.delta=t.delta||1e3/t.fps,t.deltaMin=t.deltaMin||1e3/t.fps,t.deltaMax=t.deltaMax||1e3/(.5*t.fps),t.fps=1e3/t.delta,t},r.run=function(e,t){return void 0!==e.positionIterations&&(t=e,e=r.create()),function n(o){e.frameRequestId=i(n),o&&e.enabled&&r.tick(e,t,o)}(),e},r.tick=function(e,t,n){var r,i=t.timing,o=1,s={timestamp:i.timestamp};a.trigger(e,"beforeTick",s),a.trigger(t,"beforeTick",s),e.isFixed?r=e.delta:(r=n-e.timePrev||e.delta,e.timePrev=n,e.deltaHistory.push(r),e.deltaHistory=e.deltaHistory.slice(-e.deltaSampleSize),o=(r=(r=(r=Math.min.apply(null,e.deltaHistory))<e.deltaMin?e.deltaMin:r)>e.deltaMax?e.deltaMax:r)/e.delta,e.delta=r),0!==e.timeScalePrev&&(o*=i.timeScale/e.timeScalePrev),0===i.timeScale&&(o=0),e.timeScalePrev=i.timeScale,e.correction=o,e.frameCounter+=1,n-e.counterTimestamp>=1e3&&(e.fps=e.frameCounter*((n-e.counterTimestamp)/1e3),e.counterTimestamp=n,e.frameCounter=0),a.trigger(e,"tick",s),a.trigger(t,"tick",s),t.world.isModified&&t.render&&t.render.controller&&t.render.controller.clear&&t.render.controller.clear(t.render),a.trigger(e,"beforeUpdate",s),c.update(t,r,o),a.trigger(e,"afterUpdate",s),t.render&&t.render.controller&&(a.trigger(e,"beforeRender",s),a.trigger(t,"beforeRender",s),t.render.controller.world(t.render),a.trigger(e,"afterRender",s),a.trigger(t,"afterRender",s)),a.trigger(e,"afterTick",s),a.trigger(t,"afterTick",s)},r.stop=function(e){o(e.frameRequestId)},r.start=function(e,t){r.run(e,t)}},{"./Common":14,"./Engine":15,"./Events":16}],22:[function(e,t,n){var r={};t.exports=r;var i=e("./Events");r._motionWakeThreshold=.18,r._motionSleepThreshold=.08,r._minBias=.9,r.update=function(e,t){for(var n=t*t*t,i=0;i<e.length;i++){var o=e[i],s=o.speed*o.speed+o.angularSpeed*o.angularSpeed;if(0===o.force.x&&0===o.force.y){var a=Math.min(o.motion,s),c=Math.max(o.motion,s);o.motion=r._minBias*a+(1-r._minBias)*c,o.sleepThreshold>0&&o.motion<r._motionSleepThreshold*n?(o.sleepCounter+=1,o.sleepCounter>=o.sleepThreshold&&r.set(o,!0)):o.sleepCounter>0&&(o.sleepCounter-=1)}else r.set(o,!1)}},r.afterCollisions=function(e,t){for(var n=t*t*t,i=0;i<e.length;i++){var o=e[i];if(o.isActive){var s=o.collision,a=s.bodyA.parent,c=s.bodyB.parent;if(!(a.isSleeping&&c.isSleeping||a.isStatic||c.isStatic)&&(a.isSleeping||c.isSleeping)){var u=a.isSleeping&&!a.isStatic?a:c,l=u===a?c:a;!u.isStatic&&l.motion>r._motionWakeThreshold*n&&r.set(u,!1)}}}},r.set=function(e,t){var n=e.isSleeping;t?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0,n||i.trigger(e,"sleepStart")):(e.isSleeping=!1,e.sleepCounter=0,n&&i.trigger(e,"sleepEnd"))}},{"./Events":16}],23:[function(e,t,n){var r={};t.exports=r;var i,o=e("../geometry/Vertices"),s=e("../core/Common"),a=e("../body/Body"),c=e("../geometry/Bounds"),u=e("../geometry/Vector");r.rectangle=function(e,t,n,r,i){i=i||{};var c={label:"Rectangle Body",position:{x:e,y:t},vertices:o.fromPath("L 0 0 L "+n+" 0 L "+n+" "+r+" L 0 "+r)};if(i.chamfer){var u=i.chamfer;c.vertices=o.chamfer(c.vertices,u.radius,u.quality,u.qualityMin,u.qualityMax),delete i.chamfer}return a.create(s.extend({},c,i))},r.trapezoid=function(e,t,n,r,i,c){c=c||{};var u,l=n*(i*=.5),d=l+(1-2*i)*n,f=d+l;u=i<.5?"L 0 0 L "+l+" "+-r+" L "+d+" "+-r+" L "+f+" 0":"L 0 0 L "+d+" "+-r+" L "+f+" 0";var p={label:"Trapezoid Body",position:{x:e,y:t},vertices:o.fromPath(u)};if(c.chamfer){var h=c.chamfer;p.vertices=o.chamfer(p.vertices,h.radius,h.quality,h.qualityMin,h.qualityMax),delete c.chamfer}return a.create(s.extend({},p,c))},r.circle=function(e,t,n,i,o){i=i||{};var a={label:"Circle Body",circleRadius:n};o=o||25;var c=Math.ceil(Math.max(10,Math.min(o,n)));return c%2==1&&(c+=1),r.polygon(e,t,c,n,s.extend({},a,i))},r.polygon=function(e,t,n,i,c){if(c=c||{},n<3)return r.circle(e,t,i,c);for(var u=2*Math.PI/n,l="",d=.5*u,f=0;f<n;f+=1){var p=d+f*u,h=Math.cos(p)*i,m=Math.sin(p)*i;l+="L "+h.toFixed(3)+" "+m.toFixed(3)+" "}var g={label:"Polygon Body",position:{x:e,y:t},vertices:o.fromPath(l)};if(c.chamfer){var v=c.chamfer;g.vertices=o.chamfer(g.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete c.chamfer}return a.create(s.extend({},g,c))},r.fromVertices=function(e,t,n,r,l,d,f){var p,h,m,g,v,y,b,_,x;for(i||(i=s._requireGlobal("decomp","poly-decomp")),r=r||{},h=[],l=void 0!==l&&l,d=void 0!==d?d:.01,f=void 0!==f?f:10,i||s.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),s.isArray(n[0])||(n=[n]),_=0;_<n.length;_+=1)if(g=n[_],(m=o.isConvex(g))||!i)g=m?o.clockwiseSort(g):o.hull(g),h.push({position:{x:e,y:t},vertices:g});else{var w=g.map((function(e){return[e.x,e.y]}));i.makeCCW(w),!1!==d&&i.removeCollinearPoints(w,d);var S=i.quickDecomp(w);for(v=0;v<S.length;v++){var A=S[v].map((function(e){return{x:e[0],y:e[1]}}));f>0&&o.area(A)<f||h.push({position:o.centre(A),vertices:A})}}for(v=0;v<h.length;v++)h[v]=a.create(s.extend(h[v],r));if(l)for(v=0;v<h.length;v++){var C=h[v];for(y=v+1;y<h.length;y++){var O=h[y];if(c.overlaps(C.bounds,O.bounds)){var k=C.vertices,j=O.vertices;for(b=0;b<C.vertices.length;b++)for(x=0;x<O.vertices.length;x++){var E=u.magnitudeSquared(u.sub(k[(b+1)%k.length],j[x])),T=u.magnitudeSquared(u.sub(k[b],j[(x+1)%j.length]));E<5&&T<5&&(k[b].isInternal=!0,j[x].isInternal=!0)}}}}return h.length>1?(p=a.create(s.extend({parts:h.slice(0)},r)),a.setPosition(p,{x:e,y:t}),p):h[0]}},{"../body/Body":1,"../core/Common":14,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],24:[function(e,t,n){var r={};t.exports=r;var i=e("../body/Composite"),o=e("../constraint/Constraint"),s=e("../core/Common"),a=e("../body/Body"),c=e("./Bodies");r.stack=function(e,t,n,r,o,s,c){for(var u,l=i.create({label:"Stack"}),d=e,f=t,p=0,h=0;h<r;h++){for(var m=0,g=0;g<n;g++){var v=c(d,f,g,h,u,p);if(v){var y=v.bounds.max.y-v.bounds.min.y,b=v.bounds.max.x-v.bounds.min.x;y>m&&(m=y),a.translate(v,{x:.5*b,y:.5*y}),d=v.bounds.max.x+o,i.addBody(l,v),u=v,p+=1}else d+=o}f+=m+s,d=e}return l},r.chain=function(e,t,n,r,a,c){for(var u=e.bodies,l=1;l<u.length;l++){var d=u[l-1],f=u[l],p=d.bounds.max.y-d.bounds.min.y,h=d.bounds.max.x-d.bounds.min.x,m=f.bounds.max.y-f.bounds.min.y,g={bodyA:d,pointA:{x:h*t,y:p*n},bodyB:f,pointB:{x:(f.bounds.max.x-f.bounds.min.x)*r,y:m*a}},v=s.extend(g,c);i.addConstraint(e,o.create(v))}return e.label+=" Chain",e},r.mesh=function(e,t,n,r,a){var c,u,l,d,f,p=e.bodies;for(c=0;c<n;c++){for(u=1;u<t;u++)l=p[u-1+c*t],d=p[u+c*t],i.addConstraint(e,o.create(s.extend({bodyA:l,bodyB:d},a)));if(c>0)for(u=0;u<t;u++)l=p[u+(c-1)*t],d=p[u+c*t],i.addConstraint(e,o.create(s.extend({bodyA:l,bodyB:d},a))),r&&u>0&&(f=p[u-1+(c-1)*t],i.addConstraint(e,o.create(s.extend({bodyA:f,bodyB:d},a)))),r&&u<t-1&&(f=p[u+1+(c-1)*t],i.addConstraint(e,o.create(s.extend({bodyA:f,bodyB:d},a))))}return e.label+=" Mesh",e},r.pyramid=function(e,t,n,i,o,s,c){return r.stack(e,t,n,i,o,s,(function(t,r,s,u,l,d){var f=Math.min(i,Math.ceil(n/2)),p=l?l.bounds.max.x-l.bounds.min.x:0;if(!(u>f||s<(u=f-u)||s>n-1-u))return 1===d&&a.translate(l,{x:(s+(n%2==1?1:-1))*p,y:0}),c(e+(l?s*p:0)+s*o,r,s,u,l,d)}))},r.newtonsCradle=function(e,t,n,r,s){for(var a=i.create({label:"Newtons Cradle"}),u=0;u<n;u++){var l=c.circle(e+u*(1.9*r),t+s,r,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),d=o.create({pointA:{x:e+u*(1.9*r),y:t},bodyB:l});i.addBody(a,l),i.addConstraint(a,d)}return a},r.car=function(e,t,n,r,s){var u=a.nextGroup(!0),l=.5*-n+20,d=.5*n-20,f=i.create({label:"Car"}),p=c.rectangle(e,t,n,r,{collisionFilter:{group:u},chamfer:{radius:.5*r},density:2e-4}),h=c.circle(e+l,t+0,s,{collisionFilter:{group:u},friction:.8}),m=c.circle(e+d,t+0,s,{collisionFilter:{group:u},friction:.8}),g=o.create({bodyB:p,pointB:{x:l,y:0},bodyA:h,stiffness:1,length:0}),v=o.create({bodyB:p,pointB:{x:d,y:0},bodyA:m,stiffness:1,length:0});return i.addBody(f,p),i.addBody(f,h),i.addBody(f,m),i.addConstraint(f,g),i.addConstraint(f,v),f},r.softBody=function(e,t,n,i,o,a,u,l,d,f){d=s.extend({inertia:1/0},d),f=s.extend({stiffness:.2,render:{type:"line",anchors:!1}},f);var p=r.stack(e,t,n,i,o,a,(function(e,t){return c.circle(e,t,l,d)}));return r.mesh(p,n,i,u,f),p.label="Soft Body",p}},{"../body/Body":1,"../body/Composite":2,"../constraint/Constraint":12,"../core/Common":14,"./Bodies":23}],25:[function(e,t,n){var r={};t.exports=r;var i=e("../geometry/Vector"),o=e("../core/Common");r.fromVertices=function(e){for(var t={},n=0;n<e.length;n++){var r=(n+1)%e.length,s=i.normalise({x:e[r].y-e[n].y,y:e[n].x-e[r].x}),a=0===s.y?1/0:s.x/s.y;t[a=a.toFixed(3).toString()]=s}return o.values(t)},r.rotate=function(e,t){if(0!==t)for(var n=Math.cos(t),r=Math.sin(t),i=0;i<e.length;i++){var o,s=e[i];o=s.x*n-s.y*r,s.y=s.x*r+s.y*n,s.x=o}}},{"../core/Common":14,"../geometry/Vector":28}],26:[function(e,t,n){var r={};t.exports=r,r.create=function(e){var t={min:{x:0,y:0},max:{x:0,y:0}};return e&&r.update(t,e),t},r.update=function(e,t,n){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var r=0;r<t.length;r++){var i=t[r];i.x>e.max.x&&(e.max.x=i.x),i.x<e.min.x&&(e.min.x=i.x),i.y>e.max.y&&(e.max.y=i.y),i.y<e.min.y&&(e.min.y=i.y)}n&&(n.x>0?e.max.x+=n.x:e.min.x+=n.x,n.y>0?e.max.y+=n.y:e.min.y+=n.y)},r.contains=function(e,t){return t.x>=e.min.x&&t.x<=e.max.x&&t.y>=e.min.y&&t.y<=e.max.y},r.overlaps=function(e,t){return e.min.x<=t.max.x&&e.max.x>=t.min.x&&e.max.y>=t.min.y&&e.min.y<=t.max.y},r.translate=function(e,t){e.min.x+=t.x,e.max.x+=t.x,e.min.y+=t.y,e.max.y+=t.y},r.shift=function(e,t){var n=e.max.x-e.min.x,r=e.max.y-e.min.y;e.min.x=t.x,e.max.x=t.x+n,e.min.y=t.y,e.max.y=t.y+r}},{}],27:[function(e,t,n){var r={};t.exports=r,e("../geometry/Bounds");var i=e("../core/Common");r.pathToVertices=function(e,t){"undefined"==typeof window||"SVGPathSeg"in window||i.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var n,o,s,a,c,u,l,d,f,p,h,m=[],g=0,v=0,y=0;t=t||15;var b=function(e,t,n){var r=n%2==1&&n>1;if(!f||e!=f.x||t!=f.y){f&&r?(p=f.x,h=f.y):(p=0,h=0);var i={x:p+e,y:h+t};!r&&f||(f=i),m.push(i),v=p+e,y=h+t}},_=function(e){var t=e.pathSegTypeAsLetter.toUpperCase();if("Z"!==t){switch(t){case"M":case"L":case"T":case"C":case"S":case"Q":v=e.x,y=e.y;break;case"H":v=e.x;break;case"V":y=e.y}b(v,y,e.pathSegType)}};for(r._svgPathToAbsolute(e),s=e.getTotalLength(),u=[],n=0;n<e.pathSegList.numberOfItems;n+=1)u.push(e.pathSegList.getItem(n));for(l=u.concat();g<s;){if((c=u[e.getPathSegAtLength(g)])!=d){for(;l.length&&l[0]!=c;)_(l.shift());d=c}switch(c.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":a=e.getPointAtLength(g),b(a.x,a.y,0)}g+=t}for(n=0,o=l.length;n<o;++n)_(l[n]);return m},r._svgPathToAbsolute=function(e){for(var t,n,r,i,o,s,a=e.pathSegList,c=0,u=0,l=a.numberOfItems,d=0;d<l;++d){var f=a.getItem(d),p=f.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(p))"x"in f&&(c=f.x),"y"in f&&(u=f.y);else switch("x1"in f&&(r=c+f.x1),"x2"in f&&(o=c+f.x2),"y1"in f&&(i=u+f.y1),"y2"in f&&(s=u+f.y2),"x"in f&&(c+=f.x),"y"in f&&(u+=f.y),p){case"m":a.replaceItem(e.createSVGPathSegMovetoAbs(c,u),d);break;case"l":a.replaceItem(e.createSVGPathSegLinetoAbs(c,u),d);break;case"h":a.replaceItem(e.createSVGPathSegLinetoHorizontalAbs(c),d);break;case"v":a.replaceItem(e.createSVGPathSegLinetoVerticalAbs(u),d);break;case"c":a.replaceItem(e.createSVGPathSegCurvetoCubicAbs(c,u,r,i,o,s),d);break;case"s":a.replaceItem(e.createSVGPathSegCurvetoCubicSmoothAbs(c,u,o,s),d);break;case"q":a.replaceItem(e.createSVGPathSegCurvetoQuadraticAbs(c,u,r,i),d);break;case"t":a.replaceItem(e.createSVGPathSegCurvetoQuadraticSmoothAbs(c,u),d);break;case"a":a.replaceItem(e.createSVGPathSegArcAbs(c,u,f.r1,f.r2,f.angle,f.largeArcFlag,f.sweepFlag),d);break;case"z":case"Z":c=t,u=n}"M"!=p&&"m"!=p||(t=c,n=u)}}},{"../core/Common":14,"../geometry/Bounds":26}],28:[function(e,t,n){var r={};t.exports=r,r.create=function(e,t){return{x:e||0,y:t||0}},r.clone=function(e){return{x:e.x,y:e.y}},r.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},r.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},r.rotate=function(e,t,n){var r=Math.cos(t),i=Math.sin(t);n||(n={});var o=e.x*r-e.y*i;return n.y=e.x*i+e.y*r,n.x=o,n},r.rotateAbout=function(e,t,n,r){var i=Math.cos(t),o=Math.sin(t);r||(r={});var s=n.x+((e.x-n.x)*i-(e.y-n.y)*o);return r.y=n.y+((e.x-n.x)*o+(e.y-n.y)*i),r.x=s,r},r.normalise=function(e){var t=r.magnitude(e);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},r.dot=function(e,t){return e.x*t.x+e.y*t.y},r.cross=function(e,t){return e.x*t.y-e.y*t.x},r.cross3=function(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)},r.add=function(e,t,n){return n||(n={}),n.x=e.x+t.x,n.y=e.y+t.y,n},r.sub=function(e,t,n){return n||(n={}),n.x=e.x-t.x,n.y=e.y-t.y,n},r.mult=function(e,t){return{x:e.x*t,y:e.y*t}},r.div=function(e,t){return{x:e.x/t,y:e.y/t}},r.perp=function(e,t){return{x:(t=!0===t?-1:1)*-e.y,y:t*e.x}},r.neg=function(e){return{x:-e.x,y:-e.y}},r.angle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},r._temp=[r.create(),r.create(),r.create(),r.create(),r.create(),r.create()]},{}],29:[function(e,t,n){var r={};t.exports=r;var i=e("../geometry/Vector"),o=e("../core/Common");r.create=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],o={x:i.x,y:i.y,index:r,body:t,isInternal:!1};n.push(o)}return n},r.fromPath=function(e,t){var n=[];return e.replace(/L?\s*([\-\d\.e]+)[\s,]*([\-\d\.e]+)*/gi,(function(e,t,r){n.push({x:parseFloat(t),y:parseFloat(r)})})),r.create(n,t)},r.centre=function(e){for(var t,n,o,s=r.area(e,!0),a={x:0,y:0},c=0;c<e.length;c++)o=(c+1)%e.length,t=i.cross(e[c],e[o]),n=i.mult(i.add(e[c],e[o]),t),a=i.add(a,n);return i.div(a,6*s)},r.mean=function(e){for(var t={x:0,y:0},n=0;n<e.length;n++)t.x+=e[n].x,t.y+=e[n].y;return i.div(t,e.length)},r.area=function(e,t){for(var n=0,r=e.length-1,i=0;i<e.length;i++)n+=(e[r].x-e[i].x)*(e[r].y+e[i].y),r=i;return t?n/2:Math.abs(n)/2},r.inertia=function(e,t){for(var n,r,o=0,s=0,a=e,c=0;c<a.length;c++)r=(c+1)%a.length,o+=(n=Math.abs(i.cross(a[r],a[c])))*(i.dot(a[r],a[r])+i.dot(a[r],a[c])+i.dot(a[c],a[c])),s+=n;return t/6*(o/s)},r.translate=function(e,t,n){var r;if(n)for(r=0;r<e.length;r++)e[r].x+=t.x*n,e[r].y+=t.y*n;else for(r=0;r<e.length;r++)e[r].x+=t.x,e[r].y+=t.y;return e},r.rotate=function(e,t,n){if(0!==t){for(var r=Math.cos(t),i=Math.sin(t),o=0;o<e.length;o++){var s=e[o],a=s.x-n.x,c=s.y-n.y;s.x=n.x+(a*r-c*i),s.y=n.y+(a*i+c*r)}return e}},r.contains=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=e[(n+1)%e.length];if((t.x-r.x)*(i.y-r.y)+(t.y-r.y)*(r.x-i.x)>0)return!1}return!0},r.scale=function(e,t,n,o){if(1===t&&1===n)return e;var s,a;o=o||r.centre(e);for(var c=0;c<e.length;c++)s=e[c],a=i.sub(s,o),e[c].x=o.x+a.x*t,e[c].y=o.y+a.y*n;return e},r.chamfer=function(e,t,n,r,s){t="number"==typeof t?[t]:t||[8],n=void 0!==n?n:-1,r=r||2,s=s||14;for(var a=[],c=0;c<e.length;c++){var u=e[c-1>=0?c-1:e.length-1],l=e[c],d=e[(c+1)%e.length],f=t[c<t.length?c:t.length-1];if(0!==f){var p=i.normalise({x:l.y-u.y,y:u.x-l.x}),h=i.normalise({x:d.y-l.y,y:l.x-d.x}),m=Math.sqrt(2*Math.pow(f,2)),g=i.mult(o.clone(p),f),v=i.normalise(i.mult(i.add(p,h),.5)),y=i.sub(l,i.mult(v,m)),b=n;-1===n&&(b=1.75*Math.pow(f,.32)),(b=o.clamp(b,r,s))%2==1&&(b+=1);for(var _=Math.acos(i.dot(p,h))/b,x=0;x<b;x++)a.push(i.add(i.rotate(g,_*x),y))}else a.push(l)}return a},r.clockwiseSort=function(e){var t=r.mean(e);return e.sort((function(e,n){return i.angle(t,e)-i.angle(t,n)})),e},r.isConvex=function(e){var t,n,r,i,o=0,s=e.length;if(s<3)return null;for(t=0;t<s;t++)if(r=(t+2)%s,i=(e[n=(t+1)%s].x-e[t].x)*(e[r].y-e[n].y),(i-=(e[n].y-e[t].y)*(e[r].x-e[n].x))<0?o|=1:i>0&&(o|=2),3===o)return!1;return 0!==o||null},r.hull=function(e){var t,n,r=[],o=[];for((e=e.slice(0)).sort((function(e,t){var n=e.x-t.x;return 0!==n?n:e.y-t.y})),n=0;n<e.length;n+=1){for(t=e[n];o.length>=2&&i.cross3(o[o.length-2],o[o.length-1],t)<=0;)o.pop();o.push(t)}for(n=e.length-1;n>=0;n-=1){for(t=e[n];r.length>=2&&i.cross3(r[r.length-2],r[r.length-1],t)<=0;)r.pop();r.push(t)}return r.pop(),o.pop(),r.concat(o)}},{"../core/Common":14,"../geometry/Vector":28}],30:[function(e,t,n){var r=t.exports=e("../core/Matter");r.Body=e("../body/Body"),r.Composite=e("../body/Composite"),r.World=e("../body/World"),r.Contact=e("../collision/Contact"),r.Detector=e("../collision/Detector"),r.Grid=e("../collision/Grid"),r.Pairs=e("../collision/Pairs"),r.Pair=e("../collision/Pair"),r.Query=e("../collision/Query"),r.Resolver=e("../collision/Resolver"),r.SAT=e("../collision/SAT"),r.Constraint=e("../constraint/Constraint"),r.MouseConstraint=e("../constraint/MouseConstraint"),r.Common=e("../core/Common"),r.Engine=e("../core/Engine"),r.Events=e("../core/Events"),r.Mouse=e("../core/Mouse"),r.Runner=e("../core/Runner"),r.Sleeping=e("../core/Sleeping"),r.Plugin=e("../core/Plugin"),r.Bodies=e("../factory/Bodies"),r.Composites=e("../factory/Composites"),r.Axes=e("../geometry/Axes"),r.Bounds=e("../geometry/Bounds"),r.Svg=e("../geometry/Svg"),r.Vector=e("../geometry/Vector"),r.Vertices=e("../geometry/Vertices"),r.Render=e("../render/Render"),r.RenderPixi=e("../render/RenderPixi"),r.World.add=r.Composite.add,r.World.remove=r.Composite.remove,r.World.addComposite=r.Composite.addComposite,r.World.addBody=r.Composite.addBody,r.World.addConstraint=r.Composite.addConstraint,r.World.clear=r.Composite.clear,r.Engine.run=r.Runner.run},{"../body/Body":1,"../body/Composite":2,"../body/World":3,"../collision/Contact":4,"../collision/Detector":5,"../collision/Grid":6,"../collision/Pair":7,"../collision/Pairs":8,"../collision/Query":9,"../collision/Resolver":10,"../collision/SAT":11,"../constraint/Constraint":12,"../constraint/MouseConstraint":13,"../core/Common":14,"../core/Engine":15,"../core/Events":16,"../core/Matter":17,"../core/Metrics":18,"../core/Mouse":19,"../core/Plugin":20,"../core/Runner":21,"../core/Sleeping":22,"../factory/Bodies":23,"../factory/Composites":24,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Svg":27,"../geometry/Vector":28,"../geometry/Vertices":29,"../render/Render":31,"../render/RenderPixi":32}],31:[function(e,t,n){var r={};t.exports=r;var i=e("../core/Common"),o=e("../body/Composite"),s=e("../geometry/Bounds"),a=e("../core/Events"),c=e("../collision/Grid"),u=e("../geometry/Vector"),l=e("../core/Mouse");!function(){var e,t;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout((function(){e(i.now())}),1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),r.create=function(e){var t={controller:r,engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,options:{width:800,height:600,pixelRatio:1,background:"#18181d",wireframeBackground:"#0f0f13",hasBounds:!!e.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},o=i.extend(t,e);return o.canvas&&(o.canvas.width=o.options.width||o.canvas.width,o.canvas.height=o.options.height||o.canvas.height),o.mouse=e.mouse,o.engine=e.engine,o.canvas=o.canvas||n(o.options.width,o.options.height),o.context=o.canvas.getContext("2d"),o.textures={},o.bounds=o.bounds||{min:{x:0,y:0},max:{x:o.canvas.width,y:o.canvas.height}},1!==o.options.pixelRatio&&r.setPixelRatio(o,o.options.pixelRatio),i.isElement(o.element)?o.element.appendChild(o.canvas):o.canvas.parentNode||i.log("Render.create: options.element was undefined, render.canvas was created but not appended","warn"),o},r.run=function(t){!function n(i){t.frameRequestId=e(n),r.world(t)}()},r.stop=function(e){t(e.frameRequestId)},r.setPixelRatio=function(e,t){var n=e.options,r=e.canvas;"auto"===t&&(t=d(r)),n.pixelRatio=t,r.setAttribute("data-pixel-ratio",t),r.width=n.width*t,r.height=n.height*t,r.style.width=n.width+"px",r.style.height=n.height+"px",e.context.scale(t,t)},r.lookAt=function(e,t,n,r){r=void 0===r||r,t=i.isArray(t)?t:[t],n=n||{x:0,y:0};for(var o={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},s=0;s<t.length;s+=1){var a=t[s],c=a.bounds?a.bounds.min:a.min||a.position||a,u=a.bounds?a.bounds.max:a.max||a.position||a;c&&u&&(c.x<o.min.x&&(o.min.x=c.x),u.x>o.max.x&&(o.max.x=u.x),c.y<o.min.y&&(o.min.y=c.y),u.y>o.max.y&&(o.max.y=u.y))}var d=o.max.x-o.min.x+2*n.x,f=o.max.y-o.min.y+2*n.y,p=e.canvas.height,h=e.canvas.width/p,m=d/f,g=1,v=1;m>h?v=m/h:g=h/m,e.options.hasBounds=!0,e.bounds.min.x=o.min.x,e.bounds.max.x=o.min.x+d*g,e.bounds.min.y=o.min.y,e.bounds.max.y=o.min.y+f*v,r&&(e.bounds.min.x+=.5*d-d*g*.5,e.bounds.max.x+=.5*d-d*g*.5,e.bounds.min.y+=.5*f-f*v*.5,e.bounds.max.y+=.5*f-f*v*.5),e.bounds.min.x-=n.x,e.bounds.max.x-=n.x,e.bounds.min.y-=n.y,e.bounds.max.y-=n.y,e.mouse&&(l.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height}),l.setOffset(e.mouse,e.bounds.min))},r.startViewTransform=function(e){var t=e.bounds.max.x-e.bounds.min.x,n=e.bounds.max.y-e.bounds.min.y,r=t/e.options.width,i=n/e.options.height;e.context.scale(1/r,1/i),e.context.translate(-e.bounds.min.x,-e.bounds.min.y)},r.endViewTransform=function(e){e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0)},r.world=function(e){var t,n=e.engine,i=n.world,d=e.canvas,f=e.context,h=e.options,m=o.allBodies(i),g=o.allConstraints(i),v=h.wireframes?h.wireframeBackground:h.background,y=[],b=[],_={timestamp:n.timing.timestamp};if(a.trigger(e,"beforeRender",_),e.currentBackground!==v&&p(e,v),f.globalCompositeOperation="source-in",f.fillStyle="transparent",f.fillRect(0,0,d.width,d.height),f.globalCompositeOperation="source-over",h.hasBounds){for(t=0;t<m.length;t++){var x=m[t];s.overlaps(x.bounds,e.bounds)&&y.push(x)}for(t=0;t<g.length;t++){var w=g[t],S=w.bodyA,A=w.bodyB,C=w.pointA,O=w.pointB;S&&(C=u.add(S.position,w.pointA)),A&&(O=u.add(A.position,w.pointB)),C&&O&&(s.contains(e.bounds,C)||s.contains(e.bounds,O))&&b.push(w)}r.startViewTransform(e),e.mouse&&(l.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height}),l.setOffset(e.mouse,e.bounds.min))}else b=g,y=m;!h.wireframes||n.enableSleeping&&h.showSleeping?r.bodies(e,y,f):(h.showConvexHulls&&r.bodyConvexHulls(e,y,f),r.bodyWireframes(e,y,f)),h.showBounds&&r.bodyBounds(e,y,f),(h.showAxes||h.showAngleIndicator)&&r.bodyAxes(e,y,f),h.showPositions&&r.bodyPositions(e,y,f),h.showVelocity&&r.bodyVelocity(e,y,f),h.showIds&&r.bodyIds(e,y,f),h.showSeparations&&r.separations(e,n.pairs.list,f),h.showCollisions&&r.collisions(e,n.pairs.list,f),h.showVertexNumbers&&r.vertexNumbers(e,y,f),h.showMousePosition&&r.mousePosition(e,e.mouse,f),r.constraints(b,f),h.showBroadphase&&n.broadphase.controller===c&&r.grid(e,n.broadphase,f),h.showDebug&&r.debug(e,f),h.hasBounds&&r.endViewTransform(e),a.trigger(e,"afterRender",_)},r.debug=function(e,t){var n=t,r=e.engine,i=r.world,s=r.metrics,a=e.options;if(o.allBodies(i),r.timing.timestamp-(e.debugTimestamp||0)>=500){var c="";s.timing&&(c+="fps: "+Math.round(s.timing.fps)+"    "),e.debugString=c,e.debugTimestamp=r.timing.timestamp}if(e.debugString){n.font="12px Arial",a.wireframes?n.fillStyle="rgba(255,255,255,0.5)":n.fillStyle="rgba(0,0,0,0.5)";for(var u=e.debugString.split("\n"),l=0;l<u.length;l++)n.fillText(u[l],50,50+18*l)}},r.constraints=function(e,t){for(var n=t,r=0;r<e.length;r++){var o=e[r];if(o.render.visible&&o.pointA&&o.pointB){var s,a,c=o.bodyA,l=o.bodyB;if(s=c?u.add(c.position,o.pointA):o.pointA,"pin"===o.render.type)n.beginPath(),n.arc(s.x,s.y,3,0,2*Math.PI),n.closePath();else{if(a=l?u.add(l.position,o.pointB):o.pointB,n.beginPath(),n.moveTo(s.x,s.y),"spring"===o.render.type)for(var d,f=u.sub(a,s),p=u.perp(u.normalise(f)),h=Math.ceil(i.clamp(o.length/5,12,20)),m=1;m<h;m+=1)d=m%2==0?1:-1,n.lineTo(s.x+f.x*(m/h)+p.x*d*4,s.y+f.y*(m/h)+p.y*d*4);n.lineTo(a.x,a.y)}o.render.lineWidth&&(n.lineWidth=o.render.lineWidth,n.strokeStyle=o.render.strokeStyle,n.stroke()),o.render.anchors&&(n.fillStyle=o.render.strokeStyle,n.beginPath(),n.arc(s.x,s.y,3,0,2*Math.PI),n.arc(a.x,a.y,3,0,2*Math.PI),n.closePath(),n.fill())}}},r.bodyShadows=function(e,t,n){for(var r=n,i=(e.engine,0);i<t.length;i++){var o=t[i];if(o.render.visible){if(o.circleRadius)r.beginPath(),r.arc(o.position.x,o.position.y,o.circleRadius,0,2*Math.PI),r.closePath();else{r.beginPath(),r.moveTo(o.vertices[0].x,o.vertices[0].y);for(var s=1;s<o.vertices.length;s++)r.lineTo(o.vertices[s].x,o.vertices[s].y);r.closePath()}var a=o.position.x-.5*e.options.width,c=o.position.y-.2*e.options.height,u=Math.abs(a)+Math.abs(c);r.shadowColor="rgba(0,0,0,0.15)",r.shadowOffsetX=.05*a,r.shadowOffsetY=.05*c,r.shadowBlur=1+12*Math.min(1,u/1e3),r.fill(),r.shadowColor=null,r.shadowOffsetX=null,r.shadowOffsetY=null,r.shadowBlur=null}}},r.bodies=function(e,t,n){var r,i,o,s,a=n,c=(e.engine,e.options),u=c.showInternalEdges||!c.wireframes;for(o=0;o<t.length;o++)if((r=t[o]).render.visible)for(s=r.parts.length>1?1:0;s<r.parts.length;s++)if((i=r.parts[s]).render.visible){if(c.showSleeping&&r.isSleeping?a.globalAlpha=.5*i.render.opacity:1!==i.render.opacity&&(a.globalAlpha=i.render.opacity),i.render.sprite&&i.render.sprite.texture&&!c.wireframes){var l=i.render.sprite,d=f(e,l.texture);a.translate(i.position.x,i.position.y),a.rotate(i.angle),a.drawImage(d,d.width*-l.xOffset*l.xScale,d.height*-l.yOffset*l.yScale,d.width*l.xScale,d.height*l.yScale),a.rotate(-i.angle),a.translate(-i.position.x,-i.position.y)}else{if(i.circleRadius)a.beginPath(),a.arc(i.position.x,i.position.y,i.circleRadius,0,2*Math.PI);else{a.beginPath(),a.moveTo(i.vertices[0].x,i.vertices[0].y);for(var p=1;p<i.vertices.length;p++)!i.vertices[p-1].isInternal||u?a.lineTo(i.vertices[p].x,i.vertices[p].y):a.moveTo(i.vertices[p].x,i.vertices[p].y),i.vertices[p].isInternal&&!u&&a.moveTo(i.vertices[(p+1)%i.vertices.length].x,i.vertices[(p+1)%i.vertices.length].y);a.lineTo(i.vertices[0].x,i.vertices[0].y),a.closePath()}c.wireframes?(a.lineWidth=1,a.strokeStyle="#bbb",a.stroke()):(a.fillStyle=i.render.fillStyle,i.render.lineWidth&&(a.lineWidth=i.render.lineWidth,a.strokeStyle=i.render.strokeStyle,a.stroke()),a.fill())}a.globalAlpha=1}},r.bodyWireframes=function(e,t,n){var r,i,o,s,a,c=n,u=e.options.showInternalEdges;for(c.beginPath(),o=0;o<t.length;o++)if((r=t[o]).render.visible)for(a=r.parts.length>1?1:0;a<r.parts.length;a++){for(i=r.parts[a],c.moveTo(i.vertices[0].x,i.vertices[0].y),s=1;s<i.vertices.length;s++)!i.vertices[s-1].isInternal||u?c.lineTo(i.vertices[s].x,i.vertices[s].y):c.moveTo(i.vertices[s].x,i.vertices[s].y),i.vertices[s].isInternal&&!u&&c.moveTo(i.vertices[(s+1)%i.vertices.length].x,i.vertices[(s+1)%i.vertices.length].y);c.lineTo(i.vertices[0].x,i.vertices[0].y)}c.lineWidth=1,c.strokeStyle="#bbb",c.stroke()},r.bodyConvexHulls=function(e,t,n){var r,i,o,s=n;for(s.beginPath(),i=0;i<t.length;i++)if((r=t[i]).render.visible&&1!==r.parts.length){for(s.moveTo(r.vertices[0].x,r.vertices[0].y),o=1;o<r.vertices.length;o++)s.lineTo(r.vertices[o].x,r.vertices[o].y);s.lineTo(r.vertices[0].x,r.vertices[0].y)}s.lineWidth=1,s.strokeStyle="rgba(255,255,255,0.2)",s.stroke()},r.vertexNumbers=function(e,t,n){var r,i,o,s=n;for(r=0;r<t.length;r++){var a=t[r].parts;for(o=a.length>1?1:0;o<a.length;o++){var c=a[o];for(i=0;i<c.vertices.length;i++)s.fillStyle="rgba(255,255,255,0.2)",s.fillText(r+"_"+i,c.position.x+.8*(c.vertices[i].x-c.position.x),c.position.y+.8*(c.vertices[i].y-c.position.y))}}},r.mousePosition=function(e,t,n){var r=n;r.fillStyle="rgba(255,255,255,0.8)",r.fillText(t.position.x+"  "+t.position.y,t.position.x+5,t.position.y-5)},r.bodyBounds=function(e,t,n){var r=n,i=(e.engine,e.options);r.beginPath();for(var o=0;o<t.length;o++)if(t[o].render.visible)for(var s=t[o].parts,a=s.length>1?1:0;a<s.length;a++){var c=s[a];r.rect(c.bounds.min.x,c.bounds.min.y,c.bounds.max.x-c.bounds.min.x,c.bounds.max.y-c.bounds.min.y)}i.wireframes?r.strokeStyle="rgba(255,255,255,0.08)":r.strokeStyle="rgba(0,0,0,0.1)",r.lineWidth=1,r.stroke()},r.bodyAxes=function(e,t,n){var r,i,o,s,a=n,c=(e.engine,e.options);for(a.beginPath(),i=0;i<t.length;i++){var u=t[i],l=u.parts;if(u.render.visible)if(c.showAxes)for(o=l.length>1?1:0;o<l.length;o++)for(r=l[o],s=0;s<r.axes.length;s++){var d=r.axes[s];a.moveTo(r.position.x,r.position.y),a.lineTo(r.position.x+20*d.x,r.position.y+20*d.y)}else for(o=l.length>1?1:0;o<l.length;o++)for(r=l[o],s=0;s<r.axes.length;s++)a.moveTo(r.position.x,r.position.y),a.lineTo((r.vertices[0].x+r.vertices[r.vertices.length-1].x)/2,(r.vertices[0].y+r.vertices[r.vertices.length-1].y)/2)}c.wireframes?(a.strokeStyle="indianred",a.lineWidth=1):(a.strokeStyle="rgba(255, 255, 255, 0.4)",a.globalCompositeOperation="overlay",a.lineWidth=2),a.stroke(),a.globalCompositeOperation="source-over"},r.bodyPositions=function(e,t,n){var r,i,o,s,a=n,c=(e.engine,e.options);for(a.beginPath(),o=0;o<t.length;o++)if((r=t[o]).render.visible)for(s=0;s<r.parts.length;s++)i=r.parts[s],a.arc(i.position.x,i.position.y,3,0,2*Math.PI,!1),a.closePath();for(c.wireframes?a.fillStyle="indianred":a.fillStyle="rgba(0,0,0,0.5)",a.fill(),a.beginPath(),o=0;o<t.length;o++)(r=t[o]).render.visible&&(a.arc(r.positionPrev.x,r.positionPrev.y,2,0,2*Math.PI,!1),a.closePath());a.fillStyle="rgba(255,165,0,0.8)",a.fill()},r.bodyVelocity=function(e,t,n){var r=n;r.beginPath();for(var i=0;i<t.length;i++){var o=t[i];o.render.visible&&(r.moveTo(o.position.x,o.position.y),r.lineTo(o.position.x+2*(o.position.x-o.positionPrev.x),o.position.y+2*(o.position.y-o.positionPrev.y)))}r.lineWidth=3,r.strokeStyle="cornflowerblue",r.stroke()},r.bodyIds=function(e,t,n){var r,i,o=n;for(r=0;r<t.length;r++)if(t[r].render.visible){var s=t[r].parts;for(i=s.length>1?1:0;i<s.length;i++){var a=s[i];o.font="12px Arial",o.fillStyle="rgba(255,255,255,0.5)",o.fillText(a.id,a.position.x+10,a.position.y-10)}}},r.collisions=function(e,t,n){var r,i,o,s,a=n,c=e.options;for(a.beginPath(),o=0;o<t.length;o++)if((r=t[o]).isActive)for(i=r.collision,s=0;s<r.activeContacts.length;s++){var u=r.activeContacts[s].vertex;a.rect(u.x-1.5,u.y-1.5,3.5,3.5)}for(c.wireframes?a.fillStyle="rgba(255,255,255,0.7)":a.fillStyle="orange",a.fill(),a.beginPath(),o=0;o<t.length;o++)if((r=t[o]).isActive&&(i=r.collision,r.activeContacts.length>0)){var l=r.activeContacts[0].vertex.x,d=r.activeContacts[0].vertex.y;2===r.activeContacts.length&&(l=(r.activeContacts[0].vertex.x+r.activeContacts[1].vertex.x)/2,d=(r.activeContacts[0].vertex.y+r.activeContacts[1].vertex.y)/2),i.bodyB===i.supports[0].body||!0===i.bodyA.isStatic?a.moveTo(l-8*i.normal.x,d-8*i.normal.y):a.moveTo(l+8*i.normal.x,d+8*i.normal.y),a.lineTo(l,d)}c.wireframes?a.strokeStyle="rgba(255,165,0,0.7)":a.strokeStyle="orange",a.lineWidth=1,a.stroke()},r.separations=function(e,t,n){var r,i,o,s,a,c=n,u=e.options;for(c.beginPath(),a=0;a<t.length;a++)if((r=t[a]).isActive){o=(i=r.collision).bodyA;var l=1;(s=i.bodyB).isStatic||o.isStatic||(l=.5),s.isStatic&&(l=0),c.moveTo(s.position.x,s.position.y),c.lineTo(s.position.x-i.penetration.x*l,s.position.y-i.penetration.y*l),l=1,s.isStatic||o.isStatic||(l=.5),o.isStatic&&(l=0),c.moveTo(o.position.x,o.position.y),c.lineTo(o.position.x+i.penetration.x*l,o.position.y+i.penetration.y*l)}u.wireframes?c.strokeStyle="rgba(255,165,0,0.5)":c.strokeStyle="orange",c.stroke()},r.grid=function(e,t,n){var r=n;e.options.wireframes?r.strokeStyle="rgba(255,180,0,0.1)":r.strokeStyle="rgba(255,180,0,0.5)",r.beginPath();for(var o=i.keys(t.buckets),s=0;s<o.length;s++){var a=o[s];if(!(t.buckets[a].length<2)){var c=a.split(/C|R/);r.rect(.5+parseInt(c[1],10)*t.bucketWidth,.5+parseInt(c[2],10)*t.bucketHeight,t.bucketWidth,t.bucketHeight)}}r.lineWidth=1,r.stroke()},r.inspector=function(e,t){e.engine;var n,r=e.selected,i=e.render,o=i.options;if(o.hasBounds){var s=i.bounds.max.x-i.bounds.min.x,a=i.bounds.max.y-i.bounds.min.y,c=s/i.options.width,u=a/i.options.height;t.scale(1/c,1/u),t.translate(-i.bounds.min.x,-i.bounds.min.y)}for(var l=0;l<r.length;l++){var d=r[l].data;switch(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.9)",t.setLineDash([1,2]),d.type){case"body":n=d.bounds,t.beginPath(),t.rect(Math.floor(n.min.x-3),Math.floor(n.min.y-3),Math.floor(n.max.x-n.min.x+6),Math.floor(n.max.y-n.min.y+6)),t.closePath(),t.stroke();break;case"constraint":var f=d.pointA;d.bodyA&&(f=d.pointB),t.beginPath(),t.arc(f.x,f.y,10,0,2*Math.PI),t.closePath(),t.stroke()}t.setLineDash([]),t.translate(-.5,-.5)}null!==e.selectStart&&(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.6)",t.fillStyle="rgba(255,165,0,0.1)",n=e.selectBounds,t.beginPath(),t.rect(Math.floor(n.min.x),Math.floor(n.min.y),Math.floor(n.max.x-n.min.x),Math.floor(n.max.y-n.min.y)),t.closePath(),t.stroke(),t.fill(),t.translate(-.5,-.5)),o.hasBounds&&t.setTransform(1,0,0,1,0,0)};var n=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n.oncontextmenu=function(){return!1},n.onselectstart=function(){return!1},n},d=function(e){var t=e.getContext("2d");return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},f=function(e,t){var n=e.textures[t];return n||((n=e.textures[t]=new Image).src=t,n)},p=function(e,t){var n=t;/(jpg|gif|png)$/.test(t)&&(n="url("+t+")"),e.canvas.style.background=n,e.canvas.style.backgroundSize="contain",e.currentBackground=t}}()},{"../body/Composite":2,"../collision/Grid":6,"../core/Common":14,"../core/Events":16,"../core/Mouse":19,"../geometry/Bounds":26,"../geometry/Vector":28}],32:[function(e,t,n){var r={};t.exports=r;var i=e("../geometry/Bounds"),o=e("../body/Composite"),s=e("../core/Common"),a=e("../core/Events"),c=e("../geometry/Vector");!function(){var e,t;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout((function(){e(s.now())}),1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),r.create=function(e){s.warn("RenderPixi.create: Matter.RenderPixi is deprecated (see docs)");var t={controller:r,engine:null,element:null,frameRequestId:null,canvas:null,renderer:null,container:null,spriteContainer:null,pixiOptions:null,options:{width:800,height:600,background:"#fafafa",wireframeBackground:"#222",hasBounds:!1,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1}},n=s.extend(t,e),i=!n.options.wireframes&&"transparent"===n.options.background;return n.pixiOptions=n.pixiOptions||{view:n.canvas,transparent:i,antialias:!0,backgroundColor:e.background},n.mouse=e.mouse,n.engine=e.engine,n.renderer=n.renderer||new PIXI.WebGLRenderer(n.options.width,n.options.height,n.pixiOptions),n.container=n.container||new PIXI.Container,n.spriteContainer=n.spriteContainer||new PIXI.Container,n.canvas=n.canvas||n.renderer.view,n.bounds=n.bounds||{min:{x:0,y:0},max:{x:n.options.width,y:n.options.height}},a.on(n.engine,"beforeUpdate",(function(){r.clear(n)})),n.textures={},n.sprites={},n.primitives={},n.container.addChild(n.spriteContainer),s.isElement(n.element)?n.element.appendChild(n.canvas):s.warn('No "render.element" passed, "render.canvas" was not inserted into document.'),n.canvas.oncontextmenu=function(){return!1},n.canvas.onselectstart=function(){return!1},n},r.run=function(t){!function n(i){t.frameRequestId=e(n),r.world(t)}()},r.stop=function(e){t(e.frameRequestId)},r.clear=function(e){for(var t=e.container,n=e.spriteContainer;t.children[0];)t.removeChild(t.children[0]);for(;n.children[0];)n.removeChild(n.children[0]);var r=e.sprites["bg-0"];e.textures={},e.sprites={},e.primitives={},e.sprites["bg-0"]=r,r&&t.addChildAt(r,0),e.container.addChild(e.spriteContainer),e.currentBackground=null,t.scale.set(1,1),t.position.set(0,0)},r.setBackground=function(e,t){if(e.currentBackground!==t){var n=t.indexOf&&-1!==t.indexOf("#"),r=e.sprites["bg-0"];if(n){var i=s.colorToNumber(t);e.renderer.backgroundColor=i,r&&e.container.removeChild(r)}else if(!r){var o=l(e,t);(r=e.sprites["bg-0"]=new PIXI.Sprite(o)).position.x=0,r.position.y=0,e.container.addChildAt(r,0)}e.currentBackground=t}},r.world=function(e){var t,n=e.engine.world,s=e.renderer,a=e.container,u=e.options,l=o.allBodies(n),d=o.allConstraints(n),f=[];u.wireframes?r.setBackground(e,u.wireframeBackground):r.setBackground(e,u.background);var p=e.bounds.max.x-e.bounds.min.x,h=e.bounds.max.y-e.bounds.min.y,m=p/e.options.width,g=h/e.options.height;if(u.hasBounds){for(t=0;t<l.length;t++){var v=l[t];v.render.sprite.visible=i.overlaps(v.bounds,e.bounds)}for(t=0;t<d.length;t++){var y=d[t],b=y.bodyA,_=y.bodyB,x=y.pointA,w=y.pointB;b&&(x=c.add(b.position,y.pointA)),_&&(w=c.add(_.position,y.pointB)),x&&w&&(i.contains(e.bounds,x)||i.contains(e.bounds,w))&&f.push(y)}a.scale.set(1/m,1/g),a.position.set(-e.bounds.min.x*(1/m),-e.bounds.min.y*(1/g))}else f=d;for(t=0;t<l.length;t++)r.body(e,l[t]);for(t=0;t<f.length;t++)r.constraint(e,f[t]);s.render(a)},r.constraint=function(e,t){e.engine;var n=t.bodyA,r=t.bodyB,i=t.pointA,o=t.pointB,a=e.container,c=t.render,u="c-"+t.id,l=e.primitives[u];l||(l=e.primitives[u]=new PIXI.Graphics),c.visible&&t.pointA&&t.pointB?(-1===s.indexOf(a.children,l)&&a.addChild(l),l.clear(),l.beginFill(0,0),l.lineStyle(c.lineWidth,s.colorToNumber(c.strokeStyle),1),n?l.moveTo(n.position.x+i.x,n.position.y+i.y):l.moveTo(i.x,i.y),r?l.lineTo(r.position.x+o.x,r.position.y+o.y):l.lineTo(o.x,o.y),l.endFill()):l.clear()},r.body=function(e,t){e.engine;var r=t.render;if(r.visible)if(r.sprite&&r.sprite.texture){var i="b-"+t.id,o=e.sprites[i],a=e.spriteContainer;o||(o=e.sprites[i]=n(e,t)),-1===s.indexOf(a.children,o)&&a.addChild(o),o.position.x=t.position.x,o.position.y=t.position.y,o.rotation=t.angle,o.scale.x=r.sprite.xScale||1,o.scale.y=r.sprite.yScale||1}else{var c="b-"+t.id,l=e.primitives[c],d=e.container;l||((l=e.primitives[c]=u(e,t)).initialAngle=t.angle),-1===s.indexOf(d.children,l)&&d.addChild(l),l.position.x=t.position.x,l.position.y=t.position.y,l.rotation=t.angle-l.initialAngle}};var n=function(e,t){var n=t.render.sprite.texture,r=l(e,n),i=new PIXI.Sprite(r);return i.anchor.x=t.render.sprite.xOffset,i.anchor.y=t.render.sprite.yOffset,i},u=function(e,t){var n,r=t.render,i=e.options,o=new PIXI.Graphics,a=s.colorToNumber(r.fillStyle),c=s.colorToNumber(r.strokeStyle),u=s.colorToNumber(r.strokeStyle),l=s.colorToNumber("#bbb"),d=s.colorToNumber("#CD5C5C");o.clear();for(var f=t.parts.length>1?1:0;f<t.parts.length;f++){n=t.parts[f],i.wireframes?(o.beginFill(0,0),o.lineStyle(1,l,1)):(o.beginFill(a,1),o.lineStyle(r.lineWidth,c,1)),o.moveTo(n.vertices[0].x-t.position.x,n.vertices[0].y-t.position.y);for(var p=1;p<n.vertices.length;p++)o.lineTo(n.vertices[p].x-t.position.x,n.vertices[p].y-t.position.y);o.lineTo(n.vertices[0].x-t.position.x,n.vertices[0].y-t.position.y),o.endFill(),(i.showAngleIndicator||i.showAxes)&&(o.beginFill(0,0),i.wireframes?o.lineStyle(1,d,1):o.lineStyle(1,u),o.moveTo(n.position.x-t.position.x,n.position.y-t.position.y),o.lineTo((n.vertices[0].x+n.vertices[n.vertices.length-1].x)/2-t.position.x,(n.vertices[0].y+n.vertices[n.vertices.length-1].y)/2-t.position.y),o.endFill())}return o},l=function(e,t){var n=e.textures[t];return n||(n=e.textures[t]=PIXI.Texture.fromImage(t)),n}}()},{"../body/Composite":2,"../core/Common":14,"../core/Events":16,"../geometry/Bounds":26,"../geometry/Vector":28}]},{},[30])(30)}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/global.js":function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"==typeof window&&(n=window)}e.exports=n},"./node_modules/what-input/dist/what-input.js":function(e,t,n){
/**
 * what-input - A global utility for tracking the current input method (mouse, keyboard or touch).
 * @version v5.2.10
 * @link https://github.com/ten1seven/what-input
 * @license MIT
 */
var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t){"use strict";e.exports=function(){if("undefined"==typeof document||"undefined"==typeof window)return{ask:function(){return"initial"},element:function(){return null},ignoreKeys:function(){},specificKeys:function(){},registerOnChange:function(){},unRegisterOnChange:function(){}};var e=document.documentElement,t=null,n="initial",r=n,i=Date.now(),o="false",s=["button","input","select","textarea"],a=[],c=[16,17,18,91,93],u=[],l={keydown:"keyboard",keyup:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch",touchend:"touch"},d=!1,f={x:null,y:null},p={2:"touch",3:"touch",4:"mouse"},h=!1;try{var m=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("test",null,m)}catch(T){}var g=function(){var e=!!h&&{passive:!0};document.addEventListener("DOMContentLoaded",v),window.PointerEvent?(window.addEventListener("pointerdown",y),window.addEventListener("pointermove",_)):window.MSPointerEvent?(window.addEventListener("MSPointerDown",y),window.addEventListener("MSPointerMove",_)):(window.addEventListener("mousedown",y),window.addEventListener("mousemove",_),"ontouchstart"in window&&(window.addEventListener("touchstart",y,e),window.addEventListener("touchend",y))),window.addEventListener(O(),_,e),window.addEventListener("keydown",y),window.addEventListener("keyup",y),window.addEventListener("focusin",x),window.addEventListener("focusout",w)},v=function(){if(o=!(e.getAttribute("data-whatpersist")||"false"===document.body.getAttribute("data-whatpersist")))try{window.sessionStorage.getItem("what-input")&&(n=window.sessionStorage.getItem("what-input")),window.sessionStorage.getItem("what-intent")&&(r=window.sessionStorage.getItem("what-intent"))}catch(T){}b("input"),b("intent")},y=function(e){var t=e.which,i=l[e.type];"pointer"===i&&(i=A(e));var o=!u.length&&-1===c.indexOf(t),a=u.length&&-1!==u.indexOf(t),d="keyboard"===i&&t&&(o||a)||"mouse"===i||"touch"===i;if(C(i)&&(d=!1),d&&n!==i&&(S("input",n=i),b("input")),d&&r!==i){var f=document.activeElement;f&&f.nodeName&&(-1===s.indexOf(f.nodeName.toLowerCase())||"button"===f.nodeName.toLowerCase()&&!E(f,"form"))&&(S("intent",r=i),b("intent"))}},b=function(t){e.setAttribute("data-what"+t,"input"===t?n:r),k(t)},_=function(e){var t=l[e.type];"pointer"===t&&(t=A(e)),j(e),(!d&&!C(t)||d&&"wheel"===e.type||"mousewheel"===e.type||"DOMMouseScroll"===e.type)&&r!==t&&(S("intent",r=t),b("intent"))},x=function(n){n.target.nodeName?(t=n.target.nodeName.toLowerCase(),e.setAttribute("data-whatelement",t),n.target.classList&&n.target.classList.length&&e.setAttribute("data-whatclasses",n.target.classList.toString().replace(" ",","))):w()},w=function(){t=null,e.removeAttribute("data-whatelement"),e.removeAttribute("data-whatclasses")},S=function(e,t){if(o)try{window.sessionStorage.setItem("what-"+e,t)}catch(T){}},A=function(e){return"number"==typeof e.pointerType?p[e.pointerType]:"pen"===e.pointerType?"touch":e.pointerType},C=function(e){var t=Date.now(),r="mouse"===e&&"touch"===n&&t-i<200;return i=t,r},O=function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"},k=function(e){for(var t=0,i=a.length;t<i;t++)a[t].type===e&&a[t].fn.call(void 0,"input"===e?n:r)},j=function(e){f.x!==e.screenX||f.y!==e.screenY?(d=!1,f.x=e.screenX,f.y=e.screenY):d=!0},E=function(e,t){var n=window.Element.prototype;if(n.matches||(n.matches=n.msMatchesSelector||n.webkitMatchesSelector),n.closest)return e.closest(t);do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null};return"addEventListener"in window&&Array.prototype.indexOf&&(l[O()]="mouse",g()),{ask:function(e){return"intent"===e?r:n},element:function(){return t},ignoreKeys:function(e){c=e},specificKeys:function(e){u=e},registerOnChange:function(e,t){a.push({fn:e,type:t||"input"})},unRegisterOnChange:function(e){var t=function(e){for(var t=0,n=a.length;t<n;t++)if(a[t].fn===e)return t}(e);(t||0===t)&&a.splice(t,1)},clearStorage:function(){window.sessionStorage.clear()}}}()}])},e.exports=r()}},[["./app/javascripts/application.js","runtime","vendors~application~blog~commerceplus~commerceplus_holding~compare~holiday_guides~partners~referrals~eef2dfe5","vendors~blog~commerceplus~commerceplus_holding~holiday_guides~partners~resources_landing~scripts~styleguide"]]]);
//# sourceMappingURL=scripts-379cbef2ed2a665802acd25337001afddf3bce6144608a57fd143eb78035f05a.js.map
